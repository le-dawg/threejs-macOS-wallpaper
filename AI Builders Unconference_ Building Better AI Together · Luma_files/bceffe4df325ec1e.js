;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="29c342bd-70df-50d4-453a-a97cdffd6430")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,171548,70355,451046,544712,157626,38891,222099,639298,e=>{"use strict";e.s(["EventPageFetcher",()=>ev,"EventPageProvider",()=>eg,"getInitialTicketTypeToSelection",()=>eb,"useEventPageContext",()=>ej],171548);var t,a,i=e.i(391398),s=e.i(398050),n=e.i(203828),r=e.i(191788),o=e.i(876412),l=e.i(956015),d=e.i(726531),c=e.i(672183),u=e.i(729506),m=e.i(988124),p=e.i(602533),f=e.i(685479),x=e.i(86316),h=e.i(145897),v=e.i(224631),g=e.i(136266),y=e.i(36846),b=e.i(101971),j=e.i(692303),_=e.i(829900),w=e.i(231436),T=e.i(581254),k=e.i(204177),N=e.i(378393),C=e.i(348688),S=e.i(343318),E=e.i(977470),A=e.i(424017),M=e.i(106946),P=e.i(82602),R=e.i(935010);let L=e=>{let{onTokenSigned:t,filters:a,label:s,disabled:n,fullWidth:r,size:o="medium",color:l="primary",icon:d}=e,c=(0,x.useT)(),u=(0,M.useModalState)();return(0,i.jsx)(R.EthereumSignMessageButton,{fullWidth:r,disabled:n,size:o,label:s,color:l,icon:d,onSignature:async e=>{let{address:i,signature:s,message:n}=e,r=null;try{let{tokens:e}=await C.APIClient.post("/ethereum/get-tokens",{address:i,filters:a});[r]=e}catch(e){(0,P.toastError)(c({defaultMessage:"There was an error fetching your tokens. Please try again later.",id:"4j0KrW",description:"Token ownership verification button. Error toast message."}));return}if(!r){(0,P.toastError)(c({defaultMessage:"We could not find the necessary token in your wallet.",id:"7xCjRm",description:"Token ownership verification button. Error toast message."})),u.onHide();return}try{t({token:r,message:n,owner_address:i,signature:s}),u.onHide()}catch(e){(0,P.toastError)(c({defaultMessage:"There was an error validating your address.",id:"2IT+Z1",description:"Token ownership verification button. Error toast message."}));return}}})},I=e=>{let{ticket_types:t,ticketTypeToSelection:a}=e,i=null;for(let e of t){var s,n;(null!=(n=null==(s=a[e.api_id])?void 0:s.count)?n:0)>0&&(i=i?i.concat(e.ethereum_token_requirements):e.ethereum_token_requirements)}return(null==i?void 0:i.length)===0&&(i=null),i};e.s(["GetTokenButton",0,e=>{let{req:t,label:a,onCryptoInfo:s,disabled:n,fullWidth:r,size:o="medium",color:l="primary",icon:d}=e,c=(0,x.useT)(),{user:u}=(0,_.useUserContext)();return u&&u.eth_address?(0,i.jsx)(A.LuxButton,{label:a,fullWidth:r,disabled:n,size:o,color:l,icon:d,onClick:async()=>{await (0,m.callWithToast)(async()=>{let{tokens:e}=await C.APIClient.post("/ethereum/get-tokens",{address:u.eth_address,filters:t}),[a]=e;if(a)s({token:a,owner_address:u.eth_address,auth_method:"user"});else throw Error("Could not find token")},{error:c({defaultMessage:"We could not find a valid token to register with.",id:"lqt7tu",description:"Token ownership verification button. Error toast message."}),success:c({defaultMessage:"Token ownership verified successfully!",id:"VlXTW5",description:"Token ownership verification button. Success toast message."})})}}):(0,i.jsx)(L,{fullWidth:r,filters:t,label:a,disabled:n,size:o,color:l,icon:d,onTokenSigned:e=>{let{token:t,message:a,signature:i,owner_address:n}=e;s({token:t,auth_method:"signature",message:a,owner_address:n,signature:i})}})},"getCryptoRequirement",0,I],70355),e.s(["TicketTypeSelector",()=>eu,"isTicketTypeAvailable",()=>ex,"shouldHideTicketTypeSelector",()=>em],639298);var B=e.i(359626),q=e.i(272043),U=e.i(620317),F=e.i(344731),z=e.i(497061),O=e.i(31197),W=e.i(78296),D=e.i(173766),V=e.i(426426),K=e.i(689795),Y=e.i(851800),Q=e.i(655794),H=e.i(361941),G=e.i(57316),Z=e.i(89685),J=e.i(657896);(t=a||(a={})).taxAmount=e=>{var t;let{amount:a,tax_config:i}=e;return i?Math.round((null!=(t=i.tax_percent)?t:0)/100*a):0},t.amountWithTax=e=>{let{amount:a,tax_config:i}=e;if(!i)return a;let s=t.taxAmount({amount:a,tax_config:i});return a+s},e.s(["TaxUtils",()=>a],451046);var X=e.i(268620);let $=e=>{let t=[],a={};for(let i of e||[]){let e=null;"erc-721"===i.type&&(e=ee({min_token_id:i.min_token_id,max_token_id:i.max_token_id})),"erc-20"===i.type&&(e=et({min_token_balance:i.min_token_balance,decimals:i.contract.decimals}));let s=i.contract.contract_address;null==a[s]?(a[s]=t.length,t.push({name:"erc-721"===i.contract.type?i.contract.contract_name:i.contract.contract_name||i.contract.symbol||i.contract.contract_address,desc:e,type:i.contract.type,address:i.contract.contract_address})):e?t[a[s]].desc&&(t[a[s]].desc+=", ".concat(e)):t[a[s]].desc=null}return t},ee=e=>{let{min_token_id:t,max_token_id:a}=e;return null==t&&null==a?null:t===a?"".concat(t):null==t?"".concat(a," or lower"):null==a?"".concat(t," or higher"):BigInt(t)>BigInt(a)?null:"".concat(t,"â€”").concat(a)},et=e=>{let{min_token_balance:t,decimals:a}=e;return t&&"0"!==t?"> ".concat(X.Ethereum.Erc20TokenAmount.toDisplay({decimals:a,amount:t})):null};e.s(["parseEventTokenFilters",0,$],544712);var ea=e.i(196084);let ei=e=>{let{ticketType:t,tiers:a,t:s,className:n}=e,r=t.membership_restriction;if(!r||"memberships"===r.type&&0===r.calendar_membership_tier_api_ids.length)return null;let o=s({defaultMessage:"Members-Only",id:"+s/Ycu",description:"Indicating that a ticket type is members-only."});if("memberships"===r.type){let e=r.calendar_membership_tier_api_ids.map(e=>{let t=a.find(t=>t.api_id===e);return t?t.name:null}).filter(e=>e);e.length>0&&(o=s({defaultMessage:"Members-Only: {tiers}",id:"nL4MKh",description:"Indicating that a ticket type is exclusive to certain membership tiers."},{tiers:e.join(s(Q.CT.Comma_Symbol))}))}return(0,i.jsxs)("div",{className:"jsx-bcc44a4dc464b5c3 "+((0,q.default)(n,"flex-center member-restriction")||""),children:[(0,i.jsx)("div",{className:"jsx-bcc44a4dc464b5c3 icon",children:(0,i.jsx)(ea.default,{})}),(0,i.jsx)("div",{className:"jsx-bcc44a4dc464b5c3",children:o}),(0,i.jsx)(B.default,{id:"bcc44a4dc464b5c3",children:".member-restriction.jsx-bcc44a4dc464b5c3{gap:.375rem}.icon.jsx-bcc44a4dc464b5c3 svg{width:.6875rem;height:.6875rem}"})]})};e.s(["TicketTypeMembershipRestriction",0,ei],157626);var es=e.i(512595),en=e.i(922323),er=e.i(132571),eo=e.i(257983);let el=e=>{let t,{ticket:a,className:n,showAvailable:r,useEventTzIfVirtual:o,event:l}=e,d=(0,x.useT)(),c=null!=a.max_capacity&&a.num_guests>=a.max_capacity,u=(0,V.useNow)(),m=a.valid_start_at?s.DateTime.fromISO(a.valid_start_at):null,p=a.valid_end_at?s.DateTime.fromISO(a.valid_end_at):null,f=!!(m&&u<m),h=!!(p&&u>p),v=l.location_type===eo.EventLocationType.Offline||o?l.timezone:(0,er.getTimezoneIana)();if(c)t=d(Q.CT.SoldOut);else if(m&&f)t=(0,i.jsx)(en.T,{defaultMessage:"Available starting {date}",id:"lVF4mj",tagName:"span",description:"Ticket type validity indicator. {date} will be formatted date.",values:{date:(0,i.jsx)(es.Time,{at:m,month:"short",day:"numeric",year:"only-if-different",hour:"numeric",minute:"2-digit",timeZone:v,timeZoneName:"short-if-different"},"date")}});else if(p){let e=(0,i.jsx)(es.Time,{at:p,month:"short",day:"numeric",year:"only-if-different",hour:"numeric",minute:"2-digit",timeZone:v,timeZoneName:"short-if-different",preferCapitalize:!1},"date");t=h?(0,i.jsx)(en.T,{defaultMessage:"Sales ended {date}",id:"govC10",tagName:"span",description:"Ticket type validity indicator. {date} will be formatted date.",values:{date:e}}):(0,i.jsx)(en.T,{defaultMessage:"Available until {date}",id:"DpgoF8",tagName:"span",description:"Ticket type validity indicator. {date} will be formatted date.",values:{date:e}})}else{if(!r)return null;t=(0,i.jsx)(en.T,{defaultMessage:"Available",id:"nNBhVV",tagName:"span",description:"Ticket type validity indicator."})}return(0,i.jsxs)("div",{className:"jsx-262dc6f54ab6950f "+((0,q.default)("period flex-center",n,{available:!c&&!f&&!h,"available-in-future":!c&&f&&!h})||""),children:[(0,i.jsx)("div",{className:"jsx-262dc6f54ab6950f icon"}),t,(0,i.jsx)(B.default,{id:"262dc6f54ab6950f",children:".period.jsx-262dc6f54ab6950f{gap:.4375rem}.period.available.jsx-262dc6f54ab6950f .icon.jsx-262dc6f54ab6950f{background-color:var(--success-content-color)}.period.available-in-future.jsx-262dc6f54ab6950f .icon.jsx-262dc6f54ab6950f{border:1.5px solid var(--tertiary-color-alpha);background-color:transparent}.period.jsx-262dc6f54ab6950f .icon.jsx-262dc6f54ab6950f{background-color:var(--quaternary-color-alpha);border-radius:100px;width:.5625rem;height:.5625rem;margin-left:.0625rem}"})]})};e.s(["TicketTypeValidityPeriod",0,el,"ticketTypeSalesPeriod",0,e=>{let{ticketType:t,timezone:a,t:s}=e,n={month:"short",day:"numeric",year:"only-if-different",hour:"numeric",minute:"2-digit",timeZone:a||(0,er.getTimezoneIana)(),timeZoneName:"short-if-different",allowRelative:!1};return!t.valid_start_at&&t.valid_end_at?s({defaultMessage:"Until {date}",id:"fKYlq5",description:"Ticket sales period. {date} will be formatted date."},{date:(0,i.jsx)(es.Time,{at:t.valid_end_at,...n},"date")}):t.valid_start_at&&!t.valid_end_at?s({defaultMessage:"Starting {date}",id:"N616s3",description:"Ticket sales period. {date} will be formatted date."},{date:(0,i.jsx)(es.Time,{at:t.valid_start_at,...n},"date")}):t.valid_start_at&&t.valid_end_at?s({defaultMessage:"{start} to {end}",id:"n+gIeq",description:"Ticket sales period. {start} and {end} will be formatted dates."},{start:(0,i.jsx)(es.Time,{at:t.valid_start_at,...n},"start"),end:(0,i.jsx)(es.Time,{at:t.valid_end_at,...n},"end")}):null}],38891);let ed=e=>{let{ticket_info:t,ticket_type:a,other_selected_count:i=0}=e;if(null==a.max_capacity)return(null==t?void 0:t.spots_remaining)?{count:t.spots_remaining-i,reason:"event-cap"}:{count:100,reason:"global-ticket-cap"};let s="ticket-cap",n=Math.max(a.max_capacity-a.num_guests,0),r=(null==t?void 0:t.spots_remaining)?t.spots_remaining-i:null;return null!=r&&r<n&&(s="event-cap",n=r),{reason:s,count:n}};e.s(["eventPrice",0,e=>{let{ticket_types:t,tax_config:i}=e;if(1===t.length){let[e]=t;if(e.cents){let t=a.taxAmount({amount:e.cents,tax_config:i});return{cents:e.cents+t,minCents:e.min_cents||0,flexible:e.is_flexible,currency:e.currency}}}return null},"eventTicketTypesTimeAvailability",0,e=>{let{ticket_types:t,now:a}=e;if(0===t.length)return"available";let i="available";for(let e of t){if(!e.valid_start_at&&!e.valid_end_at){if(!e.is_disabled)return"available";continue}if(e.valid_start_at&&a<s.DateTime.fromISO(e.valid_start_at)){e.is_disabled||(i="not-started");continue}if(e.valid_end_at&&a>s.DateTime.fromISO(e.valid_end_at)){i="ended";continue}if(!e.is_disabled)return"available"}return i},"maxAllowedCountForTicketType",0,ed,"singleTicketTypeTimeAvailability",0,e=>{let{ticket_type:t,now:a}=e;if(!t.valid_start_at&&!t.valid_end_at)return{state:"available",endTime:null};let i=t.valid_start_at?s.DateTime.fromISO(t.valid_start_at):null;if(i&&a<i)return{state:"not-started",time:i};let n=t.valid_end_at?s.DateTime.fromISO(t.valid_end_at):null;return n&&a>n?{state:"ended",time:n}:i&&a<i.plus({minutes:5})?{state:"just-started",time:i}:{state:"available",endTime:n}}],222099);let ec=e=>{var t,s;let{canRegisterForMultipleTickets:n,ticketType:r,ticketTypeToSelection:o,setCount:l,requiredCurrency:d,requiredTokenGate:c,addTax:u,disabled:m}=e,p=(0,Y.useLocale)(),{event:f,ticket_info:v,calendar:g,membership_tiers:y}=ej(),b=r.require_approval,j=$(r.ethereum_token_requirements),_=(0,V.useNow)(),w=(0,x.useT)(),T=null!=(s=null==(t=o[r.api_id])?void 0:t.count)?s:0,k=T>0,N=n?(0,h.sum)(Object.entries(o).filter(e=>{let[t]=e;return t!==r.api_id}).map(e=>{var t;let[a,i]=e;return null!=(t=i.count)?t:0})):0,C=ed({ticket_type:r,other_selected_count:N,ticket_info:v}),S=(null==C?void 0:C.count)===0&&"ticket-cap"===C.reason,E=!!(r.valid_start_at||r.valid_end_at),A=ex({ticket_type:r,now:_}),M=J.EventTicketType.flexibleSymbol({ticketType:r}),P=!!(d&&r.currency&&r.currency!=d),R=!!(c&&!(0,Z.isEmpty)(r.ethereum_token_requirements)&&(0,U.default)(c)!==(0,U.default)(r.ethereum_token_requirements)),L=!A||P||R||m||r.is_disabled||0===T&&(null==C?void 0:C.count)===0,I=[];return S?I.push((0,i.jsx)(D.Pill,{label:w(Q.CT.SoldOut),size:"tiny"},"sold-out")):((null==C?void 0:C.reason)==="ticket-cap"&&C.count<=10&&I.push((0,i.jsx)(D.Pill,{label:w({defaultMessage:"{count, plural, other {# Left}}",id:"CyqNDp",description:"Number of tickets remaining for a ticket type."},{count:C.count}),size:"tiny"},"ticket-cap")),r.is_hidden&&I.push((0,i.jsx)(D.Pill,{label:w({defaultMessage:"Exclusive",id:"NzNpU5",description:"Indicating this ticket type is exclusive (hidden)."}),size:"tiny",color:G.LumaColor.Cranberry},"hidden")),b&&I.push((0,i.jsx)(D.Pill,{label:w(Q.CT.RequireApproval),size:"tiny",color:G.LumaColor.Yellow},"approval-required")),j.length>0&&I.push((0,i.jsx)(D.Pill,{label:w(Q.CT.TokenHolderExclusive),size:"tiny",color:G.LumaColor.Purple},"token-holder-exclusive"))),(0,i.jsxs)("button",{type:"button",onClick:()=>{0===T&&l(1)},disabled:L,className:"jsx-427f393d8eebd120 "+((0,q.default)("btn ticket-type-btn",{selected:k,multi:n})||""),children:[(0,i.jsxs)("div",{className:"jsx-427f393d8eebd120 top flex-start",children:[!n&&(0,i.jsx)("div",{className:"jsx-427f393d8eebd120 flex-center-center icon animated",children:(0,i.jsx)(K.CheckCircleThickFilled16Icon,{})}),(0,i.jsxs)("div",{className:"jsx-427f393d8eebd120 flex-1",children:[(0,i.jsxs)("div",{className:"jsx-427f393d8eebd120 flex-start spread gap-2",children:[(0,i.jsxs)("div",{className:"jsx-427f393d8eebd120 "+((0,q.default)("flex-start min-width-0",{"flex-column":n,"spread flex-1 gap-1":!n})||""),children:[(0,i.jsxs)("div",{className:"jsx-427f393d8eebd120 name flex-center flex-wrap",children:[(0,i.jsx)("span",{className:"jsx-427f393d8eebd120 "+((1===I.length?"space-right":"")||""),children:r.name}),1===I.length&&I]}),(0,i.jsx)("div",{className:"jsx-427f393d8eebd120",children:(0,i.jsx)(F.AfterMounted,{children:r.cents?(0,i.jsx)(W.OptionalTooltip,{tooltipLabel:!S&&J.EventTicketType.flexiblePricingInfo({ticketType:r,t:w}),children:(0,i.jsxs)("span",{className:"jsx-427f393d8eebd120",children:[(0,i.jsx)("span",{className:"jsx-427f393d8eebd120",children:(0,H.formatPrice)({cents:a.amountWithTax({amount:r.cents,tax_config:u?g.tax_config:null}),currency:r.currency,locale:p})}),M&&(0,i.jsx)("span",{className:"jsx-427f393d8eebd120 text-tinted",children:M})]})}):w(Q.CT.Free_Price)})})]}),n&&(0,i.jsx)(z.CountSelector,{count:T,setCount:l,max:null==C?void 0:C.count,maxTooltipLabel:w({defaultMessage:"This is all thatâ€™s remaining.",id:"VFhEXq",description:"Ticket type selector. Shown when the user has selected the maximum number of tickets."}),nestedInButton:!0,disabled:L,collapseAtMin:!0})]}),I.length>1&&(0,i.jsx)("div",{className:"jsx-427f393d8eebd120 flex-center flex-wrap gap-1 mt-1 pills",children:I}),r.description&&(0,i.jsx)("div",{className:"jsx-427f393d8eebd120 fs-xs text-tinted description break-word",children:r.description.trim().split(/\r?\n/).map(e=>e.trim()).map((e,t)=>(0,i.jsx)("div",{className:"jsx-427f393d8eebd120 "+((0,q.default)({empty:!e})||""),children:e},t))}),(0,i.jsx)(ei,{ticketType:r,t:w,tiers:y,className:"fs-xs text-tinted ticket-info-row"}),E&&!S&&(0,i.jsx)(el,{ticket:r,className:"fs-xs text-tinted ticket-info-row",event:f},"validity-period")]})]}),j.length>0&&(0,i.jsx)(O.LuxCollapse,{show:k,children:(0,i.jsxs)("div",{className:"jsx-427f393d8eebd120 token-req fs-xs",children:[(0,i.jsx)("div",{className:"jsx-427f393d8eebd120 divider"}),(0,i.jsx)("div",{className:"jsx-427f393d8eebd120 reqs",children:j.map((e,t)=>(0,i.jsxs)("span",{className:"jsx-427f393d8eebd120 token-info",children:[(0,i.jsx)("span",{className:"jsx-427f393d8eebd120 fw-medium",children:e.name}),e.desc&&(0,i.jsxs)("span",{className:"jsx-427f393d8eebd120",children:[" (",e.desc,")"]})]},t))})]})}),(0,i.jsx)(B.default,{id:"427f393d8eebd120",children:'.ticket-type-btn.jsx-427f393d8eebd120{background-color:var(--opacity-light);width:100%;color:var(--secondary-color-alpha);border:1px solid var(--opacity-0);padding:.5rem .75rem}.ticket-type-btn.multi.jsx-427f393d8eebd120{padding-right:.5rem}.ticket-type-btn.jsx-427f393d8eebd120:disabled{cursor:not-allowed}@media (hover:hover){.ticket-type-btn.jsx-427f393d8eebd120:hover:not(:disabled){border-color:var(--opacity-light);background-color:var(--opacity-second-light)}}.ticket-type-btn.selected.jsx-427f393d8eebd120:not(:disabled),.ticket-type-btn.selected.jsx-427f393d8eebd120:not(:disabled):hover{color:var(--primary-or-tinted-color);background-color:var(--bg-opacity-48);border-color:var(--primary-or-tinted-color)}.icon.jsx-427f393d8eebd120{opacity:0;margin-top:.25rem}.selected.jsx-427f393d8eebd120:not(:disabled) .icon.jsx-427f393d8eebd120{opacity:1}.top.jsx-427f393d8eebd120{gap:.625rem}.name.jsx-427f393d8eebd120,.description.jsx-427f393d8eebd120,.token-req.jsx-427f393d8eebd120,.ticket-info-row{text-align:left;font-weight:var(--font-weight-regular)}.ticket-info-row{line-height:var(--reduced-line-height);margin-top:.1875rem}.ticket-info-row+.ticket-info-row{margin-top:.125rem}.ticket-info-row:last-child{margin-bottom:1px}.name.jsx-427f393d8eebd120{font-weight:var(--font-weight-medium);flex:1}.name.jsx-427f393d8eebd120 .space-right.jsx-427f393d8eebd120{margin-right:.375rem}.name.jsx-427f393d8eebd120 span.jsx-427f393d8eebd120{word-break:break-word}.pills.jsx-427f393d8eebd120{margin-bottom:.125rem}.description.jsx-427f393d8eebd120{margin-top:.125rem}.description.jsx-427f393d8eebd120 div.jsx-427f393d8eebd120:first-child:not(:last-child){margin-top:.25rem}.description.jsx-427f393d8eebd120 .empty.jsx-427f393d8eebd120{height:.5rem}.description.jsx-427f393d8eebd120 .empty.jsx-427f393d8eebd120+.empty.jsx-427f393d8eebd120{height:0}.description.jsx-427f393d8eebd120+.ticket-info-row{margin-top:.5rem}.token-req.jsx-427f393d8eebd120{margin-left:1.75rem;padding-top:.375rem}.token-req.jsx-427f393d8eebd120 .divider.jsx-427f393d8eebd120{border-top:1px solid var(--opacity-16);padding-top:.375rem}.token-req.jsx-427f393d8eebd120 .token-info.jsx-427f393d8eebd120:not(:last-child):after{content:", "}.multi.jsx-427f393d8eebd120 .token-req.jsx-427f393d8eebd120{margin-left:0}'})]})},eu=e=>{let{ticketTypeToSelection:t,setTicketTypeToSelection:a,disallowRequireApprovalAndCrypto:s,addTax:n,hideUnavailable:r,className:o}=e,{ticket_types:l,can_register_for_multiple_tickets:d}=ej(),c=(0,V.useNow)();return(0,i.jsx)("div",{className:o,children:(0,i.jsx)("div",{className:"ticket-types flex-column gap-2 full-width",children:l.map(e=>{let o=ex({ticket_type:e,now:c,disallow_require_approval_and_crypto:s});return r&&!o?null:(0,i.jsx)(ec,{canRegisterForMultipleTickets:d,ticketType:e,requiredCurrency:ep({can_register_for_multiple_tickets:d,ticket_types:l,ticketTypeToSelection:t}),requiredTokenGate:ef({can_register_for_multiple_tickets:d,ticket_types:l,ticketTypeToSelection:t}),disabled:!o,ticketTypeToSelection:t,addTax:n,setCount:i=>{var s,n;d?a({...t,[e.api_id]:{amount:(null!=(s=e.cents)?s:0)*i,count:i}}):i&&a({...Object.fromEntries(l.map(e=>[e.api_id,{count:0,amount:0}])),[e.api_id]:{count:i,amount:(null!=(n=e.cents)?n:0)*i}})}},e.api_id)})})})},em=e=>{let{ticket_types:t,can_register_for_multiple_tickets:a}=e;if(!t||0===t.length)return!0;if(a)return!1;if(1===t.length){let[e]=t;if(!e.valid_start_at&&!e.valid_end_at&&!e.max_capacity)return!0}return!1},ep=e=>{let{can_register_for_multiple_tickets:t,ticket_types:a,ticketTypeToSelection:i}=e;if(!t||a.length<=1)return null;for(let e of a){var s,n;if(e.cents&&e.currency&&(null!=(n=null==(s=i[e.api_id])?void 0:s.count)?n:0)>0)return e.currency}return null},ef=e=>{let{can_register_for_multiple_tickets:t,ticket_types:a,ticketTypeToSelection:i}=e;if(!t||a.length<=1)return null;for(let e of a){var s,n;if(!(0,Z.isEmpty)(e.ethereum_token_requirements)&&(null!=(n=null==(s=i[e.api_id])?void 0:s.count)?n:0)>0)return e.ethereum_token_requirements}return null},ex=e=>{let{ticket_type:t,now:a,skip_capacity_check:i,disallow_require_approval_and_crypto:n}=e;if(t.valid_start_at&&a<s.DateTime.fromISO(t.valid_start_at)||t.valid_end_at&&a>s.DateTime.fromISO(t.valid_end_at)||!i&&0===(null!=t.max_capacity?Math.max(t.max_capacity-t.num_guests,0):null))return!1;if(n){var r;if(t.require_approval||(null==(r=t.ethereum_token_requirements)?void 0:r.length)>0)return!1}return!0},eh=(0,r.createContext)(null),ev=e=>{let{initialData:t,eventApiId:a,loadingState:s,children:o,proxyKey:l,newStyle:d,isEmbed:c,inviteSecretKey:m,referringTicketKey:p,openedFrom:f,couponCode:x,onEventUpdated:h}=e,v=!!(0,n.useRouter)().query.one,[g,y]=(0,r.useState)(null!=x?x:null),{data:b,refresh:j}=(0,T.useAPI)({path:"/event/get",args:{event_api_id:a,invite_secret_key:m,referring_ticket_key:p,coupon_code:g},swrConfig:{fallbackData:null!=t?t:void 0,revalidateOnMount:!t,keepPreviousData:!0}});(0,u.useUpdateEffect)(()=>{b&&(null==h||h(b))},[b]);let _=(0,r.useCallback)(async e=>{y(e),await j()},[y,j]);return b?(0,i.jsx)(eg,{refreshEvent:j,eventPageData:b,proxyKey:l,newStyle:d||v,isEmbed:c,openedFrom:f,setCouponCode:_,children:o}):null!=s?s:null},eg=e=>{var t,a,n,c,u;let{children:p,proxyKey:f,refreshEvent:j,setCouponCode:T,eventPageData:E,newStyle:A,isEmbed:M,openedFrom:P,disableHotkeys:R}=e,{user:L,refreshUser:B}=(0,_.useUserContext)(),{waitForTurnstile:q}=(0,w.useCaptchaContext)(),U=(0,x.useT)(),{event:F,has_available_ticket_types:z,calendar:O,can_register_for_multiple_tickets:W,sold_out:D,meta_pixel_id:V,google_measurement_id:K,sessions:Y,guest_data:Q,ticket_types:H,coupon:G}=E,Z=(0,l.useCounter)(),[J,X]=(0,r.useState)(null),[$,ee]=(0,r.useState)(()=>0===H.length?{}:eb({ticket_types:H,now:s.DateTime.now(),allow_waitlist:F.waitlist_enabled,can_register_for_multiple_tickets:W,coupon:G})),[et,ea]=(0,r.useState)(null),ei=Y.filter(e=>(0,g.getEventState)({event:e})!==g.EventState.Ended),{track_meta_ads_from_luma:es}=O,en=(0,r.useCallback)(e=>{var t;(0,S.setApiCookie)(v.EventReferral.registeredCookie({event_api_id:F.api_id,user_api_id:e.user_api_id})),X(e),N.Analytics.trackEventRegistration({event:F,cents_paid:e.cents,currency:null!=(t=e.currency)?t:null,meta_pixel_ids:[V,es?b.MetaTypes.LUMA_META_PIXEL_ID:null],google_measurement_id:K,coupon_code:null==G?void 0:G.code}),T(null)},[es,F,X,V,K,G,T]);ey({onRegister:en}),(0,d.useHotkeys)(R?{}:{".":async e=>{e.metaKey&&(e.preventDefault(),await (0,o.copyToClipboard)({text:E.api_id,t:U,success:U({defaultMessage:"Copied event ID to clipboard. ðŸ“‹",id:"3k5tow"})}))}});let er=(0,r.useCallback)(()=>{X(null),T(null)},[X,T]),eo=I({ticketTypeToSelection:$,ticket_types:H}),el=null!=J?J:L,ed=null!=(t=null==J?void 0:J.approval_status)?t:Q.approval_status,ec=null!=(a=null==J?void 0:J.user_api_id)?a:null==L?void 0:L.api_id,eu=el&&ed&&ec&&ed!==y.GuestApprovalStatus.Invited?{email:el.email,user_api_id:ec,email_verified:el.email_verified,avatar_url:el.avatar_url,ticket_key:null!=(n=null==J?void 0:J.ticket_key)?n:Q.ticket_key,approval_status:ed,event_tickets:null!=(c=null==J?void 0:J.event_tickets)?c:Q.event_tickets}:null,em=(0,r.useCallback)(e=>{let t=s.DateTime.now();ee(a=>!((0,h.sum)(Object.values(a).map(e=>{let{count:t}=e;return t}))>0)||(null==e?void 0:e.reset)?eb({ticket_types:H,now:t,allow_waitlist:F.waitlist_enabled,can_register_for_multiple_tickets:W,coupon:G}):Object.fromEntries(Object.entries(a).map(e=>{let[a,i]=e,s=H.find(e=>e.api_id===a);return s?[a,ex({ticket_type:s,now:t})?i:{count:0,amount:0}]:[a,{count:0,amount:0}]}))),Z.increment()},[Z,ee,H,F,W,G]);(0,r.useEffect)(()=>{var e;(null==G?void 0:G.event_ticket_type_api_id)&&!(null==(e=$[G.event_ticket_type_api_id])?void 0:e.count)&&em({reset:!0})},[null==G?void 0:G.code]);let ep=(0,r.useMemo)(()=>!!(Q.payments.some(e=>e.amount_cents-e.amount_refunded_cents>0)||Q.event_tickets.some(e=>e.amount>0)),[Q]),[ef,ev]=(0,r.useState)(null),[eg,ej]=(0,r.useState)(null),e_=(0,r.useCallback)(async e=>{let{phoneNumber:t}=e;await (0,m.callWithToast)(async()=>{let{sent_via:e}=await C.APIClient.post("/auth/sms/request-verification-code",{phone_number:t,ensure_phone_number_free:!0},{waitForTurnstile:q});ev(t),ej(e)},{error:U({defaultMessage:"There was a problem linking that phone number.",id:"/XGF/1"})})},[ev,q,U]),ew=(0,r.useMemo)(()=>{let e=H.every(e=>"free"===e.type);return F.waitlist_enabled&&e&&z&&D},[F,H,z,D]);return(0,i.jsxs)(eh.Provider,{value:{hasPaid:ep,proxyKey:f,upcomingSessions:ei,refreshEvent:j,waitlistActive:ew,onUnregister:er,setCouponCode:T,registeredGuestInfo:eu,onRegister:en,cryptoRequirement:eo,ticketTypeToSelection:$,setTicketTypeToSelection:ee,startPhoneVerification:e_,hasTicketPrice:H.some(e=>"free"!==e.type),cryptoInfo:et,setCryptoInfo:ea,newStyle:!!A,rerender:em,rerenderId:Z.count,featured_info:null!=(u=E.featured_infos[0])?u:null,isEmbed:M,openedFrom:null!=P?P:null,...E},children:[p,(0,i.jsx)(k.VerifyPhoneNumberModal,{phoneNumber:ef,codeSentVia:eg,title:U({defaultMessage:"Verify Phone Number",id:"pOjRa/"}),desc:U({defaultMessage:"Verify your phone number so you can use it to sign in and receive event reminders.",id:"D7nq/4"}),onHide:()=>ev(null),onCode:async e=>{let{code:t,phoneNumber:a}=e;await C.APIClient.post("/auth/sms/link-phone-number",{phone_number:a,code:t}),ev(null),await B()}})]})},ey=e=>{let{onRegister:t}=e,a=(0,n.useRouter)(),i=(0,x.useT)(),s=(0,r.useCallback)(async e=>{await (0,m.callWithToast)(async()=>{t(await E.TaskUtils.poll({func:async()=>{let t=await C.APIClient.get("/event/guest/get-payment-status",e);return t.status===j.Task.Status.Success?{status:j.Task.Status.Success,data:t}:t}}))},{error:i({defaultMessage:"There was an issue processing your payment. Please try again.",description:"Event page. Shown when we if there is an issue with payment after the user completed payment in a different site / app.",id:"buBuwF"}),loading:i({defaultMessage:"Processing your payment...",description:"Event page. Shown when we are loading the payment after the user completed payment in a different site / app.",id:"wyFtsv"}),success:i({defaultMessage:"Payment successful!",description:"Event page. Shown when we successfully processed the payment after the user completed payment in a different site / app.",id:"06Yr41"})})},[t,i]);(0,c.useOnMount)(()=>{let e=a.query.payment_intent;"string"==typeof e&&setTimeout(()=>{s({stripe_payment_intent_id:e}),(0,f.removeArgFromUrl)("payment_intent","payment_intent_client_secret","payment_intent","redirect_status")},5)})},eb=e=>{var t,a;let i,{ticket_types:s,allow_waitlist:n,now:r,can_register_for_multiple_tickets:o,disallow_require_approval_and_crypto:l,coupon:d}=e,c=!1,u=null!=(t=null==d?void 0:d.event_ticket_type_api_id)?t:null;if(u){let e=s.find(e=>e.api_id===u),t=!!e&&ex({ticket_type:e,now:r,disallow_require_approval_and_crypto:l})&&!e.is_disabled;e&&t&&(i=e,c=!0)}if(i||(i=s.find(e=>ex({ticket_type:e,now:r,disallow_require_approval_and_crypto:l})&&!e.is_disabled)),!i&&n&&(i=s.find(e=>ex({ticket_type:e,now:r,skip_capacity_check:!0})&&!e.is_disabled)),o&&i&&"free"!==i.type){let e=i.currency;(null==(a=s.find(t=>t.currency&&t.currency!==e&&ex({ticket_type:t,now:r})))?void 0:a.currency)&&!c&&(i=void 0)}let m={};return s.forEach(e=>{var t;m[e.api_id]={count:+(e.api_id===(null==i?void 0:i.api_id)),amount:e.api_id===(null==i?void 0:i.api_id)&&null!=(t=e.cents)?t:0}}),m},ej=(0,p.createUseAppContext)(eh)},188795,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(206046),n=e.i(405155),r=e.i(171548);let o=e=>{let{titleIcon:s,titleLabel:r,titleRight:o,children:l,className:d}=e,c=(0,n.useBreakpoints)();return(0,t.jsxs)("div",{className:a.default.dynamic([["e204216fbc5b3cf1",[c.tiny,c.tiny,c.tiny]]])+" "+((0,i.default)("content-card",d)||""),children:[r&&(0,t.jsxs)("div",{className:a.default.dynamic([["e204216fbc5b3cf1",[c.tiny,c.tiny,c.tiny]]])+" card-title flex-center gap-2 spread",children:[(0,t.jsxs)("div",{className:a.default.dynamic([["e204216fbc5b3cf1",[c.tiny,c.tiny,c.tiny]]])+" flex-baseline gap-2",children:[s&&(0,t.jsx)("div",{className:a.default.dynamic([["e204216fbc5b3cf1",[c.tiny,c.tiny,c.tiny]]])+" title-icon flex-center-center",children:s}),(0,t.jsx)("div",{className:a.default.dynamic([["e204216fbc5b3cf1",[c.tiny,c.tiny,c.tiny]]])+" title-label",children:r})]}),o]}),(0,t.jsx)("div",{className:a.default.dynamic([["e204216fbc5b3cf1",[c.tiny,c.tiny,c.tiny]]])+" content",children:l}),(0,t.jsx)(a.default,{id:"e204216fbc5b3cf1",dynamic:[c.tiny,c.tiny,c.tiny],children:".content-card.__jsx-style-dynamic-selector{background-color:var(--card-bg-color);border-radius:var(--large-border-radius);-webkit-backdrop-filter:var(--card-backdrop-filter);backdrop-filter:var(--card-backdrop-filter);box-shadow:var(--card-shadow);--content-card-vertical-padding:.75rem;--content-card-horizontal-padding:1rem}.card-title.__jsx-style-dynamic-selector{padding:var(--content-card-vertical-padding)var(--content-card-horizontal-padding);height:calc(var(--content-card-vertical-padding)*2 + 1.5rem);border-bottom:1px solid var(--divider-color)}@media (max-width:".concat(c.tiny,"){.card-title.__jsx-style-dynamic-selector{height:calc(var(--content-card-vertical-padding)*2 + 1.3125rem)}}.title-icon.__jsx-style-dynamic-selector{color:var(--tint-color);transform:translateY(.125rem)}@media (max-width:").concat(c.tiny,"){.title-icon.__jsx-style-dynamic-selector{width:.875rem;height:.875rem;transform:translateY(.15625rem)}}.title-label.__jsx-style-dynamic-selector{font-size:var(--font-size-lg);font-family:var(--title-font);font-weight:var(--title-font-weight-bold,var(--font-weight-bold));line-height:1}@media (max-width:").concat(c.tiny,"){.title-label.__jsx-style-dynamic-selector{font-size:var(--font-size-md)}}.content.__jsx-style-dynamic-selector{padding:var(--content-card-vertical-padding)var(--content-card-horizontal-padding)}.content.__jsx-style-dynamic-selector hr.edge-to-edge{margin-left:calc(-1*var(--content-card-horizontal-padding));margin-right:calc(-1*var(--content-card-horizontal-padding))}")})]})};e.s(["EventContentCard",0,e=>{let{titleIcon:s,titleLabel:n,titleRight:l,children:d,className:c}=e,{newStyle:u}=(0,r.useEventPageContext)();return u?(0,t.jsxs)("div",{className:"jsx-7a336a2acfb3a522 "+((0,i.default)("content-card",c)||""),children:[n&&(0,t.jsxs)("div",{className:"jsx-7a336a2acfb3a522 card-title flex-center gap-2 spread",children:[(0,t.jsx)("div",{className:"jsx-7a336a2acfb3a522 title-label text-tinted fs-sm",children:n}),l]}),(0,t.jsx)("div",{className:"jsx-7a336a2acfb3a522 content",children:d}),(0,t.jsx)(a.default,{id:"7a336a2acfb3a522",children:".card-title.jsx-7a336a2acfb3a522{border-bottom:1px solid var(--divider-color);margin-bottom:1rem;padding-bottom:.5rem}.title-label.jsx-7a336a2acfb3a522{font-family:var(--title-font);font-weight:var(--title-font-weight-medium,var(--font-weight-medium))}"})]}):(0,t.jsx)(o,{titleIcon:s,titleLabel:n,titleRight:l,className:c,children:d})},"EventContentCardLoading",0,e=>{let{children:n,className:r}=e;return(0,t.jsxs)("div",{className:"jsx-83bc5bf8d629f2b0 "+((0,i.default)("content-card-loading",r)||""),children:[(0,t.jsx)("div",{className:"jsx-83bc5bf8d629f2b0 card-title",children:(0,t.jsx)(s.TextShimmer,{size:"sm",width:"5rem"})}),(0,t.jsx)("div",{className:"jsx-83bc5bf8d629f2b0 content",children:n}),(0,t.jsx)(a.default,{id:"83bc5bf8d629f2b0",children:".card-title.jsx-83bc5bf8d629f2b0{border-bottom:1px solid var(--divider-color);margin-bottom:1rem;padding-bottom:.5rem}"})]})}])},214371,21316,907847,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(538865),n=e.i(914091),r=e.i(405155);e.s(["OverlayTwoPanelContainer",0,e=>{let{left:o,right:l}=e;return(0,t.jsxs)(n.LuxGlassOverlay,{className:"flex-center",children:[(0,t.jsx)("div",{className:a.default.dynamic([["1a468211faa0be49",[r.ResponsiveBreakpoint.small,r.ResponsiveBreakpoint.medium,r.ResponsiveBreakpoint.small]]])+" "+((0,i.default)("registration-overlay",{"two-panels":l})||""),children:(0,t.jsx)(s.Form,{className:"registration-form-container flex-column",children:(0,t.jsxs)("div",{className:a.default.dynamic([["1a468211faa0be49",[r.ResponsiveBreakpoint.small,r.ResponsiveBreakpoint.medium,r.ResponsiveBreakpoint.small]]])+" panels flex-row-reverse flex-1 gap-5",children:[l&&(0,t.jsx)("div",{className:a.default.dynamic([["1a468211faa0be49",[r.ResponsiveBreakpoint.small,r.ResponsiveBreakpoint.medium,r.ResponsiveBreakpoint.small]]])+" right",children:l}),(0,t.jsx)("div",{className:a.default.dynamic([["1a468211faa0be49",[r.ResponsiveBreakpoint.small,r.ResponsiveBreakpoint.medium,r.ResponsiveBreakpoint.small]]])+" left flex-1",children:o})]})})}),(0,t.jsx)(a.default,{id:"1a468211faa0be49",dynamic:[r.ResponsiveBreakpoint.small,r.ResponsiveBreakpoint.medium,r.ResponsiveBreakpoint.small],children:".registration-overlay.__jsx-style-dynamic-selector{width:420px;min-height:min(85vh,700px);margin:auto;padding:3.5rem 1.25rem 5rem}.registration-overlay.two-panels.__jsx-style-dynamic-selector{width:100%;max-width:800px}@media (max-width:".concat(r.ResponsiveBreakpoint.small,"){.registration-overlay.__jsx-style-dynamic-selector{width:100%;padding:0}.registration-overlay.two-panels.__jsx-style-dynamic-selector{width:100%}}.registration-overlay.__jsx-style-dynamic-selector .registration-form-container{min-height:0}.right.__jsx-style-dynamic-selector{width:340px}.panels.__jsx-style-dynamic-selector{min-height:0}@media (max-width:").concat(r.ResponsiveBreakpoint.medium,"){.panels.__jsx-style-dynamic-selector{gap:1.25rem}.panels.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector{width:320px}}@media (max-width:").concat(r.ResponsiveBreakpoint.small,"){.panels.__jsx-style-dynamic-selector{display:block}.panels.__jsx-style-dynamic-selector .left.__jsx-style-dynamic-selector{padding-bottom:2rem}.panels.__jsx-style-dynamic-selector .right.__jsx-style-dynamic-selector{width:100%;margin-bottom:1.5rem}}")})]})}],214371);var o=e.i(255941),l=e.i(581455);class d extends Error{constructor(e){super(null!=e?e:"Your payment failed."),this.name="PaymentError",Object.setPrototypeOf(this,d.prototype)}}let c=async e=>{let{client_secret:t,stripe_account_id:a,payment_method_id:i,payment_info:s,only_authorize:n}=e;if("stripe"!==s.platform)throw new d("We were not able to complete the payment.");if("payment-element"===s.payment_method.source){var r;let{elements:e,stripe:a,entity:i}=s,{error:n}=await a.confirmPayment({elements:e,clientSecret:t,redirect:"if_required",confirmParams:{return_url:document.location.href,payment_method_data:{billing_details:{email:i.email,name:null!=(r=i.name)?r:""}}}});if(n)throw n;return}let c=await (0,o.loadStripe)(l.config.STRIPE_PUBLIC_KEY,{stripeAccount:a}),{paymentIntent:u,error:m}=await c.confirmCardPayment(t,{payment_method:i});if(m)throw new d(m.message);if(n){if("requires_capture"!==u.status)throw new d("We were not able to authorize the payment.")}else if("succeeded"!==u.status)throw new d("We were not able to complete the payment.")};e.s(["PaymentError",()=>d,"confirmPaymentIntent",0,c],21316);var u=e.i(746349),m=e.i(191788),p=e.i(424017),f=e.i(106946),x=e.i(988124),h=e.i(139681),v=e.i(86316),g=e.i(89685),y=e.i(219769);class b extends Error{constructor(e){super(e),(0,u._)(this,"skipToast",void 0),this.name="LocalWalletError",this.skipToast=!1}}e.s(["LocalWalletError",()=>b,"PayWithCryptoButton",0,e=>{let{disabled:a,payment_currency:i}=e,n=(0,v.useT)(),r=(0,f.useModalState)(),{errors:o,submitCount:l,isSubmitting:d,handleSubmit:c}=(0,s.useFormikContext)(),u=l>0&&!(0,g.isEmpty)(o),j=(0,m.useRef)(null),_=(0,m.useCallback)(()=>new Promise((e,t)=>{j.current={resolve:e,reject:t},r.onShow()}),[r]),w=(0,m.useCallback)(e=>{j.current&&(j.current.resolve(e),j.current=null),r.onHide()},[r]),T=(0,m.useCallback)(()=>{if(j.current){let e=new b("You did not choose a wallet.");e.skipToast=!0,j.current.reject(e),j.current=null}r.onHide()},[r]),k=(0,m.useCallback)(async e=>{e.preventDefault(),d||await (0,x.callWithToast)(async()=>{let e=await _(),{wallet:t}=await e.connect();window.paymentInfo={platform:"crypto",wallet_connection:e,solana_address:t,payment_currency:i},c()},{error:n({defaultMessage:"There was an issue connecting to your wallet.",id:"U2y+kt",description:"Error message when there was an issue connecting to your wallet."})})},[_,c,d,n,i]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.LuxButton,{onClick:k,disabled:d||u||a,label:n({defaultMessage:"Pay with Wallet",id:"zXo0lG",description:"Button CTA to pay with a crypto wallet like Metamask."}),fullWidth:!0,icon:(0,t.jsx)(h.SolanaBrandIcon,{}),color:"solana",loading:d}),(0,t.jsx)(y.ChooseSolanaWalletModal,{show:r.show,onHide:T,onConnect:w})]})}],907847)},771676,587987,445730,108770,438361,717063,781431,621894,723053,e=>{"use strict";var t,a,i,s,n=e.i(391398),r=e.i(275885),o=e.i(538865),l=e.i(498817),d=e.i(301027),c=e.i(203828),u=e.i(191788),m=e.i(629075),p=e.i(914091),f=e.i(332587),x=e.i(826420),h=e.i(295787),v=e.i(988124),g=e.i(167643),y=e.i(872514),b=e.i(82602),j=e.i(86316),_=e.i(109001),w=e.i(132571),T=e.i(692303),k=e.i(829900),N=e.i(231436),C=e.i(523080),S=e.i(435550),E=e.i(214371),A=e.i(21316),M=e.i(907847),P=e.i(348688),R=e.i(977470),L=e.i(171548),I=e.i(359626),B=e.i(272043),q=e.i(398050),U=e.i(851800),F=e.i(145897),z=e.i(655794),O=e.i(361941),W=e.i(821384);(t=i||(i={})).MAX_CODE_LENGTH=20,t.PublicColumns=["api_id","cents_off","code","currency","event_ticket_type_api_id","percent_off"],t.AppliedInfoZ=W.z.object({api_id:W.z.string().brand("coupon"),percent_off:W.z.number().nullable(),cents_off:W.z.number().nullable(),currency:O.CurrencyZ.nullable(),code:W.z.string()}),t.AdminColumns=[...t.PublicColumns,"created_at","remaining_count","used_count","valid_start_at","valid_end_at"],t.getCouponDiscount=e=>{let{ticket_type_to_selection:t,coupon:a}=e;if(!a)return 0;if(a.event_ticket_type_api_id){var i;let e=t[a.event_ticket_type_api_id],s=null!=(i=null==e?void 0:e.amount)?i:0;return a.percent_off?Math.round(s*(a.percent_off/100)):a.cents_off?Math.min(s,a.cents_off):0}let s=(0,F.sum)(Object.values(t).map(e=>{let{amount:t}=e;return t}));return a.percent_off?Math.round(s*(a.percent_off/100)):a.cents_off?Math.min(s,a.cents_off):0};var D=e.i(257983),V=e.i(443415),K=e.i(451046),Y=e.i(935382),Q=e.i(639298);let H=e=>{let{className:t}=e,{event:a}=(0,L.useEventPageContext)(),i=(0,U.useLocale)(),s=(0,w.getTimezoneIana)(),r=a.location_type===D.EventLocationType.Offline?a.timezone:void 0,o=q.DateTime.fromISO(a.start_at,{zone:r,locale:i});return(0,n.jsxs)("div",{className:"jsx-7ed2ad37e99cbb7f "+((0,B.default)("flex-center header gap-25",t)||""),children:[(0,n.jsx)(Y.EventCoverImage,{event:a,aspectRatio:a.one_to_one?1:2,mode:"fixed",width:a.one_to_one?54:108,className:"flex-shrink-0"}),(0,n.jsxs)("div",{className:"jsx-7ed2ad37e99cbb7f flex-1",children:[(0,n.jsx)("div",{className:"jsx-7ed2ad37e99cbb7f fw-medium name reduced-line-height",children:a.name}),(0,n.jsx)("div",{className:"jsx-7ed2ad37e99cbb7f text-tertiary-alpha fs-sm mt-1",children:o.toLocaleString({month:"short",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:s===r?void 0:"short"})})]}),(0,n.jsx)(I.default,{id:"7ed2ad37e99cbb7f",children:".name.jsx-7ed2ad37e99cbb7f{-webkit-line-clamp:2;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}"})]})},G=e=>{let{event_invite:t,ticket_types:a,waitlistActive:i,soldOut:s,ticketTypeToSelection:n,forceNoPayment:r,t:o}=e;if(s)return o(i?{defaultMessage:"Join Waitlist",id:"DTGWiM"}:z.CT.SoldOut);let l=!1;for(let e of a){var d,c;if((null!=(c=null==(d=n[e.api_id])?void 0:d.count)?c:0)>0){if(e.require_approval)return o(t?{defaultMessage:"Accept Invite",id:"JjuWby",description:"CTA button on event."}:{defaultMessage:"Request to Join",id:"m3SHti",description:"CTA button to register for an event that requires approval."});e.cents&&(l=!0)}}return o(l&&!r?{defaultMessage:"Get Ticket",id:"wA8882",description:"CTA button on event."}:null!=t?{defaultMessage:"Accept Invite",id:"JjuWby",description:"CTA button on event."}:z.CT.Register)},Z=e=>{let{event:t,ticket_types:a,can_register_for_multiple_tickets:i}=e;return!(0,Q.shouldHideTicketTypeSelector)({can_register_for_multiple_tickets:i,ticket_types:a})||1!==a.length||t.event_type!==V.EventType.Independent||!!a[0].cents||!!a[0].is_flexible||!!a[0].ethereum_token_requirements.length},J=e=>{let{ticket_types:t}=e;if(t.length>0){for(let e of t)if(e.cents&&e.cents>0||e.is_flexible)return!0}return!1},X=e=>{let{coupon:t,ticket_types:a,ticket_type_to_selection:i,tax_config:s}=e,n=(0,F.uniq)(a.map(e=>{var t;return(null==(t=i[e.api_id])?void 0:t.count)>0?e.currency:null}).filter(e=>null!==e)),r=ee({coupon:t,ticketTypeToSelection:i,currencies:n}),{is_flexible:o,currency:l,amount_discount:d,amount_chosen:c}=$({ticket_types:a,ticket_type_to_selection:i,coupon:r}),u=Object.values(i).every(e=>0===e.count),m=new Set(n).size>1,p=!0;m&&(p=!1),u&&(p=!1);let f=a.some(e=>{var t;return e.require_approval&&(null==(t=i[e.api_id])?void 0:t.count)>0}),x=!!l&&O.CryptoCurrencies.has(l);if(o){let e=a.every(e=>{var t;if(!e.is_flexible)return!0;let a=i[e.api_id];if(!a)return!0;let s=(null!=(t=e.min_cents)?t:0)*a.count;return a.amount>=s});p=p&&e;let t=Math.max(c-d,0),n=K.TaxUtils.taxAmount({amount:t,tax_config:s});return{cents_discount:d,currency:l,cents_original:c,can_register:p,cents_to_pay:t+n,cents_tax:n,coupon_applied:null!==r,is_flexible:o,require_approval:f,is_crypto:x}}let h=c-d,v=K.TaxUtils.taxAmount({amount:h,tax_config:s});return{can_register:p,cents_discount:d,cents_original:c,cents_to_pay:h+v,cents_tax:v,coupon_applied:null!==r,currency:l,is_flexible:o,require_approval:f,is_crypto:x}},$=e=>{let{ticket_types:t,ticket_type_to_selection:a,coupon:s}=e;if(t.every(e=>!a[e.api_id]||"free"===e.type))return{is_flexible:!1,currency:null,amount_discount:0,amount_chosen:0};let n=t.some(e=>{var t;return e.is_flexible&&(null==(t=a[e.api_id])?void 0:t.count)>0}),r=(0,F.keyBy)(t,e=>e.api_id),o=0,l=null;for(let[e,{amount:t,count:i}]of Object.entries(a)){let a=r[e];a&&(o+=null!=t?t:0,i>0&&(l=l||a.currency))}return{is_flexible:n,amount_chosen:o,currency:l,amount_discount:i.getCouponDiscount({ticket_type_to_selection:a,coupon:s})}},ee=e=>{let{coupon:t,ticketTypeToSelection:a,currencies:i}=e;if(!t)return null;if(t.event_ticket_type_api_id){var s;if((null==(s=a[t.event_ticket_type_api_id])?void 0:s.count)>0)return t}if(t.cents_off&&t.currency){if(1!==i.length)return null;let[e]=i;if(e!==t.currency)return null}return t};e.s(["EventHeader",0,H,"calculatePaymentAmount",0,X,"canPayForEvent",0,J,"ctaButtonText",0,G,"showInfoPanel",0,Z],587987);var et=e.i(31197),ea=e.i(883720),ei=e.i(405155),es=e.i(145876),en=e.i(715512),er=e.i(206046),eo=e.i(431275),el=e.i(498643),ed=e.i(581254),ec=((a={}).SavedCard="saved-card",a.NewCard="new-card",a.Other="other",a);let eu=new Set(["amount_too_large","amount_too_small","card_declined","email_invalid","expired_card","incorrect_cvc","incorrect_number","incorrect_zip","invalid_card_type","invalid_characters","invalid_expiry_month","invalid_expiry_year","postal_code_invalid"]);class em extends Error{}e.s(["PaymentMethodKind",()=>ec,"handlePaymentError",0,e=>{var t,a,i;let{error:s,t:n}=e;if(console.error(s),!(s instanceof em)){if("validation_error"===s.type||"card_error"===s.type)return void(0,b.toastError)(s.message);s instanceof _.FetchError&&s.status<500?(0,b.toastError)(s.message):(null==(t=s.response)?void 0:t.status)<500&&(null==(i=s.response)||null==(a=i.data)?void 0:a.message)?(0,b.toastError)(s.response.data.message):s.code&&s.message&&eu.has(s.code)?(0,b.toastError)(s.message):(0,b.toastError)(n({defaultMessage:"We encountered an issue processing your payment.",id:"ZmJh8d",description:"Payment error toast."}))}}],445730);var ep=e.i(569644),ef=e.i(689966),ex=e.i(255941),eh=e.i(620317),ev=e.i(424017),eg=e.i(726256),ey=e.i(861365),eb=e.i(581455);let ej=e=>{let{stripeAccountId:t,currency:a,paymentFor:i,children:s,config:r}=e,{isLoading:o,info:l}=(e=>{let{stripeAccountId:t,currency:a,paymentFor:i,config:s}=e,n=(0,x.useBoolean)(!0),[r,o]=(0,u.useState)(null),l=(0,eh.default)(s),d=(0,u.useCallback)(async e=>{let{cents:i,paymentFor:l}=e;if(!i||i<=0){o(null),n.setFalse();return}r&&r.payment_request.update({total:{label:l,amount:i}});try{let e=t!==eb.config.STRIPE_PLATFORM_ACCOUNT_ID,n=(await (0,ex.loadStripe)(eb.config.STRIPE_PUBLIC_KEY,{stripeAccount:e?t:void 0})).paymentRequest({country:"US",currency:a||O.Currency.USD,total:{label:l,amount:i},requestPayerEmail:!0,disableWallets:["link"],applePay:(e=>{let{config:t,paymentFor:a,cents:i}=e;if("subscription"===t.mode)return{recurringPaymentRequest:{paymentDescription:a,managementURL:t.managementURL,regularBilling:{amount:i,label:"Subscription Fee",recurringPaymentIntervalUnit:t.cadence}}};if("payment_authorization"===t.mode){let e=q.DateTime.fromISO(t.payment_date),s=q.DateTime.now().plus({days:30});return{deferredPaymentRequest:{paymentDescription:a,managementURL:window.location.href,deferredBilling:{amount:i,label:a,deferredPaymentDate:(e>s?e:s).toJSDate()}}}}})({config:s,paymentFor:l,cents:i})}),r=await n.canMakePayment();r&&(r.applePay||r.googlePay)&&o({payment_request:n,type:r.applePay?"apple_pay":"google_pay"})}finally{n.setFalse()}},[n,a,t,r,l]);return(0,u.useEffect)(()=>{d({cents:"payment"===s.mode||"payment_authorization"===s.mode||"subscription"===s.mode?s.amount:null,paymentFor:i})},[l,i]),{isLoading:n.value,info:r}})({stripeAccountId:t,currency:a,paymentFor:i,config:r});return(0,n.jsx)(n.Fragment,{children:s({isLoading:o,info:l,stripeAccountId:t})})},e_=e=>{let{info:t,className:a,disabled:i,entity:s}=e,{handleSubmit:r,isSubmitting:l}=(0,o.useFormikContext)(),d=(0,x.useBoolean)(),c=(0,ef.useElements)(),u=(0,ef.useStripe)(),m=async e=>{if(e.preventDefault(),l||!c||!u)return;d.setTrue();let{payment_method_id:a}=await ew({paymentRequest:t.payment_request});window.paymentInfo={platform:"stripe",elements:c,stripe:u,payment_method:{id:a,type:"card",source:"apple_pay"===t.type?"apple-pay":"google-pay"},entity:s},r()};return(0,n.jsxs)("div",{className:"jsx-7e37f05d28349dab "+(a||""),children:[(0,n.jsx)(ev.LuxButton,{className:"native-pay-button",icon:"apple_pay"===t.type?(0,n.jsx)(eg.default,{}):(0,n.jsx)(ey.default,{}),iconPlacement:"icon-only",label:"apple_pay"===t.type?"Apple Pay":"Google Pay",disabled:i,loading:l&&d.value,onClick:m,hideTooltipForIconOnly:!0,fullWidth:!0}),(0,n.jsx)(I.default,{id:"7e37f05d28349dab",children:".native-pay-button svg{width:auto;height:1.125rem}"})]})},ew=async e=>{let{paymentRequest:t}=e;return t.show(),await new Promise((e,a)=>{t.on("cancel",()=>{a()}),t.on("paymentmethod",async t=>{try{var i,s;t.complete("success"),e({payment_method_id:t.paymentMethod.id,email:null!=(i=t.payerEmail)?i:null,name:null!=(s=t.payerName)?s:null})}catch(e){console.error(e),t.complete("fail"),a(e)}})})};var eT=e.i(801560),ek=e.i(135959),eN=e.i(638892);let eC=e=>{var t,a;let{alternativePaymentTypes:i,className:s,disabled:r,label:o,paymentMethod:l,savedCards:d,setPaymentMethod:c}=e,m=(0,j.useT)(),p=(0,x.useBoolean)(!1),f=(0,u.useCallback)(e=>{let t=d.find(t=>t.id===e);t?c({kind:ec.SavedCard,card:t}):i.includes(e)?c({kind:ec.Other,type:e}):c({kind:ec.NewCard})},[i,d,c]),h=(0,u.useMemo)(()=>{let e=[];return d.length>0&&(e.push({type:"header",name:m({defaultMessage:"Saved Cards",id:"Tn2ZTy",description:"Header for user saved credit cards for payment."}),isAccessory:!0}),e.push(...d.map(e=>{var t,a,i;return{key:e.id,name:(0,n.jsx)("span",{className:"mono-number",children:(e.nickname?e.nickname:(0,eN.paymentMethodName)({type:"card",brand:null==(t=e.card)?void 0:t.brand,t:m}))+((null==(a=e.card)?void 0:a.last4)?" â€¢â€¢â€¢â€¢ ".concat(e.card.last4):"")}),icon:(0,n.jsx)(eN.PaymentMethodIcon,{type:"card",brand:null==(i=e.card)?void 0:i.brand,width:20}),onClick:()=>{f(e.id)}}})),0===i.length&&e.push({type:"divider",isAccessory:!0})),d.length>0&&i.length>0&&e.push({type:"header",name:m({defaultMessage:"Other Payment Methods",id:"xFBXOu",description:"Header for payment methods other than saved cards."}),isAccessory:!0}),e.push({key:ec.NewCard,name:d.length>0?m({defaultMessage:"New Credit or Debit Card",id:"vos7f+",description:"Label in payment selector for choosing to enter a new credit card."}):m({defaultMessage:"Credit or Debit Card",id:"fczAPH",description:"Label for card payment method."}),icon:(0,n.jsx)(eN.PaymentMethodIcon,{type:"card",brand:null,width:20}),onClick:()=>{f(ec.NewCard)}}),i.length>0&&e.push(...i.sort((e,t)=>{let a=el.PaymentMethodTypeToInfo[e].title,i=el.PaymentMethodTypeToInfo[t].title;return a.localeCompare(i)}).map(e=>({key:e,name:el.PaymentMethodTypeToInfo[e].title,icon:(0,n.jsx)(eN.PaymentMethodIcon,{type:e,brand:null,width:20}),onClick:()=>{f(e)}}))),e},[d,i,m,f]),v=(0,u.useMemo)(()=>l.kind===ec.SavedCard?l.card.id:l.kind===ec.Other?l.type:ec.NewCard,[l]),g=l.kind===ec.Other?l.type:"card",y=l.kind===ec.SavedCard?null==(t=l.card.card)?void 0:t.brand:null;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eT.LuxMenu,{checkmarkPosition:"right",trigger:(0,n.jsxs)("div",{className:"jsx-5ae6f0a2bac50102 "+((0,B.default)("highlight-label lux-input-wrapper",{disabled:r,focused:p.value},s)||""),children:[o&&(0,n.jsx)(en.LuxInputLabel,{text:o}),(0,n.jsxs)("div",{className:"jsx-5ae6f0a2bac50102 payment-selector flex-center full-width lux-input gap-2",children:[(0,n.jsx)(eN.PaymentMethodIcon,{type:g,brand:y,width:28}),(0,n.jsxs)("div",{className:"jsx-5ae6f0a2bac50102 flex-1 flex-center gap-1",children:[(0,n.jsx)("span",{className:"jsx-5ae6f0a2bac50102 text-ellipses",children:l.kind===ec.SavedCard&&l.card.nickname?l.card.nickname:(0,eN.paymentMethodName)({type:g,brand:y,t:m})}),l.kind===ec.SavedCard&&(0,n.jsx)(eN.CreditCardLast4,{last4:null==(a=l.card.card)?void 0:a.last4})]}),(0,n.jsx)("div",{className:"jsx-5ae6f0a2bac50102 chevron flex-shrink-0 animated",children:(0,n.jsx)(ek.default,{})})]})]}),open:p.value,setOpen:p.setValue,selectedKey:v,rows:h,placement:"bottom",fullWidth:!0,showArrow:!1,allowFlip:!1}),(0,n.jsx)(I.default,{id:"5ae6f0a2bac50102",children:".payment-selector.jsx-5ae6f0a2bac50102{padding:var(--input-vertical-padding)}.payment-selector.jsx-5ae6f0a2bac50102 .lux-menu-item .menu-icon{width:auto}.lux-input-wrapper.disabled.jsx-5ae6f0a2bac50102{pointer-events:none}.chevron.jsx-5ae6f0a2bac50102{color:var(--opacity-32)}.lux-input-wrapper.jsx-5ae6f0a2bac50102:hover .chevron.jsx-5ae6f0a2bac50102{color:var(--secondary-color-alpha)}.lux-input-wrapper.focused.jsx-5ae6f0a2bac50102 .lux-input.jsx-5ae6f0a2bac50102{background-color:var(--input-focus-bg-color);border-color:var(--input-focus-border-color)}.lux-input-wrapper.focused.jsx-5ae6f0a2bac50102 .chevron.jsx-5ae6f0a2bac50102{color:var(--input-focus-border-color)}"})]})};var eS=e.i(89685);let eE=e=>{let{currentPaymentCard:t,disabled:a,entity:i,config:s}=e,{errors:l,submitCount:d,isSubmitting:c,handleSubmit:u}=(0,o.useFormikContext)(),m=d>0&&!(0,eS.isEmpty)(l),p=(0,ef.useElements)(),f=(0,ef.useStripe)(),h=!p||!f,g=(0,x.useBoolean)(),y=(0,j.useT)(),b=async e=>{if(e.preventDefault(),c||!p||!f)return;g.setTrue();let{error:a}=await (0,v.callWithToast)(async()=>{if(t)window.paymentInfo={platform:"stripe",elements:p,stripe:f,entity:i,payment_method:{type:"card",source:"saved-card",id:t.id}};else{let e=p.getElement(ef.CardElement),{error:t,paymentMethod:a}=await f.createPaymentMethod({type:"card",card:e});if(t)throw t;window.paymentInfo={platform:"stripe",elements:p,stripe:f,entity:i,payment_method:{type:"card",source:"new-card",id:a.id}}}u()},{error:e=>{var t;return null!=(t=e.message)?t:y({defaultMessage:"There was an issue processing that card.",id:"/dlNrL",description:"Payment error toast."})}});if(a)if("type"in a){if("validation_error"===a.type)return;r.captureException(Error("Payment error: ".concat(a.type).concat(a.code?" (".concat(a.code,")"):"")),{extra:{stripeError:a}})}else r.captureException(a)};return(0,n.jsx)(ev.LuxButton,{type:"button",onClick:b,disabled:c||m||h||a,label:s.buttonCta?s.buttonCta:y({defaultMessage:"Pay with Card",id:"xfRXV0",description:"Button on checkout form."}),loading:c&&g.value,color:"brand",fullWidth:!0})};var eA=e.i(334311),eM=e.i(964162);let eP=e=>{let{message:t}=e,a=(0,j.useT)();return(0,n.jsxs)("div",{className:"jsx-273d4778f7930fa6 no-payment text-warning",children:[(0,n.jsx)("div",{className:"jsx-273d4778f7930fa6 icon",children:(0,n.jsx)(eM.default,{})}),(0,n.jsx)("div",{className:"jsx-273d4778f7930fa6 fs-sm",children:null!=t?t:a({defaultMessage:"There is a problem and we are currently unable to collect payments.",id:"fGvaW9"})}),(0,n.jsx)(I.default,{id:"273d4778f7930fa6",children:".no-payment.jsx-273d4778f7930fa6{background-color:var(--warning-pale-bg-color);border-radius:var(--card-border-radius);padding:1rem 1.125rem}.no-payment.jsx-273d4778f7930fa6 .icon.jsx-273d4778f7930fa6{margin-bottom:.625rem}.no-payment.jsx-273d4778f7930fa6 svg{width:2rem;height:2rem}"})]})};var eR=e.i(824015);let eL=e=>{let{stripeAccountId:t,currency:a,entity:i,payment_method_types:s,config:r}=e,{isDark:o}=(0,u.useContext)(eR.LightnessContext),l=(0,u.useMemo)(()=>{let e={theme:o?"night":"stripe",variables:{fontSizeBase:"16px",spacingUnit:"0.25rem",borderRadius:"0.5rem",colorPrimary:o?"#F6539D":"#F31A7C",colorBackground:o?"#313335":"#E7E8E9"},rules:{".AccordionItem":{backgroundColor:"none",boxShadow:"none",borderColor:o?"#313335":"#E7E8E9",borderRadius:"1rem"},".Input":{boxShadow:"none",padding:"0.625rem 0.875rem",borderWidth:"0"},".Label":{fontSize:"0.875rem",fontWeight:"500",color:o?"#D1D1D1":"#656668",marginBottom:"0.375rem"}}};switch(r.mode){case"setup":return{mode:"setup",currency:a||O.Currency.USD,appearance:e,payment_method_types:s};case"payment_authorization":return{mode:"payment",currency:a||O.Currency.USD,amount:r.amount,setup_future_usage:"off_session",capture_method:"manual",appearance:e,payment_method_types:s};case"payment":case"subscription":return{mode:r.mode,currency:a||O.Currency.USD,amount:r.amount,appearance:e,payment_method_types:s}}},[o,a,s,r]);return(0,n.jsx)(eA.StripeElementsProvider,{stripeAccount:t,options:l,children:(0,n.jsxs)("div",{className:"flex-column gap-4",children:[(0,n.jsx)(ef.PaymentElement,{options:{layout:"tabs",fields:{billingDetails:{name:"never",email:"never"}}}}),(0,n.jsx)(eI,{config:r,entity:i,payment_method_types:s})]})})},eI=e=>{let{config:t,entity:a,payment_method_types:i}=e,{errors:s,submitCount:l,isSubmitting:d,handleSubmit:c}=(0,o.useFormikContext)(),u=l>0&&!(0,eS.isEmpty)(s),m=(0,j.useT)(),p=(0,ef.useElements)(),f=(0,ef.useStripe)(),h=(0,x.useBoolean)(),v=async e=>{if(e.preventDefault(),d)return;if(!p||!f)return void(0,b.toastError)(m({defaultMessage:"Our payment provider failed to load. Please try again.",id:"etyf9c",description:"Event checkout. Error toast message."}));let{error:t}=await p.submit();if(t){r.captureException(t),(0,b.toastError)(m({defaultMessage:"There was a problem processing your payment.",id:"WCZdE2",description:"Event checkout. Error toast message."}));return}h.setTrue(),window.paymentInfo={platform:"stripe",stripe:f,elements:p,entity:a,payment_method:{source:"payment-element",id:null,types:i}},c()};return(0,n.jsx)(ev.LuxButton,{label:t.buttonCta?t.buttonCta:m({defaultMessage:"Submit Payment",description:"Event checkout. CTA for the payment button.",id:"g+ka+Q"}),color:"brand",loading:d,disabled:u,onClick:v,fullWidth:!0})},eB=e=>(0,n.jsx)(eA.StripeElementsProvider,{children:(0,n.jsx)(eq,{...e})}),eq=e=>{var t;let{config:a,currency:i,disabled:s,entity:r,exclude_saved_payment_methods:l,stripeAccountId:d,acceptUsdcForUsd:c,sellerEntity:m}=e,{isSubmitting:p}=(0,o.useFormikContext)(),{savedCards:f,paymentMethod:x,setPaymentMethod:h,isLoading:v}=(e=>{var t;let{entity:a,exclude_saved_payment_methods:i,currency:s}=e,{user:n}=(0,k.useUserContext)(),{data:r}=(0,ed.useAPI)("user"===a.type?{path:"/payments/payment-methods",pause:!n}:{path:"/calendar/admin/plus/get-payment-methods",args:{calendar_api_id:a.calendar_api_id}}),o=O.CryptoCurrencies.has(s),[l,d]=(0,u.useState)(o?{kind:ec.Other,type:el.PaymentMethodType.Crypto_Solana}:{kind:ec.NewCard});return(0,u.useEffect)(()=>{i||d(e=>e.kind===ec.NewCard&&(null==r?void 0:r.default_payment_method)?{kind:ec.SavedCard,card:r.default_payment_method}:e)},[r]),{isLoading:!!(!r&&n),paymentMethod:l,setPaymentMethod:d,savedCards:i?[]:null!=(t=null==r?void 0:r.payment_methods)?t:[]}})({entity:r,exclude_saved_payment_methods:l,currency:i}),g=O.CryptoCurrencies.has(i),y=(0,eo.useDebounce)(a,500),{data:b}=(0,ed.useAPI)({path:"/payments/get-payment-method-types",args:{amount:null!=(t=y.amount)?t:0,currency:i,separate_authorize_and_capture:"payment_authorization"===y.mode,support_off_session:"setup"===y.mode,...m},swrConfig:{revalidateOnFocus:!1,revalidateOnReconnect:!1}}),j=(0,u.useMemo)(()=>{var e;if(O.CryptoCurrencies.has(i))return[];let t=null!=(e=null==b?void 0:b.payment_methods)?e:[];return c&&i===O.Currency.USD&&!t.includes(el.PaymentMethodType.Crypto_USDC)&&"payment"===a.mode&&(t=[...t,el.PaymentMethodType.Crypto_USDC]),t},[c,i,null==b?void 0:b.payment_methods,a.mode]),_=f.length>0,w=j.length>0,T=!!((_||w)&&!g&&d),N=eF(x);return((0,u.useEffect)(()=>{O.CryptoCurrencies.has(i)?"stripe"===N&&h({kind:ec.Other,type:el.PaymentMethodType.Crypto_Solana}):"crypto"===N&&h({kind:ec.NewCard})},[i]),("payment"===a.mode||"payment_authorization"===a.mode)&&a.amount<=0)?null:v?(0,n.jsx)(er.Shimmer,{width:"100%",height:"var(--input-height)"}):(0,n.jsxs)("div",{children:[T&&(0,n.jsx)(eC,{className:"full-width",disabled:p,savedCards:null!=f?f:[],paymentMethod:x,setPaymentMethod:h,alternativePaymentTypes:null!=j?j:[]}),"stripe"===N?(0,n.jsx)(eU,{...e,paymentMethod:x,canChoosePaymentMethod:T}):(0,n.jsx)("div",{className:T?"pt-3":"",children:(0,n.jsx)(M.PayWithCryptoButton,{disabled:s,payment_currency:x.kind===ec.Other&&x.type===el.PaymentMethodType.Crypto_USDC?O.Currency.SOL_USDC:null})}),a.disclaimer&&(0,n.jsx)("div",{className:"text-secondary-alpha fs-xs pt-2 mt-1 text-center",children:a.disclaimer})]})},eU=e=>{let{paymentMethod:t,stripeAccountId:a,currency:i,entity:s,disabled:r,config:o,canChoosePaymentMethod:l,noStripeWarningMessage:d,paymentFor:c}=e;return a?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(et.LuxCollapse,{show:[ec.NewCard,ec.SavedCard].includes(t.kind),children:(0,n.jsxs)("div",{className:l?"pt-3":"",children:[(0,n.jsx)(et.LuxCollapse,{show:t.kind===ec.NewCard,children:(0,n.jsx)(ez,{className:"pb-3"})}),(0,n.jsx)(eE,{entity:s,config:o,currentPaymentCard:t.kind===ec.SavedCard?t.card:null,disabled:r})]})}),(0,n.jsx)(es.LuxAnimateIn,{children:t.kind===ec.Other&&(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsx)(eL,{payment_method_types:t.kind===ec.Other?[t.type]:[],config:o,stripeAccountId:a,currency:i,entity:s})})}),(0,n.jsx)(ej,{config:o,stripeAccountId:a,paymentFor:c,currency:i,children:e=>{let{isLoading:t,info:a}=e;return t||!a?null:(0,n.jsx)("div",{className:"pt-25",children:(0,n.jsx)(e_,{info:a,disabled:r,entity:s},"native-controls")})}})]}):(0,n.jsx)(eP,{message:d})},eF=e=>e.kind===ec.SavedCard||e.kind===ec.NewCard?"stripe":el.PaymentMethodTypeToInfo[e.type].platform,ez=e=>{let{className:t}=e,{isSubmitting:a}=(0,o.useFormikContext)(),[i,s]=(0,u.useState)(!1),r=(0,j.useT)();return(0,n.jsxs)("div",{className:t,children:[(0,n.jsx)(en.LuxInputLabel,{text:r({defaultMessage:"Credit or Debit Card *",id:"Uj5xzn"}),focused:i}),(0,n.jsx)(ep.CreditCardInput,{disabled:a,onFocus:()=>s(!0),onBlur:()=>s(!1)})]})};e.s(["CheckoutButtonSection",0,eB],108770);var eO=e.i(106946),eW=e.i(922323),eD=e.i(152790);let eV=e=>{let{children:t}=e,{user:a}=(0,k.useUserContext)(),i=(0,eO.useModalState)(),s=(0,u.useRef)(null),r=(0,u.useRef)(null),o=(0,u.useCallback)(async()=>{if(!i.show&&!a)return new Promise((e,t)=>{s.current=e,r.current=t,i.onShow()})},[i,a]);return(0,n.jsxs)(n.Fragment,{children:[t({ensureSignedIn:o}),(0,n.jsx)(eD.SignInModal,{canClickOutToDismiss:!0,show:i.show,onHide:()=>{var e;i.onHide(),null==(e=r.current)||e.call(r)},onSignIn:()=>{var e;null==(e=s.current)||e.call(s)}})]})};e.s(["EnsureSignedIn",0,eV],438361);var eK=e.i(427133),eY=e.i(992354),eQ=e.i(522476),eH=e.i(897983);let eG=e=>e({defaultMessage:"Contact the Host",id:"TaptBu",description:"Label for contacting the host of an event."}),eZ=e=>{let{show:t,onHide:a}=e,{user:i}=(0,k.useUserContext)(),s=(0,j.useT)();if(i)return(0,n.jsx)(eY.LuxModalContainer,{onHide:a,variant:"lux-alert",children:t&&(0,n.jsxs)("div",{children:[(0,n.jsx)(eK.LuxAlertTop,{title:eG(s),icon:(0,n.jsx)(eH.default,{}),desc:s({defaultMessage:"Have a question about the event? You can send a message to the host.",id:"VhkxtH",description:"Description for contact host modal."})}),(0,n.jsx)(eJ,{onSubmit:a})]})})},eJ=e=>{let{placeholder:t,initialMessage:a,onChangeMessage:i,onSubmit:s}=e,{event:r}=(0,L.useEventPageContext)(),{user:l}=(0,k.useUserContext)(),{waitForTurnstile:d}=(0,N.useCaptchaContext)(),c=(0,j.useT)();if(l)return(0,n.jsx)(o.Formik,{initialValues:{message:a||""},onSubmit:async e=>{await (0,v.callWithToast)(async()=>{await P.APIClient.post("/events/message-host",{event_api_id:r.api_id,message:e.message},{waitForTurnstile:d}),s()},{success:c({defaultMessage:"Your message is on its way to the host!",id:"Gv3uOF",description:"Success toast message."}),error:c({defaultMessage:"There was an error sending your message.",id:"lirBnv",description:"Error toast message."})})},children:e=>{let{values:s,setFieldValue:r}=e;return(0,n.jsxs)(o.Form,{className:"flex-column gap-2 mt-3",children:[(0,n.jsx)(eQ.LuxTextarea,{placeholder:t||c({defaultMessage:"Whatâ€™s your question for the host?",id:"ZAM5Yz",description:"Placeholder text for contact host input."}),minRows:3,required:!0,autoFocus:!a,value:s.message,onChange:e=>{r("message",e),null==i||i(e)}}),(0,n.jsx)("div",{className:"text-tertiary-alpha fs-xs",children:(0,n.jsx)(eW.T,{defaultMessage:"The host will send replies to {email}.",id:"bJ5lPG",description:"Text for contact host modal.",values:{email:(0,n.jsx)("span",{className:"fw-medium",children:l.email})}})}),(0,n.jsx)(ea.LuxSubmitButton,{className:"mt-2",label:c({defaultMessage:"Send Message",id:"wCIpLl",description:"Label for CTA to send a message."}),fullWidth:!0})]})}})};e.s(["ContactHostButton",0,()=>{let e=(0,eO.useModalState)(),t=(0,j.useT)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eV,{children:a=>{let{ensureSignedIn:i}=a;return(0,n.jsx)(ev.LuxButton,{color:"secondary",variant:"link",size:"small",label:eG(t),onClick:async()=>{await i(),e.onShow()}})}}),(0,n.jsx)(eZ,{...e})]})},"ContactHostForm",0,eJ,"ContactHostModal",0,eZ],717063);let eX=()=>{let e=(0,eO.useModalState)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(eW.T,{defaultMessage:"This event is currently not configured to accept payments. If you believe this to be an error, please <contact>contact the host</contact>.",id:"Y23YQf",description:"Shown when payment is not configured for an event.",values:{contact:t=>(0,n.jsx)(eV,{children:a=>{let{ensureSignedIn:i}=a;return(0,n.jsx)("button",{type:"button",onClick:async()=>{await i(),e.onShow()},className:"jsx-5270e2a9219c203b button-reset link fw-medium animated",children:t})}},"contact")}}),(0,n.jsx)(eZ,{...e}),(0,n.jsx)(I.default,{id:"5270e2a9219c203b",children:".link.jsx-5270e2a9219c203b{border-bottom:1px solid var(--warning-pale-bg-color)}.link.jsx-5270e2a9219c203b:hover{color:var(--warning-active-color);border-bottom-color:var(--warning-active-color)}"})]})};e.s(["NoStripeWarningForEvent",0,eX],781431);var e$=e.i(559199);let e0=()=>{var e,t;let{coupon:a,cryptoInfo:i,cryptoRequirement:s,eth_address_requirement:r,event:l,event_invite:d,phone_number_requirement:c,registration_questions:u,solana_address_requirement:m,name_requirement:p,stripe_account_id:f,ticketTypeToSelection:x,ticket_types:h,waitlistActive:v,sold_out:g,calendar:y,accepts_usdc_for_usd:b}=(0,L.useEventPageContext)(),{values:_}=(0,o.useFormikContext)(),w=X({coupon:a,ticket_types:h,ticket_type_to_selection:x,tax_config:y.tax_config}),T=w.cents_to_pay>0,k=(0,j.useT)(),N=!!(s&&!i);return(0,n.jsxs)("div",{className:I.default.dynamic([["9f2f2d8a52f09fdb",[ei.ResponsiveBreakpoint.small]]])+" flex-column pb-5",children:[(0,n.jsxs)("div",{className:I.default.dynamic([["9f2f2d8a52f09fdb",[ei.ResponsiveBreakpoint.small]]])+" mb-2 pb-4",children:[(0,n.jsx)("h3",{className:I.default.dynamic([["9f2f2d8a52f09fdb",[ei.ResponsiveBreakpoint.small]]])+" section-title",children:k({defaultMessage:"Your Info",id:"irwwe2",description:"Section header on event registration form."})}),(0,n.jsx)("div",{className:I.default.dynamic([["9f2f2d8a52f09fdb",[ei.ResponsiveBreakpoint.small]]])+" flex-column gap-4",children:(0,n.jsx)(e$.RegistrationFormQuestions,{eth_address_requirement:r,registration_questions:u,solana_address_requirement:m,name_requirement:p,phone_number_requirement:c})})]}),(0,n.jsx)(et.LuxCollapse,{show:T,children:(0,n.jsxs)("div",{className:I.default.dynamic([["9f2f2d8a52f09fdb",[ei.ResponsiveBreakpoint.small]]]),children:[(0,n.jsx)("h3",{className:I.default.dynamic([["9f2f2d8a52f09fdb",[ei.ResponsiveBreakpoint.small]]])+" section-title",children:k({defaultMessage:"Payment",id:"RDSwx9",description:"Payment information on event registration form."})}),(0,n.jsx)(eB,{acceptUsdcForUsd:b,noStripeWarningMessage:(0,n.jsx)(eX,{}),paymentFor:l.name||k({defaultMessage:"Event Ticket",id:"FdeAWk",description:'Event checkout. "Payment for" value.'}),currency:w.currency,stripeAccountId:f,disabled:!w.can_register||N,entity:{type:"user",name:_.name,email:_.email},sellerEntity:{seller_type:"event",event_api_id:l.api_id},config:w.require_approval?{mode:"payment_authorization",amount:null!=(e=w.cents_to_pay)?e:0,buttonCta:k({defaultMessage:"Request to Join",id:"m3SHti",description:"CTA button to register for an event that requires approval."}),disclaimer:k({defaultMessage:"You will not be charged until your registration is approved.",id:"NEjdcF"}),payment_date:l.start_at}:{mode:"payment",amount:null!=(t=w.cents_to_pay)?t:0}})]})}),(0,n.jsx)(et.LuxCollapse,{show:!T,children:(0,n.jsx)(ea.LuxSubmitButton,{fullWidth:!0,label:G({ticketTypeToSelection:x,ticket_types:h,forceNoPayment:!0,waitlistActive:v,soldOut:g,t:k,event_invite:d}),color:"primary",disabled:N||!w.can_register})}),(0,n.jsx)(I.default,{id:"9f2f2d8a52f09fdb",dynamic:[ei.ResponsiveBreakpoint.small],children:".section-title.__jsx-style-dynamic-selector{font-size:var(--font-size-xxl)}@media (max-width:".concat(ei.ResponsiveBreakpoint.small,"){.section-title.__jsx-style-dynamic-selector{font-size:var(--font-size-xl)}}")})]})};var e2=e.i(355521),e1=e.i(764205),e5=e.i(90618),e3=e.i(426778),e4=e.i(454657),e7=e.i(88315),e6=e.i(632375),e9=e.i(677233);let e8=e=>{let{title:t}=e;return(0,n.jsx)("div",{className:"text-tertiary-alpha min-width-0",children:t})},te=e=>{let{className:t,children:a}=e;return(0,n.jsxs)("div",{className:"jsx-fd073120d93d8690 "+((0,B.default)("info-row-wrapper",t)||""),children:[a,(0,n.jsx)(I.default,{id:"fd073120d93d8690",children:".info-row-wrapper.jsx-fd073120d93d8690{--padding:.75rem var(--side-padding)}.info-row-wrapper.jsx-fd073120d93d8690 .info-row{padding:var(--padding)}"})]})},tt=e=>{let{className:t,label:a,value:i,detail:s,expanded:r=!1,setExpanded:o}=e,l=(0,x.useBoolean)(r),d=null!=r?r:l.value;return(0,n.jsxs)(te,{className:t,children:[(0,n.jsxs)("div",{onClick:s?()=>{let e=!d;l.setValue(e),null==o||o(e)}:void 0,className:"jsx-e44fb317f91ad842 "+((0,B.default)("info-row flex-center spread gap-2",{clickable:s})||""),children:[(0,n.jsx)("div",{className:"jsx-e44fb317f91ad842 label text-tertiary-alpha mr-2",children:a}),(0,n.jsx)("div",{className:"jsx-e44fb317f91ad842 "+((0,B.default)("value flex-1 text-right fw-medium",{"text-ellipses":"string"==typeof i})||""),children:i}),s&&(0,n.jsx)("div",{className:"jsx-e44fb317f91ad842 text-tertiary-alpha chevron",children:(0,n.jsx)(e9.Chevron,{direction:d?"down":"right"})})]}),s&&(0,n.jsx)(et.LuxCollapse,{show:d,children:(0,n.jsx)("div",{className:"jsx-e44fb317f91ad842 detail",children:s})}),(0,n.jsx)(I.default,{id:"e44fb317f91ad842",children:".info-row.clickable.jsx-e44fb317f91ad842{cursor:pointer;transition:var(--transition)}@media (hover:hover){.info-row.clickable.jsx-e44fb317f91ad842:hover{background-color:var(--hover-bg-color)}}.chevron.jsx-e44fb317f91ad842{margin-right:-.25rem}.detail.jsx-e44fb317f91ad842{background-color:var(--opacity-light);padding:1rem var(--side-padding)}"})]})},ta=e=>{var t;let{amount:a}=e,{ticket_types:i,coupon:s,setCouponCode:r,ticketTypeToSelection:o}=(0,L.useEventPageContext)(),l=(0,j.useT)(),d=(0,U.useLocale)(),c=(0,u.useMemo)(()=>{var e;if(!s)return null;if(s.event_ticket_type_api_id&&!(null==(e=o[s.event_ticket_type_api_id])?void 0:e.count)){let e=i.find(e=>e.api_id===s.event_ticket_type_api_id);return e?l({defaultMessage:"This coupon only applies to â€œ{ticket_type}â€.",description:"Event checkout. Shown in the checkout section if the coupon is for a different ticket type.",id:"tzGoB+"},{ticket_type:e.name}):l({defaultMessage:"This coupon does not apply to the ticket youâ€™ve chosen.",description:"Event checkout. Shown in the checkout section if the coupon is for a different ticket type.",id:"FCL5N0"})}return a.currency&&s.currency&&s.cents_off&&a.currency!==s.currency?l({defaultMessage:"This coupon only applies to tickets denominated in {currency}.",description:"Event checkout. Shown in the checkout section if the coupon is for a different ticket type.",id:"SFKuFy"},{currency:(0,O.currencyName)({currency:s.currency,locale:d})}):null},[s,o,a.currency,l,i,d]);if(!s)return(0,n.jsx)(ti,{amount:a});let m=(0,e6.couponDiscountDesc)({percent_off:s.percent_off,cents_off:s.cents_off,currency:null!=(t=s.currency)?t:a.currency,locale:d,t:l});return(0,n.jsxs)("div",{className:"jsx-632a8af74dbe65c4",children:[(0,n.jsxs)("div",{className:"jsx-632a8af74dbe65c4 flex-baseline spread coupon-row py-1",children:[(0,n.jsx)(e8,{title:l({defaultMessage:"Coupon",id:"qA2eJk"})}),(0,n.jsxs)("div",{className:"jsx-632a8af74dbe65c4 flex-baseline flex-wrap gap-2",children:[(0,n.jsx)("div",{className:"jsx-632a8af74dbe65c4 "+((c?"text-tertiary-alpha":"text-success")||""),children:a.coupon_applied&&!c?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("code",{className:"jsx-632a8af74dbe65c4 fw-medium",children:s.code}),(0,n.jsxs)("span",{className:"jsx-632a8af74dbe65c4",children:[" Â· ",m]})]}):(0,n.jsx)("code",{className:"jsx-632a8af74dbe65c4 fw-medium strikethrough",children:s.code})}),(0,n.jsx)(ev.LuxButton,{icon:(0,n.jsx)(e7.default,{}),label:l({defaultMessage:"Remove Coupon",id:"sAsAPx"}),variant:"link",color:"secondary",iconPlacement:"icon-only",size:"small",className:"remove-icon",onClick:async()=>r(null)})]})]}),(0,n.jsx)(et.LuxCollapse,{show:!!c,children:(0,n.jsx)("div",{className:"jsx-632a8af74dbe65c4 coupon-row fs-xs text-warning",children:c})}),(0,n.jsx)(I.default,{id:"632a8af74dbe65c4",children:".coupon-row.jsx-632a8af74dbe65c4{padding:.25rem 0}.coupon-row.jsx-632a8af74dbe65c4 .remove-icon{transform:translateY(1px)}"})]})},ti=e=>{let{amount:t}=e,{event:a,setCouponCode:i}=(0,L.useEventPageContext)(),s=(0,x.useBoolean)(),r=(0,u.useRef)(null),l=(0,j.useT)();return(0,u.useEffect)(()=>{s.value&&setTimeout(()=>{var e;null==(e=r.current)||e.focus()},300)},[s.value]),(0,n.jsxs)(et.LuxCollapse,{show:t.cents_original>0||!t.can_register,children:[(0,n.jsxs)("div",{className:"jsx-c9565716a7e002ac",children:[(0,n.jsxs)("div",{className:"jsx-c9565716a7e002ac flex-center spread py-1",children:[(0,n.jsx)(ev.LuxButton,{label:l({defaultMessage:"Add a coupon",description:"Button CTA to enter coupon code. Keep this short.",id:"7ggsi5"}),variant:"link",className:"py-1",color:"brand",onClick:s.toggle}),(0,n.jsx)("div",{className:"jsx-c9565716a7e002ac"})]}),(0,n.jsx)(et.LuxCollapse,{show:s.value,children:(0,n.jsx)(o.Formik,{initialValues:{code:""},validationSchema:e3.object().shape({code:e3.string().required().min(1)}),onSubmit:async e=>{let{code:n}=e;await (0,v.callWithToast)(async()=>{await P.APIClient.post("/event/coupons/check-coupon",{event_api_id:a.api_id,code:n,currency:t.currency}),await i(n),s.setFalse()},{success:l({defaultMessage:"Coupon code applied successfully!",id:"WtKKIa"}),error:l({defaultMessage:"Coupon code invalid or expired.",id:"+zNDpK"})})},children:e=>{let{values:t,submitForm:a}=e;return(0,n.jsxs)("div",{className:"jsx-c9565716a7e002ac flex-center spread gap-2 pt-1 pb-2",children:[(0,n.jsx)(o.Field,{name:"code",children:e=>{let{field:t,form:i}=e;return(0,n.jsx)(e4.LuxInput,{className:"coupon-input flex-1",ref:r,type:"token",monospace:!0,...t,onChange:e=>i.setFieldValue(t.name,e.toUpperCase()),inputProps:{onKeyDown:e=>{"Enter"===e.key&&(a(),e.preventDefault())}}})}}),(0,n.jsx)(ev.LuxButton,{label:l(z.CT.Apply_CouponCode),className:"apply-button flex-shrink-0",disabled:!t.code,onClick:a})]})}})})]}),(0,n.jsx)(I.default,{id:"c9565716a7e002ac",children:".right.jsx-c9565716a7e002ac{max-width:200px;position:relative}.right.jsx-c9565716a7e002ac .coupon-input input{padding-right:4rem}.right.jsx-c9565716a7e002ac .apply-button{top:var(--input-vertical-padding);position:absolute;right:.625rem}"})]})};var ts=e.i(70355),tn=e.i(558573);let tr=e=>{let{label:t,price:a,desc:i}=e;return(0,n.jsxs)("div",{className:"jsx-59b782d3edeee115 price-display",children:[(0,n.jsx)("div",{className:"jsx-59b782d3edeee115 fs-sm text-tinted",children:t}),(0,n.jsxs)("div",{className:"jsx-59b782d3edeee115 flex-baseline gap-2",children:[(0,n.jsx)("div",{className:"jsx-59b782d3edeee115 price reduced-line-height",children:a}),i&&(0,n.jsx)("div",{className:"jsx-59b782d3edeee115 desc fs-sm text-tinted",children:i})]}),(0,n.jsx)(I.default,{id:"59b782d3edeee115",children:".price-display.jsx-59b782d3edeee115{margin-bottom:-.25rem}.price.jsx-59b782d3edeee115{font-size:var(--font-size-xxxl);font-weight:var(--font-weight-medium)}"})]})},to=e=>{let{suggested_cents:t,min_cents:a,currency:i,t:s,locale:n}=e;return a?s({defaultMessage:"Suggested: {suggested} (min {minimum})",id:"WuGigM",description:"Price description for a flexible price ticket. suggested / minimum are the prices."},{suggested:(0,O.formatPrice)({cents:t,currency:i,locale:n,checkWholeNumber:!0}),minimum:(0,O.formatPrice)({cents:a,currency:i,locale:n,checkWholeNumber:!0})}):s({defaultMessage:"Suggested: {suggested} (pay what you want)",id:"92Nue+",description:"Price description for a flexible price ticket with no minimum."},{suggested:(0,O.formatPrice)({cents:t,currency:i,locale:n,checkWholeNumber:!0})})};e.s(["SingleTicketTypePriceDisplay",0,e=>{let t,{priceInfo:a,allowMulti:i}=e,s=(0,U.useLocale)(),r=(0,j.useT)(),o=r(z.CT.TicketPrice);return a.flexible?0===a.minCents?(o=r({defaultMessage:"Suggested Donation",id:"oRL8Y3",description:"Suggested donation label in the registration card for flexible ticket types. This is if the minimum price is 0."}),t=r({defaultMessage:"Pay what you want",id:"PT83eq",description:"Pay what you want price description in the registration card."})):(o=r(z.CT.SuggestedPrice),t=r(i?{defaultMessage:"Minimum {price} per ticket",id:"jVFu2M",description:"Minimum price per ticket description in the registration card."}:{defaultMessage:"Minimum {price}",id:"nzSbgx",description:"Minimum price per ticket description in the registration card."},{price:(0,O.formatPrice)({cents:a.minCents,currency:a.currency,locale:s})})):i&&(t=r({defaultMessage:"Per ticket",id:"6wGYRO",description:"Per ticket price description in the registration card."})),(0,n.jsx)(tr,{label:o,price:(0,O.formatPrice)({...a,locale:s}),desc:t})},"formatFlexiblePrice",0,to],621894);let tl=()=>{let{ticketTypeToSelection:e,coupon:t,ticket_types:a,calendar:i}=(0,L.useEventPageContext)();return X({ticket_type_to_selection:e,coupon:t,ticket_types:a,tax_config:i.tax_config}).is_flexible?(0,n.jsx)(te,{className:"row",children:(0,n.jsx)("div",{className:"info-row",children:(0,n.jsx)(td,{})})}):null},td=()=>{let{ticket_types:e,ticketTypeToSelection:t,setTicketTypeToSelection:a}=(0,L.useEventPageContext)(),i=(0,j.useT)(),s=(0,U.useLocale)(),r=(0,u.useMemo)(()=>e.filter(e=>{var a;return e.is_flexible&&(null==(a=t[e.api_id])?void 0:a.count)}),[e,t]),o=r.length>0,l=Object.entries(t).filter(e=>{let[t,{count:a}]=e;return a>0}).map(e=>{let[t]=e;return t}),d=i({defaultMessage:"Name Your Price",id:"KKlz8K",description:"Label for a flexible price where the user picks the price for the event."}),c=Object.values(t).some(e=>e.count>1);if(1===l.length){var m,p;let r=e.find(e=>e.api_id===l[0]);if(!r||null==r.currency)return null;let c=t[r.api_id],u=c.amount,f=(null!=(m=r.min_cents)?m:0)*c.count,x=(null!=(p=r.cents)?p:0)*c.count;return(0,n.jsx)(et.LuxCollapse,{show:!!o,children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex-baseline spread",children:[(0,n.jsx)(e8,{title:d}),(0,n.jsx)(tn.PriceInput,{cents:c.amount,setCents:e=>{a({...t,[r.api_id]:{...t[r.api_id],amount:e}})},error:u<f,currency:r.currency,minCents:f})]}),(0,n.jsx)("div",{className:(0,B.default)("fs-xs mt-2 animated",{"text-error":u<f,"text-tertiary-alpha":u>=f}),children:to({suggested_cents:x,min_cents:f,locale:s,currency:r.currency,t:i})})]})})}return(0,n.jsx)(et.LuxCollapse,{show:!!o,children:(0,n.jsxs)("div",{className:"flex-column gap-2",children:[(0,n.jsx)("div",{className:"fw-medium",children:d}),r.map(e=>{var r,o;let{count:l,amount:d}=t[e.api_id],u=(null!=(r=e.cents)?r:0)*l,m=(null!=(o=e.min_cents)?o:0)*l;return(0,n.jsxs)("div",{className:"jsx-184f5e100eb79344",children:[(0,n.jsxs)("div",{className:"jsx-184f5e100eb79344 flex-baseline spread gap-2",children:[(0,n.jsx)(e8,{title:(0,n.jsxs)("div",{className:"jsx-184f5e100eb79344 min-width-0 text-ellipses",children:[c&&(0,n.jsxs)("span",{className:"jsx-184f5e100eb79344 text-tertiary-alpha count mono-number",children:[l.toLocaleString(),"Ã—"]}),(0,n.jsx)("span",{className:"jsx-184f5e100eb79344",children:e.name})]})}),(0,n.jsx)(tn.PriceInput,{className:"flex-shrink-0",cents:d,setCents:i=>{a({...t,[e.api_id]:{...t[e.api_id],amount:i}})},error:d<m,currency:e.currency,minCents:m})]}),(0,n.jsx)("div",{className:"jsx-184f5e100eb79344 "+((0,B.default)("fs-xs mt-2 animated",{"text-error":d<m,"text-tertiary-alpha":d>=m})||""),children:to({suggested_cents:u,min_cents:m,locale:s,currency:e.currency,t:i})}),(0,n.jsx)(I.default,{id:"184f5e100eb79344",children:".count.jsx-184f5e100eb79344{margin-right:.375rem}"})]},e.api_id)})]})})};var tc=e.i(497061),tu=e.i(222099);let tm=e=>{let{expanded:t,setExpanded:a}=e,{can_register_for_multiple_tickets:i}=(0,L.useEventPageContext)();return i?(0,n.jsx)(tf,{expanded:t,setExpanded:a}):(0,n.jsx)(tp,{expanded:t,setExpanded:a})},tp=e=>{let{expanded:t,setExpanded:a}=e,{ticket_types:i,ticketTypeToSelection:s,setCryptoInfo:r,setTicketTypeToSelection:o}=(0,L.useEventPageContext)(),l=(0,j.useT)(),d=(0,u.useMemo)(()=>{var e;if(0===(0,F.sum)(Object.values(s).map(e=>e.count)))return l({defaultMessage:"Choose Ticket",id:"7agdWQ",description:"Event page. CTA on the ticket selector."});let t=i.find(e=>s[e.api_id].count);return null!=(e=null==t?void 0:t.name)?e:l(z.CT.Unknown)},[i,s,l]);return i.length<=1?null:(0,n.jsx)(tt,{className:"row",label:l({defaultMessage:"Ticket",id:"1TyNRB"}),value:d,detail:(0,n.jsx)(Q.TicketTypeSelector,{ticketTypeToSelection:s,setTicketTypeToSelection:async e=>{o(e),r(null)},addTax:!1}),expanded:t,setExpanded:a})},tf=e=>{let{expanded:t,setExpanded:a}=e,i=(0,j.useT)(),{ticketTypeToSelection:s,setTicketTypeToSelection:r,ticket_types:o,setCryptoInfo:l,can_register_for_multiple_tickets:d}=(0,L.useEventPageContext)(),c=(0,x.useBoolean)(t),u=null!=t?t:c.value;if(!d)return null;if(1===o.length)return(0,n.jsx)(tx,{});let m=J({ticket_types:o});return(0,n.jsxs)(te,{className:"row",children:[(0,n.jsxs)("div",{className:"jsx-c5a48a9e208a270 flex-baseline spread info-row py-2",children:[(0,n.jsx)("div",{className:"jsx-c5a48a9e208a270 fw-medium",children:(0,n.jsx)(eW.T,{defaultMessage:"Tickets",id:"wbjZNA"})}),(0,n.jsx)(ev.LuxButton,{label:u?i({defaultMessage:"Done",description:"Button label to save / finish editing.",id:"DDxqKS"}):i(z.CT.Edit),variant:"link",size:"small",color:"brand",onClick:()=>{let e=!u;c.setValue(e),null==a||a(e)}})]}),(0,n.jsxs)("div",{className:"jsx-c5a48a9e208a270 pt-2 info-row",children:[(0,n.jsx)(et.LuxCollapse,{show:!u,children:(0,n.jsx)("div",{className:"jsx-c5a48a9e208a270 flex-column gap-1",children:Object.entries(s).map(e=>{let[t,{count:a,amount:s}]=e,r=o.find(e=>e.api_id===t);if(r&&a)return(0,n.jsxs)("div",{className:"jsx-c5a48a9e208a270 flex-baseline spread text-tertiary-alpha gap-2",children:[(0,n.jsxs)("div",{className:"jsx-c5a48a9e208a270 left min-width-0 flex-baseline gap-1",children:[(0,n.jsxs)("span",{className:"jsx-c5a48a9e208a270 mono-number count",children:[a.toLocaleString(),"Ã—"]}),(0,n.jsx)("span",{className:"jsx-c5a48a9e208a270 text-ellipses",children:r.name})]}),m&&(0,n.jsx)("div",{className:"jsx-c5a48a9e208a270 mono-number",children:s?(0,n.jsx)(e2.Price,{cents:s,currency:r.currency}):i(z.CT.Free_Price)})]},t)})})}),(0,n.jsx)(et.LuxCollapse,{show:u,children:(0,n.jsx)("div",{className:"jsx-c5a48a9e208a270",children:(0,n.jsx)(Q.TicketTypeSelector,{ticketTypeToSelection:s,setTicketTypeToSelection:async e=>{r(e),l(null)},addTax:!1})})})]}),(0,n.jsx)(I.default,{id:"c5a48a9e208a270",children:".left.jsx-c5a48a9e208a270{white-space:nowrap}.count.jsx-c5a48a9e208a270{margin-right:.125rem}"})]})},tx=()=>{var e,t;let{ticketTypeToSelection:a,setTicketTypeToSelection:i,ticket_types:s,ticket_info:r}=(0,L.useEventPageContext)(),o=null!=(t=null==(e=a[s[0].api_id])?void 0:e.count)?t:0,l=(0,j.useT)(),d=(0,tu.maxAllowedCountForTicketType)({ticket_type:s[0],ticket_info:r});return(0,n.jsx)(te,{className:"row",children:(0,n.jsxs)("div",{className:"flex-baseline spread info-row",children:[(0,n.jsx)("div",{className:"fw-medium",children:(0,n.jsx)(eW.T,{defaultMessage:"Tickets",id:"wbjZNA"})}),(0,n.jsx)(tc.CountSelector,{count:o,setCount:e=>{var t;i({[s[0].api_id]:{count:e,amount:(null!=(t=s[0].cents)?t:0)*e}})},min:1,max:null==d?void 0:d.count,maxTooltipLabel:l({defaultMessage:"This is all thatâ€™s remaining",id:"Kq2YXT",description:"Event page. Ticket selector. Single ticket type, multiple tickets event. Message when the user can't add more tickets."})})]})})},th=()=>{let{event:e,calendar:t,coupon:a,ticket_types:i,can_register_for_multiple_tickets:s,ticketTypeToSelection:r}=(0,L.useEventPageContext)(),o=X({ticket_type_to_selection:r,coupon:a,ticket_types:i,tax_config:t.tax_config}),l=o.coupon_applied,d=(0,x.useBoolean)(!!(a&&!l));if((0,u.useEffect)(()=>{d.value||d.setValue(!!(a&&!l))},[a,r,o,d,l]),!Z({event:e,ticket_types:i,can_register_for_multiple_tickets:s}))return null;let c=J({ticket_types:i});return(0,n.jsxs)("div",{className:I.default.dynamic([["4193e2466f1a0fdf",[ei.ResponsiveBreakpoint.small]]])+" info-panel",children:[(0,n.jsxs)("div",{className:I.default.dynamic([["4193e2466f1a0fdf",[ei.ResponsiveBreakpoint.small]]])+" info-panel-content",children:[(0,n.jsx)("h2",{className:I.default.dynamic([["4193e2466f1a0fdf",[ei.ResponsiveBreakpoint.small]]]),children:(0,n.jsx)(eW.T,{defaultMessage:"Registration",id:"VWf7mP",description:"Registration panel title."})}),(0,n.jsx)(H,{className:"event-header"}),(0,n.jsx)(tm,{expanded:d.value,setExpanded:d.setValue}),(0,n.jsx)(tl,{}),(0,n.jsx)(tv,{className:"row"}),c&&(0,n.jsx)(tg,{className:"row"})]}),(0,n.jsx)(I.default,{id:"4193e2466f1a0fdf",dynamic:[ei.ResponsiveBreakpoint.small],children:".info-panel-content.__jsx-style-dynamic-selector .row+.row{border-top:1px solid var(--divider-color)}.info-panel.__jsx-style-dynamic-selector{border:1px solid var(--divider-color);border-radius:var(--large-border-radius);--side-padding:1rem;position:-webkit-sticky;position:sticky;top:3.5rem;overflow:hidden}.info-panel.__jsx-style-dynamic-selector h2.__jsx-style-dynamic-selector{display:none}.info-panel.__jsx-style-dynamic-selector .event-header{padding:var(--side-padding)}.info-panel.__jsx-style-dynamic-selector .event-header+.row .info-row{margin-top:-.5rem}@media (max-width:".concat(ei.ResponsiveBreakpoint.small,"){.info-panel.__jsx-style-dynamic-selector{--side-padding:var(--overlay-padding);position:inherit;border:none;border-bottom:1px solid var(--divider-color);background-color:var(--opacity-light);margin:calc(-1*var(--overlay-padding));border-radius:0;margin-bottom:1.5rem}.info-panel.__jsx-style-dynamic-selector h2.__jsx-style-dynamic-selector{font-size:var(--font-size-xl);padding:1.125rem var(--overlay-padding).25rem var(--overlay-padding);margin-bottom:0;display:block}.info-panel.__jsx-style-dynamic-selector .event-header{padding:.75rem var(--side-padding)}}")})]})},tv=e=>{let{className:t}=e,{cryptoInfo:a,cryptoRequirement:i,setCryptoInfo:s}=(0,L.useEventPageContext)(),r=(0,j.useT)();if(!a)return i?(0,n.jsx)(tt,{label:r({defaultMessage:"Token",id:"MLPUrj",description:"Registration panel. Crypto requirement row title."}),value:(0,n.jsxs)("div",{className:"jsx-5e7d15607941a6b1 button-wrapper flex-baseline justify-end",children:[(0,n.jsx)(ts.GetTokenButton,{req:i,label:r({defaultMessage:"Verify Ownership",id:"iAxxI+",description:"Registration panel. Crypto requirement CTA."}),onCryptoInfo:s,size:"small",color:"ethereum",icon:(0,n.jsx)(e1.default,{})}),(0,n.jsx)(I.default,{id:"5e7d15607941a6b1",children:".button-wrapper.jsx-5e7d15607941a6b1{margin:-.1875rem 0}"})]}),className:t},"unverified-token"):null;let o="";return"erc-20"===a.token.type?o=a.token.contract_name||a.token.symbol||r({defaultMessage:"Verified",id:"IbZoVF",description:"Registration panel. Crypto requirement row. Token name fallback."}):"erc-721"===a.token.type&&(o=a.token.token_name||a.token.contract_name||r({defaultMessage:"Verified",id:"IbZoVF",description:"Registration panel. Crypto requirement row. Token name fallback."})),(0,n.jsx)(tt,{label:r({defaultMessage:"Token",id:"MLPUrj",description:"Registration panel. Crypto requirement row title."}),value:o,className:t},"verified-token")},tg=e=>{let{className:t}=e,{ticketTypeToSelection:a,coupon:i,ticket_types:s,calendar:r}=(0,L.useEventPageContext)(),o=(0,j.useT)(),l=(0,U.useLocale)(),d=X({ticket_type_to_selection:a,coupon:i,ticket_types:s,tax_config:r.tax_config});return(0,n.jsxs)("div",{className:"jsx-6798717d5536d220 "+((0,B.default)("pricing-section",t)||""),children:[(0,n.jsxs)("div",{className:"jsx-6798717d5536d220 info",children:[(0,n.jsx)(ty,{amount:d}),(0,n.jsxs)("div",{className:"jsx-6798717d5536d220 amount-row flex-baseline spread",children:[(0,n.jsx)(e8,{title:o(z.CT.Total_ToPay)}),(0,n.jsx)("div",{className:"jsx-6798717d5536d220 amount",children:d.can_register?d.cents_to_pay>0&&d.currency?(0,O.formatPrice)({cents:d.cents_to_pay,currency:d.currency,locale:l}):o({defaultMessage:"Free",id:"AEi7Db",description:"The total amount you will pay on the checkout section."}):"â€”"})]})]}),(0,n.jsx)(I.default,{id:"6798717d5536d220",children:".pricing-section.jsx-6798717d5536d220{padding:.5rem var(--side-padding)}.pricing-section.jsx-6798717d5536d220 input.lux-input:focus{background-color:var(--bg-opacity-48)}.event-header+.pricing-section{padding-top:0}.amount.jsx-6798717d5536d220{font-size:var(--font-size-xxxl);font-weight:var(--font-weight-medium)}"})]})},ty=e=>{let{amount:t}=e,{can_register_for_multiple_tickets:a,calendar:i}=(0,L.useEventPageContext)(),s=(0,j.useT)();return 0!==t.cents_original&&t.can_register&&t.currency?a||i.tax_config?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex-center spread text-tertiary-alpha gap-2 py-1",children:[(0,n.jsx)("div",{className:"text-ellipses",children:s(z.CT.Subtotal)}),(0,n.jsx)("div",{className:"mono-number",children:(0,n.jsx)(e2.Price,{cents:t.cents_original,currency:t.currency})})]}),(0,n.jsx)(ta,{amount:t}),i.tax_config&&(0,n.jsxs)("div",{className:"flex-center spread text-tertiary-alpha gap-2 py-1",children:[(0,n.jsx)("div",{className:"text-ellipses",children:(0,n.jsx)(e5.TaxName,{tax_config:i.tax_config})}),(0,n.jsx)("div",{className:"mono-number",children:(0,n.jsx)(e2.Price,{cents:t.cents_tax,currency:t.currency})})]})]}):(0,n.jsx)(ta,{amount:t}):null};var tb=e.i(129753),tj=e.i(455961),t_=e.i(512538),tw=e.i(36846);let tT=e=>{let{status:t,onHide:a}=e,i=(0,j.useT)();((e,t)=>{let a=(0,u.useRef)(void 0),i=(0,u.useRef)(e),[s,n]=(0,u.useState)(!1),r="number"==typeof t?t:q.Duration.fromObject(t).as("milliseconds"),o=(0,u.useCallback)(()=>{a.current&&(clearTimeout(a.current),n(!0))},[]);return(0,u.useEffect)(()=>{"function"==typeof e&&(i.current=e)},[e]),(0,u.useEffect)(()=>(a.current=setTimeout(()=>{i.current()},r),o),[r,o])})(a,{seconds:t.approval_status===tw.GuestApprovalStatus.Approved?4.5:5.5});let s=i({defaultMessage:"Youâ€™re In",id:"i/7h6w",description:"Indicating that the registration is approved."}),r=i({defaultMessage:"Thank you. We look forward to seeing you!",id:"QflpoU",description:"Indicating that the registration is approved."});t.approval_status===tw.GuestApprovalStatus.Waitlist?(s=i({defaultMessage:"Joined Waitlist",id:"cMStH3",description:"Indicating that the guest has joined the waitlist."}),r=i({defaultMessage:"Thank you. Youâ€™ve joined the waitlist. Weâ€™ll let you know if your spot is approved.",id:"kru5Y5",description:"Indicating that the guest has joined the waitlist."})):t.approval_status===tw.GuestApprovalStatus.PendingApproval&&(s=i({defaultMessage:"Registration Pending",id:"FUYOm7",description:"Indicating that the registration is pending approval."}),r=i({defaultMessage:"Thank you. Your request has been submitted. Weâ€™ll let you know if the host approves your registration.",id:"UWGzQs",description:"Indicating that the registration is pending approval."}));let o={px:64,delayMs:500};return(0,n.jsxs)("div",{className:I.default.dynamic([["5c29ab117f7d62ab",[ei.ResponsiveBreakpoint.tiny]]])+" success-wrapper flex-column gap-2 flex-center-center",children:[(0,n.jsx)("div",{className:I.default.dynamic([["5c29ab117f7d62ab",[ei.ResponsiveBreakpoint.tiny]]])+" icon mb-3",children:t.approval_status===tw.GuestApprovalStatus.Waitlist?(0,n.jsx)(t_.AnimatedWaitlist,{...o}):t.approval_status===tw.GuestApprovalStatus.PendingApproval?(0,n.jsx)(tj.AnimatedHourglass,{...o}):(0,n.jsx)(tb.AnimatedCheckmark,{...o,showConfetti:!0})}),(0,n.jsxs)("div",{className:I.default.dynamic([["5c29ab117f7d62ab",[ei.ResponsiveBreakpoint.tiny]]])+" text-center info",children:[(0,n.jsx)(d.m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{ease:y.MOTION_EASE,duration:.5,delay:1.35},children:(0,n.jsx)("h2",{className:I.default.dynamic([["5c29ab117f7d62ab",[ei.ResponsiveBreakpoint.tiny]]])+" fw-medium mb-0",children:s})}),(0,n.jsx)(d.m.div,{initial:{opacity:0},animate:{opacity:1},transition:{ease:y.MOTION_EASE,duration:.5,delay:2.25},children:(0,n.jsx)("div",{className:I.default.dynamic([["5c29ab117f7d62ab",[ei.ResponsiveBreakpoint.tiny]]])+" subtitle text-secondary-alpha text-balanced",children:r})})]}),(0,n.jsx)(I.default,{id:"5c29ab117f7d62ab",dynamic:[ei.ResponsiveBreakpoint.tiny],children:".success-wrapper.__jsx-style-dynamic-selector{height:100vh;padding:1rem 1rem 30vh}.success-wrapper.__jsx-style-dynamic-selector .subtitle.__jsx-style-dynamic-selector{max-width:450px;padding:1rem}@media (max-width:".concat(ei.ResponsiveBreakpoint.tiny,"){.success-wrapper.__jsx-style-dynamic-selector{gap:.25rem}.success-wrapper.__jsx-style-dynamic-selector .subtitle.__jsx-style-dynamic-selector{padding:.5rem 1rem}}")})]})},tk=e=>{let{onRegister:t,onEmailBounced:a}=e,i=(0,c.useRouter)(),{user:s}=(0,k.useUserContext)(),{calendar:l,can_register_for_multiple_tickets:d,coupon:u,cryptoInfo:p,event:y,event_invite:C,guest_data:I,openedFrom:B,phone_number_requirement:q,refreshEvent:U,registration_questions:F,sold_out:z,startPhoneVerification:O,ticketTypeToSelection:W,ticket_types:D}=(0,L.useEventPageContext)(),V=(0,h.useIsMounted)(),{tintColor:K,lightness:Y}=(0,f.useTintContext)(),Q=(0,x.useBoolean)(),H=(0,j.useT)(),{waitForTurnstile:G}=(0,N.useCaptchaContext)();if(!V)return null;let{email:J}=I;return(0,n.jsx)(o.Formik,{initialValues:{name:(null==s?void 0:s.name)||(null==C?void 0:C.name)||i.query.name||"",first_name:(null==s?void 0:s.first_name)||"",last_name:(null==s?void 0:s.last_name)||"",email:(null==s?void 0:s.email)||J||(null==C?void 0:C.email)||i.query.email||"",phone_number:(null==s?void 0:s.phone_number)||(null==C?void 0:C.phone_number)||i.query.phone_number||"",registration_answers:(0,S.getInitialRegistrationAnswers)({questions:null!=F?F:[],user:s}),eth_address_info:null,solana_address_info:null},onSubmit:async e=>{var i,n;let o=X({ticket_type_to_selection:W,coupon:u,ticket_types:D,tax_config:l.tax_config});if(!o.can_register)return void(0,b.toastError)(H({defaultMessage:"There was an issue registering for the event.",id:"HbclMJ"}));let d=window.paymentInfo;if(o.cents_to_pay>0&&!d&&!o.is_crypto)return;let{name:c,first_name:m,last_name:f,email:x,registration_answers:h,eth_address_info:j,phone_number:k,solana_address_info:N}=e,S=null!=(i=null==d?void 0:d.solana_address)?i:null,E=null!=(n=null==d?void 0:d.wallet_connection)?n:null,{error:L}=await (0,v.callWithToast)(async()=>{var e,a,i,s,n,r;let l=await P.APIClient.post("/event/register",{name:c,first_name:m,last_name:f,email:x,event_api_id:y.api_id,for_waitlist:z,payment_method:null!=(e=null==d?void 0:d.payment_method)?e:null,payment_currency:null!=(a=null==d?void 0:d.payment_currency)?a:null,registration_answers:null!=h?h:[],coupon_code:o.coupon_applied&&null!=(i=null==u?void 0:u.code)?i:null,timezone:(0,w.getTimezoneIana)(),token_gate_info:p,eth_address_info:j,phone_number:k,solana_address_info:N,expected_amount_cents:o.cents_to_pay,expected_amount_discount:o.cents_discount,expected_amount_tax:o.cents_tax,currency:o.currency,event_invite_api_id:null!=(s=null==C?void 0:C.api_id)?s:null,ticket_type_to_selection:W,solana_address:S,opened_from:B},{waitForTurnstile:G});if("require-payment-confirmation"===l.status){let{payment_started_api_id:e,client_secret:t,stripe_account_id:a,connected_payment_method_id:i}=l;await (0,A.confirmPaymentIntent)({client_secret:t,stripe_account_id:a,payment_method_id:null!=(r=null!=i?i:null==d||null==(n=d.payment_method)?void 0:n.id)?r:null,payment_info:d,only_authorize:"payment_intent_for_setup"===l.intent_type}),l=await R.TaskUtils.poll({func:async()=>{let t=await P.APIClient.get("/event/guest/get-payment-status",{payment_started_api_id:e});return t.status===T.Task.Status.Success?{status:T.Task.Status.Success,data:t}:t}})}else if("require-crypto-transaction"===l.status){let{signature:e}=l;if(!E)throw Error("There was a problem connecting to your Solana wallet.");await E.signAndSendTransaction({transaction_base64:l.transaction_base64,transaction_base58:l.transaction_base58}),l=await R.TaskUtils.poll({func:async()=>{let t=await P.APIClient.get("/event/guest/get-payment-status",{crypto_transaction_id:e});return t.status===T.Task.Status.Success?{status:T.Task.Status.Success,data:t}:t}})}await U(),await t(l)},{error:e=>{if(!(e instanceof M.LocalWalletError)||!e.skipToast)return e.message?e.message:H({defaultMessage:"There was an error with your registration.",id:"3lysWU"})}});L?L instanceof _.FetchError?"email-bounced"===L.code&&a(x):L instanceof A.PaymentError||(0,g.isNetworkError)(L)||r.captureMessage("There was an issue registering for the event.",{extra:{values:e,amount:o,error:L},level:"error"}):q&&k&&s&&!s.phone_number&&O({phoneNumber:k})},children:(0,n.jsx)(f.TintWrapper,{tintColor:K,lightness:Y,mode:"brand-color-only",children:(0,n.jsx)(E.OverlayTwoPanelContainer,{left:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.FormikChangeListener,{setDirty:Q.setValue}),(0,n.jsx)(e0,{})]}),right:Z({event:y,ticket_types:D,can_register_for_multiple_tickets:d})&&(0,n.jsx)(th,{})})})})};e.s(["RegistrationOverlay",0,e=>{let{show:t,onHide:a}=e,{onRegister:i}=(0,L.useEventPageContext)(),s=(0,h.useIsMounted)(),r=(0,x.useBoolean)(),o=r.setFalse,[c,m]=(0,u.useState)(null),[f,v]=(0,u.useState)({step:"start"});if((0,u.useEffect)(()=>{t||(v({step:"start"}),o())},[t,o]),!s)return null;let g=async e=>{await i(e),v({step:"registered",state:e}),o()},b=()=>{a(),v({step:"start"}),o()};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.LuxGlassOverlayContainer,{onHide:b,closeOnEscape:!r.value,children:t&&(0,n.jsxs)(l.AnimatePresence,{initial:!0,mode:"popLayout",children:["start"===f.step&&(0,n.jsx)(d.m.div,{initial:{height:"auto",opacity:1,y:10},animate:{height:"auto",opacity:1,y:0},exit:{height:0,opacity:0,y:-20},transition:y.MOTION_TRANSITION,children:(0,n.jsx)(tk,{onRegister:g,onEmailBounced:e=>m(e)})},"start"),"registered"===f.step&&(0,n.jsx)(d.m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:y.MOTION_TRANSITION,children:(0,n.jsx)(tT,{status:f.state,onHide:b})},"registered")]})}),(0,n.jsx)(C.EmailBouncedModal,{email:c,onHide:()=>m(null)})]})}],771676);var tN=e.i(476979),tC=e.i(331835),tS=e.i(494948),tE=e.i(521759),tA=e.i(878206),tM=e.i(442357);!function(e){function t(e){let{event:t,role:a}=e;return t.location_type===D.EventLocationType.Offline?t.geo_address_info&&"shown"===t.geo_address_info.mode?t.geo_address_info.full_address||t.geo_address_info.address:tM.LumaRoutes.event.publicUrl({event:t,permanent:!0}):(null==a?void 0:a.type)==="guest"&&(null==a?void 0:a.proxy_key)?tM.LumaRoutes.eventJoinUrl({key:a.proxy_key}):(null==a?void 0:a.type)==="host"&&(null==a?void 0:a.secret_key)?tM.LumaRoutes.eventJoinUrl({key:a.secret_key}):t.virtual_info.has_access&&t.virtual_info.raw_join_url?t.virtual_info.raw_join_url:tM.LumaRoutes.event.publicUrl({event:t,permanent:!0})}function a(e){let{card:t,role:a,description_mirror:s,t:n}=e,r=[],{event:o}=t;if(a&&"host"===a.type)r.push(n({defaultMessage:"You are hosting this event. View the public page at {url}",id:"+Gf+On",description:"Calendar invite. Information about the event's URL."},{url:tM.LumaRoutes.event.publicUrl({event:o})})),"manager"===a.access_level?r.push(n({defaultMessage:"Manage the event at {url}",description:"Calendar invite. Information about how to manage the event.",id:"gi8Iu9"},{url:tM.LumaRoutes.event.manageUrl({event:o})})):"check-in"===a.access_level&&r.push(n({defaultMessage:"Check in guests from the Luma mobile app or on web at {url}",description:"Calendar invite. Information about how to check in to the event.",id:"EYyA4p"},{url:tM.LumaRoutes.event.checkInUrl({event:o})}));else{let e=tM.LumaRoutes.event.publicUrl({event:o,proxy_key:null==a?void 0:a.proxy_key});r.push(n({defaultMessage:"Get up-to-date information at: {url}",id:"kYEBd3",description:"Calendar invite. Information about the event's URL."},{url:e}))}if(o.location_type===D.EventLocationType.Offline){var l,d;if((null==(l=o.geo_address_info)?void 0:l.mode)==="shown"){let e=o.geo_address_info,t="google"===e.type&&null!=(d=e.description)?d:null,a=[e.address,t,"city_state"in e&&e.city_state,"country"in e&&e.country].filter(Boolean).join("\n");r.push(n({defaultMessage:"Address:\n{address}",id:"jUeQoz",description:"Calendar invite. Information about the event's address."},{address:a}))}else r.push(n({defaultMessage:"Address:\nCheck event page for more details.",id:"tPspuo",description:"Calendar invite. Information about the event's address."}))}else if(a&&"guest"===a.type&&(null==a?void 0:a.proxy_key)){let e=tM.LumaRoutes.eventJoinUrl({key:a.proxy_key});r.join(n({defaultMessage:"Click to join: {url}",id:"EdBGvl",description:"Calendar invite. Information about how to join the event."},{url:e}))}else if(a&&"host"===a.type&&a.secret_key){let e=tM.LumaRoutes.eventJoinUrl({key:a.secret_key});r.push(n({defaultMessage:"Click to join: {url}",id:"EdBGvl",description:"Calendar invite. Information about how to join the event."},{url:e}))}return tC.SparkTypes.hasContent(s)&&r.push((0,tE.truncateTextByWord)({text:tC.SparkTypes.getPlainText({docValue:s}),maxLength:600})),r.push(i({hosts:t.hosts,t:n})),r.filter(e=>e).join("\n\n")}e.buildForLumaEvent=e=>{var i;let{lifecycle:s,card:n,role:r,description_mirror:o,t:l,recipient_email:d,sessions:c}=e,u=a({card:n,t:l,description_mirror:o,role:r}),{event:m,calendar:p,hosts:f}=n,x=(null==r?void 0:r.type)==="guest"&&q.DateTime.fromISO(m.end_at).diff(q.DateTime.fromISO(m.start_at)).as("hours")>6,h=(p.is_personal?"":p.name)||(null==(i=f[0])?void 0:i.name)||"Luma Event",v=t({...n,role:r});return c&&c.length>0?tS.IcsUtils.buildIcsWithSessions({id:m.api_id,name:m.name,description:u,organizer:h,coordinate:m.coordinate,email:d,lifecycle:s,location:v,nonblocking:x,sessions:c}):tS.IcsUtils.buildIcs({id:m.api_id,description:u,email:d,end_at:m.end_at,organizer:h,coordinate:m.coordinate,lifecycle:s,location:v,name:m.name,start_at:m.start_at,nonblocking:x})},e.buildForEvents=e=>{let{name:i,events:s,t:n}=e;return tS.IcsUtils.buildIcsWithMultipleEvents({name:i,events:s.map(e=>{var i,s;let{event:r,hosts:o,role:l}=e,d=null!=(s=null==(i=o.find(e=>e.name))?void 0:i.name)?s:"Luma Event",c=(null==l?void 0:l.type)==="guest"&&q.DateTime.fromISO(r.end_at).diff(q.DateTime.fromISO(r.start_at)).as("hours")>6;return{name:r.name,organizer:d,description:a({card:e,t:n,role:l,description_mirror:e.description_mirror}),location:t({...e,role:l}),coordinate:r.coordinate,id:r.api_id,start_at:r.start_at,end_at:r.end_at,lifecycle:tS.EventLifecycle.Publish,nonblocking:c}})})},e.buildForLumaCalendar=e=>{let{calendar:i,items:s,t:n}=e;return tS.IcsUtils.buildIcsWithMultipleEvents({name:i.name,events:s.map(e=>{var s,r,o,l;let d="luma"===e.platform?null!=(r=null==(s=e.hosts.find(e=>e.name))?void 0:s.name)?r:"Luma Event":null!=(o=e.event.host)?o:i.name,c="luma"===e.platform?e.event.end_at:q.DateTime.fromISO(e.event.start_at).plus(q.Duration.fromISO(e.event.duration_interval)).toISO();return{id:"luma"===e.platform?e.event.api_id:e.api_id,name:e.event.name,organizer:d,description:"luma"===e.platform?a({card:e,t:n,description_mirror:null,role:e.role}):"Find more information on ".concat(tM.LumaRoutes.calendar.publicUrl({calendar:i})),location:"luma"===e.platform?t(e):e.event.url,coordinate:null!=(l=e.event.coordinate)?l:null,start_at:e.event.start_at,end_at:c,lifecycle:tS.EventLifecycle.Publish}})})},e.buildForLumaEvents=e=>{let{name:i,items:s,t:n}=e;return tS.IcsUtils.buildIcsWithMultipleEvents({name:i,events:s.map(e=>{var i,s;let r=null!=(s=null==(i=e.hosts.find(e=>e.name))?void 0:i.name)?s:"Luma Event",o=e.event.end_at;return{name:e.event.name,organizer:r,description:a({card:e,t:n,role:e.role,description_mirror:e.description_mirror}),location:t(e),coordinate:e.event.coordinate,id:e.event.api_id,start_at:e.event.start_at,end_at:o,lifecycle:tS.EventLifecycle.Publish}})})},e.buildCalendarUrl=function(i){let{card:s,t:n,recipient_email:r,calendar_platform:o,role:l,description_mirror:d}=i,{event:c}=s,u=q.DateTime.fromISO(c.end_at).diff(q.DateTime.fromISO(c.start_at)),m=a({card:s,t:n,role:l,description_mirror:d});switch(o){case tS.CalendarPlatform.Google:let p=tS.IcsUtils.formatISOString(c.start_at),f=tS.IcsUtils.formatISOString(c.end_at);return"https://calendar.google.com/calendar/render?"+tN.default.stringify({action:"TEMPLATE",dates:"".concat(p,"/").concat(f),text:c.name,location:t({event:c,role:l}),details:m});case tS.CalendarPlatform.Yahoo:let x=Math.floor(u.as("hours")),h=u.minus({hours:x}).as("minutes"),v="".concat(x,":").concat(h>=10?h:"0"+h);return"https://calendar.yahoo.com/?"+tN.default.stringify({v:60,view:"d",type:20,title:c.name,st:tS.IcsUtils.formatISOString(c.start_at),dur:v,desc:m});case tS.CalendarPlatform.Outlook:return"https://outlook.office.com/calendar/0/deeplink/compose?"+tN.default.stringify({rru:"addevent",startdt:q.DateTime.fromISO(c.start_at).toUTC().toISO(),enddt:q.DateTime.fromISO(c.end_at).toUTC().toISO(),subject:c.name,body:m,allday:!1,uid:c.api_id,path:"/calendar/action/compose",location:t({event:c,role:l})});default:return e.buildForLumaEvent({card:s,role:l,recipient_email:r,lifecycle:tS.EventLifecycle.Create,t:n,description_mirror:d,sessions:null})}};let i=e=>{let{hosts:t,t:a}=e;return 0===t.length?"":(0,tA.hostedByDisplayString)({hosts:t,t:a})}}(s||(s={})),e.s(["LumaIcs",()=>s],723053)},240467,e=>{"use strict";var t=e.i(191788);e.s(["useStepHistory",0,e=>{let[a,i]=(0,t.useState)([e]),s=(0,t.useCallback)(e=>{i(t=>[...t,e])},[i]),n=(0,t.useCallback)(()=>{i(e=>e.slice(0,Math.max(e.length-1,1)))},[i]);return{currentStep:(0,t.useMemo)(()=>a[a.length-1],[a]),goBack:n,setStep:s,previousStep:(0,t.useMemo)(()=>a.length<=1?null:a[a.length-2],[a])}}])},560531,(e,t,a)=>{t.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,a=[],i=0;i<e.rangeCount;i++)a.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||a.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},308328,(e,t,a)=>{"use strict";var i=e.r(560531),s={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(e,t){var a,n,r,o,l,d,c,u,m=!1;t||(t={}),r=t.debug||!1;try{if(l=i(),d=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),void 0===a.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=s[t.format]||s.default;window.clipboardData.setData(i,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))}),document.body.appendChild(u),d.selectNodeContents(u),c.addRange(d),!document.execCommand("copy"))throw Error("copy command was unsuccessful");m=!0}catch(i){r&&console.error("unable to copy using execCommand: ",i),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),m=!0}catch(i){r&&console.error("unable to copy using clipboardData: ",i),r&&console.error("falling back to prompt"),a="message"in t?t.message:"Copy to clipboard: #{key}, Enter",n=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C",o=a.replace(/#{\s*key\s*}/g,n),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(d):c.removeAllRanges()),u&&document.body.removeChild(u),l()}return m}},806335,(e,t,a)=>{"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(a,"__esModule",{value:!0}),a.CopyToClipboard=void 0;var s=o(e.r(191788)),n=o(e.r(308328)),r=["text","onCopy","options","children"];function o(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function d(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach(function(t){p(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var f=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");l.prototype=Object.create(e&&e.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),Object.defineProperty(l,"prototype",{writable:!1}),e&&c(l,e);var t,a,o=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,a=m(l);return e=t?Reflect.construct(a,arguments,m(this).constructor):a.apply(this,arguments),function(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return u(e)}(this,e)});function l(){var e;if(!(this instanceof l))throw TypeError("Cannot call a class as a function");for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return p(u(e=o.call.apply(o,[this].concat(a))),"onClick",function(t){var a=e.props,i=a.text,r=a.onCopy,o=a.children,l=a.options,d=s.default.Children.only(o),c=(0,n.default)(i,l);r&&r(i,c),d&&d.props&&"function"==typeof d.props.onClick&&d.props.onClick(t)}),e}return a=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),a=function(e,t){if(null==e)return{};var a,i,s=function(e,t){if(null==e)return{};var a,i,s={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}(e,r),i=s.default.Children.only(t);return s.default.cloneElement(i,d(d({},a),{},{onClick:this.onClick}))}}],function(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(l.prototype,a),Object.defineProperty(l,"prototype",{writable:!1}),l}(s.default.PureComponent);a.CopyToClipboard=f,p(f,"defaultProps",{onCopy:void 0,options:void 0})},958925,(e,t,a)=>{"use strict";var i=e.r(806335).CopyToClipboard;i.CopyToClipboard=i,t.exports=i},561985,312455,907336,e=>{"use strict";var t=e.i(391398),a=e.i(191788),i=e.i(424017),s=e.i(224950),n=e.i(373641),r=e.i(826420),o=e.i(240467),l=e.i(988124),d=e.i(82602),c=e.i(897983),u=e.i(44002),m=e.i(922323),p=e.i(86316),f=e.i(655794),x=e.i(109001),h=e.i(829900),v=e.i(523080),g=e.i(348688);let y=e=>{let{email:a,onSentEmail:s,onEmailBounced:n}=e,r=(0,p.useT)();return(0,t.jsx)(i.LuxButton,{label:r({defaultMessage:"Send Email",id:"sZRjzc"}),className:"mt-1",fullWidth:!0,onClick:async()=>{await (0,l.callWithToast)(async()=>{await g.APIClient.post("/auth/email/send-sign-in-code",{email:a}),s()},{error:e=>e&&e instanceof x.FetchError&&400===e.status&&"email-bounced"===e.code?(n(),e.message):r({defaultMessage:"There was a problem sending the email.",id:"ny5nNJ"})})}})},b=e=>{let{email:a,onCode:s}=e,o=(0,p.useT)(),l=(0,r.useBoolean)();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-secondary-alpha mb-3",children:(0,t.jsx)(m.T,{defaultMessage:"Weâ€™ve sent you a sign in code to {email}. Please enter it below.",id:"Hje4MZ",values:{email:(0,t.jsx)("b",{children:a},"email")}})}),(0,t.jsx)(n.MultiCodeInput,{autoFocus:!0,className:"pb-1",onFullCode:async e=>{l.setTrue();try{await s({code:e})}finally{l.setFalse()}}}),(0,t.jsx)(i.LuxButton,{className:"mt-3",label:o(f.CT.Continue),fullWidth:!0,disabled:!0,loading:l.value})]})},j=e=>{let{twoFactorResponse:a,onSuccess:i}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)(m.T,{tagName:"div",className:"text-secondary-alpha mb-3",defaultMessage:"Your account is protected with two-factor authentication. Please enter the code generated by your authenticator.",id:"ATKdqq"}),(0,t.jsx)(n.MultiCodeInput,{className:"mb-1",autoFocus:!0,onFullCode:async e=>{let t=await g.APIClient.post("/auth/sign-in-with-two-factor",{two_factor_otp:e,two_factor_shallow_secret:a.two_factor_shallow_secret,user_api_id:a.user_api_id,front_auth_secret:null,sign_in_method:"email-code"});await i(t)},showPasteCodeButton:!0})]})};e.s(["SignInAfterRegistrationModal",0,e=>{let{show:i,onHide:n,email:l,onSuccess:x,emailVerified:_}=e,w=(0,p.useT)(),{signIn:T}=(0,h.useUserContext)(),k=(0,r.useBoolean)(),{currentStep:N,setStep:C,goBack:S}=(0,o.useStepHistory)({step:"start"}),E=(0,a.useCallback)(async e=>{await T(e),n(),null==x||x(),(0,d.toastSuccess)(_?w({defaultMessage:"Welcome back! Youâ€™re now signed in.",id:"IYpyTS",description:"Sign in modal. Success toast."}):w({defaultMessage:"Thank you for verifying your email address.",id:"zYAugn",description:"Sign in modal. Success toast. This is for users signing in for the first time after registering for an event."}))},[x,T,n,w,_]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.LuxMultiStepModal,{show:i,onHide:n,currentStep:N.step,onBack:S,steps:{start:{content:(0,t.jsx)(y,{email:l,onSentEmail:()=>C({step:"enter-email-code"}),onEmailBounced:k.setTrue})},"enter-email-code":{title:w({defaultMessage:"Enter Code",id:"viLrN+"}),content:(0,t.jsx)(b,{email:l,onCode:async e=>{let{code:t}=e,a=await g.APIClient.post("/auth/email/sign-in-with-code",{code:t,email:l});a.signed_in?await E(a):C({step:"two-factor",response:a})}})},"two-factor":{title:w({defaultMessage:"Two-Factor Authentication",id:"AJyYQz"}),content:"two-factor"===N.step?(0,t.jsx)(j,{twoFactorResponse:N.response,onSuccess:E}):null}},icon:_?(0,t.jsx)(u.default,{}):(0,t.jsx)(c.default,{}),title:_?w(f.CT.SignIn):w({defaultMessage:"Verify Email",id:"8mVcs0"}),desc:_?(0,t.jsx)(m.T,{defaultMessage:"We will email a code to {email} that you can enter to sign in.",id:"/IILDY",values:{email:(0,t.jsx)("b",{children:l},"email")}}):(0,t.jsxs)("div",{className:"flex-column gap-2",children:[(0,t.jsx)(m.T,{tagName:"div",defaultMessage:"We will send you a code to {email} to verify your email.",id:"h1pRu/",values:{email:(0,t.jsx)("b",{children:l},"email")}}),(0,t.jsx)(m.T,{tagName:"div",defaultMessage:"You can then manage your registration and use it to sign in to Luma later.",id:"nAlPhj"})]})}),(0,t.jsx)(v.EmailBouncedModal,{email:k.value?l:null,onHide:k.setFalse})]})}],561985);var _=e.i(538865),w=e.i(532127),T=e.i(454657),k=e.i(992354),N=e.i(883720),C=e.i(465028);e.s(["CompleteProfileModal",0,e=>{let{show:a,onHide:i,desc:s}=e,{user:n,refreshUser:r}=(0,h.useUserContext)();return n?(0,t.jsx)(k.LuxModalContainer,{onHide:i,variant:"lux-alert",children:a&&(0,t.jsx)(_.Formik,{initialValues:{avatar_url:n.avatar_url,name:n.name},onSubmit:async e=>{let{avatar_url:t,name:a}=e;await (0,l.callWithToast)(async()=>{await g.APIClient.post("/user/update",{avatar_url:t,name:a}),await r(),i()},{error:"There was a problem updating your information."})},children:(0,t.jsx)(_.Form,{children:(0,t.jsxs)("div",{className:"flex-column gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"mb-1",children:"Your Profile"}),(0,t.jsx)("div",{className:"fs-sm text-secondary-alpha",children:s})]}),(0,t.jsxs)("div",{className:"flex-center gap-3",children:[(0,t.jsx)(w.AvatarUploadField,{name:"avatar_url",size:64,destination:{bucket:"images.lumacdn.com",folder:"avatars"},createPresignedUrl:C.createPresignedUrl}),(0,t.jsx)(T.LuxInputField,{className:"flex-1",name:"name",placeholder:"Your Name",label:"Name"})]}),(0,t.jsx)(N.LuxSubmitButton,{label:"Save",fullWidth:!0})]})})})}):null}],312455);var S=e.i(359626),E=e.i(958925),A=e.i(715512);e.s(["ShareLinkInput",0,e=>{let{urlToShare:s,description:n}=e,r=(0,p.useT)(),o=r({defaultMessage:"Share the link:",id:"o11nMX",description:"Share link input label."}),l=a.default.useRef(null),[d,c]=a.default.useState(!1);return(0,t.jsxs)("div",{className:"jsx-970ec539c941aff",children:[(0,t.jsx)(A.LuxInputLabel,{text:null!=n?n:o}),(0,t.jsx)(E.default,{text:s,onCopy:()=>{var e;null==(e=l.current)||e.setSelectionRange(0,s.length),c(!0),setTimeout(()=>c(!1),2e3)},children:(0,t.jsxs)("div",{className:"jsx-970ec539c941aff ticket-share-url",children:[(0,t.jsx)("input",{type:"text",ref:l,value:s,readOnly:!0,onClick:e=>{e.currentTarget.setSelectionRange(0,s.length)},className:"jsx-970ec539c941aff lux-input"}),(0,t.jsx)("div",{className:"jsx-970ec539c941aff ticket-share-url-copy ml-2",children:(0,t.jsx)(i.LuxButton,{label:r(d?{defaultMessage:"Copied!",id:"wW22xm",description:"Share link input button label. Temporary state after copying."}:{defaultMessage:"Copy",id:"WgRgtG",description:"CTA button."}),color:"light"})})]})}),(0,t.jsx)(S.default,{id:"970ec539c941aff",children:".ticket-share-url.jsx-970ec539c941aff{flex-direction:row;align-items:stretch;display:flex}.ticket-share-url.jsx-970ec539c941aff input.jsx-970ec539c941aff{background-color:var(--input-bg-color);color:var(--secondary-color);line-height:var(--input-line-height);border-radius:var(--border-radius);border:1px solid var(--input-border-color);height:var(--input-height);padding:var(--input-padding);flex:1}"})]})}],907336)},881796,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(476979),n=e.i(958925),r=e.i(566119),o=e.i(254662),l=e.i(82602),d=e.i(510011),c=e.i(101975),u=e.i(144152),m=e.i(535345),p=e.i(224307),f=e.i(75773),x=e.i(128039),h=e.i(86316),v=e.i(655794),g=e.i(222236),y=e.i(581455);let b={[g.SharePlatform.Facebook]:{sharePrompt:e=>e({defaultMessage:"Share on Facebook",id:"QDpuFX",description:"CTA button."}),icon:(0,t.jsx)(d.default,{})},[g.SharePlatform.WhatsApp]:{sharePrompt:e=>e({defaultMessage:"Share on WhatsApp",id:"RHPEGH",description:"CTA button."}),icon:(0,t.jsx)(m.default,{}),onlyMobile:!0},[g.SharePlatform.Sms]:{sharePrompt:e=>e({defaultMessage:"Share via SMS",id:"7SB+Do",description:"CTA button."}),icon:(0,t.jsx)(f.default,{}),onlyMobile:!1},[g.SharePlatform.LinkedIn]:{sharePrompt:e=>e({defaultMessage:"Share on LinkedIn",id:"ARQxcL",description:"CTA button."}),icon:(0,t.jsx)(c.default,{})},[g.SharePlatform.Twitter]:{sharePrompt:e=>e({defaultMessage:"Share on X (Twitter)",id:"jeIVaw",description:"CTA button."}),icon:(0,t.jsx)(p.default,{})},[g.SharePlatform.Messenger]:{sharePrompt:e=>e({defaultMessage:"Share via Messenger",id:"PwkTZh",description:"CTA button."}),icon:(0,t.jsx)(u.default,{}),onlyMobile:!0}},j=[g.SharePlatform.Facebook,g.SharePlatform.Twitter,g.SharePlatform.LinkedIn,g.SharePlatform.Sms,g.SharePlatform.WhatsApp,g.SharePlatform.Messenger];function _(e){let{className:s,name:r,mode:d,hideClipboard:c,iconCls:u,path:m}=e,p=(0,h.useT)(),f=(0,o.useIsMobileBrowser)(),g="".concat(y.config.WEB_URL,"/").concat(m);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"jsx-e74beaadc8d93761 "+((0,i.default)("flex-start share-icons",u,s)||""),children:[j.map(e=>!f&&b[e].onlyMobile?null:(0,t.jsx)("div",{className:"jsx-e74beaadc8d93761 icon-wrapper",children:(0,t.jsx)(w,{platform:e,path:m,mode:d,name:r})},e)),!c&&(0,t.jsx)(n.default,{text:g,onCopy:()=>{(0,l.toastSuccess)(p(v.CT.CopiedToClipboard))},children:(0,t.jsx)("button",{className:"jsx-e74beaadc8d93761 btn copy-btn flex-start",children:(0,t.jsx)(x.default,{})})})]}),(0,t.jsx)(a.default,{id:"e74beaadc8d93761",children:".share-icons.jsx-e74beaadc8d93761{display:inline-flex}.share-icons.jsx-e74beaadc8d93761 a{color:var(--tertiary-color-alpha)}.share-icons.jsx-e74beaadc8d93761 a:hover{color:var(--brand-color)}.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761{color:var(--tertiary-color-alpha)}.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761:hover{color:var(--brand-color)}.share-icons.jsx-e74beaadc8d93761 svg{height:1.2rem}.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761{padding:0}.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761:focus,.share-icons.jsx-e74beaadc8d93761 button.jsx-e74beaadc8d93761:active{box-shadow:none}.share-icons.jsx-e74beaadc8d93761 .copy-btn.jsx-e74beaadc8d93761 svg{stroke-width:2.5px}.icon-wrapper.jsx-e74beaadc8d93761{margin-right:1rem}.icon-wrapper.jsx-e74beaadc8d93761:last-child{margin-right:0}"})]})}let w=e=>{let{platform:a,mode:i,name:s,path:n}=e,o=(0,h.useT)(),l=(0,g.getShareUrl)({name:s,mode:i,platform:a,path:n});return(0,t.jsx)(r.LuxTooltip,{content:b[a].sharePrompt(o),children:(0,t.jsx)("a",{className:"social-icon animated",target:"_blank",href:l,children:b[a].icon})})},T=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let[i,...s]=t;for(let e of s)i+="/"+e.replace(/^\//,"");return i};e.s(["SocialShare",()=>_,"buildRedirectUrl",0,e=>{let{platform:t,mode:a,name:i,path:n}=e;if(!n)return y.config.WEB_URL;let r=T(y.config.WEB_URL,n),o=(0,g.getShareText)({mode:a,name:i});if(o){let e=(e=>{let{platform:t,url:a,text:i}=e;switch(t){case g.SharePlatform.Facebook:return"https://www.facebook.com/sharer.php?".concat(s.default.stringify({u:a}));case g.SharePlatform.Twitter:return"https://twitter.com/intent/tweet?".concat(s.default.stringify({url:a,text:i,via:"LumaHQ"}));case g.SharePlatform.LinkedIn:return"https://www.linkedin.com/shareArticle?".concat(s.default.stringify({mini:!0,url:a}));case g.SharePlatform.WhatsApp:return"whatsapp://send?".concat(s.default.stringify({text:"".concat(i," ").concat(a)}));case g.SharePlatform.Messenger:return"fb-messenger://share?".concat(s.default.stringify({link:a}));case g.SharePlatform.Sms:return"sms:?&body=".concat(i," ").concat(a);case g.SharePlatform.Email:return"mailto:?&body=".concat(i," ").concat(a);default:return""}})({platform:t,url:r,text:o});if(e)return e.replace(/[^\x20-\x7e]/g,"")}return r}])},405670,45591,628031,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(476979),s=e.i(427133),n=e.i(992354),r=e.i(254662),o=e.i(405155),l=e.i(510011),d=e.i(101975),c=e.i(144152),u=e.i(535345),m=e.i(224307),p=e.i(340180),f=e.i(30424),x=e.i(45038),h=e.i(573862),v=e.i(86316),g=e.i(224631),y=e.i(222236),b=e.i(383294),j=e.i(907336),_=e.i(881796);let w=[{id:y.SharePlatform.Facebook,label:e=>e({defaultMessage:"Share",id:"L0qwSj",description:"Share event modal. CTA button to share on Facebook."}),icon:(0,t.jsx)(l.default,{})},{id:y.SharePlatform.Twitter,label:e=>e({defaultMessage:"Tweet",id:"67IR6S",description:"Share event modal. CTA button."}),icon:(0,t.jsx)(m.default,{})},{id:y.SharePlatform.LinkedIn,label:e=>e({defaultMessage:"Post",id:"RNrp1g",description:"Share event modal. CTA button to post on LinkedIn."}),icon:(0,t.jsx)(d.default,{})},{id:y.SharePlatform.Email,label:e=>e({defaultMessage:"Email",id:"bvd6V1",description:"Share event modal. CTA button to send an Email."}),icon:(0,t.jsx)(f.default,{}),preventOpeningInNewTab:!0},{id:y.SharePlatform.Native,label:e=>e({defaultMessage:"Share",id:"qGEVQ/",description:"Share event modal. CTA button to share natively."}),icon:(0,t.jsx)(h.default,{}),isSupported:"undefined"!=typeof navigator&&!!navigator.share,onClick:async e=>{let{name:t,mode:a,path:i}=e,s=(0,y.getShareText)({mode:a,name:t}),n=(0,_.buildRedirectUrl)({name:t,mode:a,platform:y.SharePlatform.Native,path:i});try{await navigator.share({text:s,url:n})}catch(e){}}},{id:y.SharePlatform.Sms,label:e=>e({defaultMessage:"Text",id:"QgwhZs",description:"Share event modal. CTA button to share via a text message."}),icon:(0,t.jsx)(p.default,{}),preventOpeningInNewTab:!0},{id:y.SharePlatform.Messenger,label:e=>e({defaultMessage:"Send",id:"1xYUNJ",description:"Share event modal. CTA button to send via Messenger."}),icon:(0,t.jsx)(c.default,{}),isSupported:(0,r.isMobileBrowser)()},{id:y.SharePlatform.WhatsApp,label:e=>e({defaultMessage:"Send",id:"d4MrTK",description:"Share event modal. CTA button to send via WhatsApp."}),icon:(0,t.jsx)(u.default,{}),isSupported:(0,r.isMobileBrowser)()}],T=e=>{let{icon:i,label:s,color:n,...r}=e;return(0,t.jsxs)("a",{...r,className:a.default.dynamic([["fa7f5da51cb316a0",[n||"var(--secondary-color)"]]])+" "+(r&&null!=r.className&&r.className||"share-platform"),children:[(0,t.jsx)("div",{className:a.default.dynamic([["fa7f5da51cb316a0",[n||"var(--secondary-color)"]]])+" share-platform-icon mb-25",children:i}),(0,t.jsx)("div",{className:a.default.dynamic([["fa7f5da51cb316a0",[n||"var(--secondary-color)"]]])+" share-platform-label fs-sm",children:s}),(0,t.jsx)(a.default,{id:"fa7f5da51cb316a0",dynamic:[n||"var(--secondary-color)"],children:".share-platform.__jsx-style-dynamic-selector{color:".concat(n||"var(--secondary-color)",";border-radius:var(--border-radius);flex-direction:column;align-items:center;padding:1rem .25rem .5rem;display:flex}.share-platform.__jsx-style-dynamic-selector:hover{background:var(--hover-bg-color)}.share-platform.__jsx-style-dynamic-selector svg{width:2rem;height:2rem}")})]})};e.s(["ShareEventModal",0,e=>{let{event:r,ticketKey:l,show:d,onHide:c,title:u,description:m}=e,p=(0,v.useT)(),f=(e=>{let{event:t,ticketKey:a}=e,s=t.url,n=i.default.stringify({[g.EventReferral.REFERRED_BY_PARAM]:a||void 0});return n&&(s+="?".concat(n)),s})({event:r,ticketKey:l}),h="".concat(b.WEB_URL,"/").concat(f),_=y.ShareMode.JoinEvent,k=r.name,N=w.filter(e=>{var t;return null==(t=e.isSupported)||t}).slice(0,6);return(0,t.jsx)(n.LuxModalContainer,{onHide:c,variant:"compact",children:d&&(0,t.jsxs)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]]),children:[(0,t.jsx)(s.LuxAlertTop,{icon:(0,t.jsx)(x.default,{}),title:u,desc:m,className:"mb-2"}),(0,t.jsx)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]])+" share-modal-section",children:(0,t.jsx)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]])+" share-modal-platforms",children:N.map(e=>{let{onClick:i,...s}=e;return(0,t.jsx)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]])+" share-modal-platform",children:(0,t.jsx)(T,{icon:s.icon,label:s.label(p),color:s.color,target:s.preventOpeningInNewTab?void 0:"_blank",href:i?void 0:(0,y.getShareUrl)({name:k,mode:_,platform:s.id,path:f}),onClick:()=>{null==i||i({name:k,mode:_,path:f})}})},s.id)})})}),(0,t.jsx)("div",{className:a.default.dynamic([["91531a9a8907c679",[o.ResponsiveBreakpoint.tiny]]])+" mt-3",children:(0,t.jsx)(j.ShareLinkInput,{urlToShare:h})}),(0,t.jsx)(a.default,{id:"91531a9a8907c679",dynamic:[o.ResponsiveBreakpoint.tiny],children:".share-modal-section.__jsx-style-dynamic-selector{border-bottom:1px solid var(--divider-color);margin-bottom:1rem;padding-bottom:.5rem}.share-modal-section.__jsx-style-dynamic-selector:last-child{border-bottom:0;margin-bottom:0}.share-modal-platforms.__jsx-style-dynamic-selector{grid-template-columns:repeat(5,1fr);display:grid}@media (max-width:".concat(o.ResponsiveBreakpoint.tiny,"){.share-modal-platforms.__jsx-style-dynamic-selector{grid-template-columns:repeat(3,1fr)}}")})]})})}],405670);var k=e.i(272043),N=e.i(961455),C=e.i(408510),S=e.i(62208),E=e.i(462974),A=e.i(494948);e.s(["CalendarButtons",0,e=>{let{size:i="small",onClickCalendar:s}=e,n=[{name:(0,v.useT)()({defaultMessage:"Google Calendar",id:"kjenxG"}),type:A.CalendarPlatform.Google,icon:(0,t.jsx)(N.default,{})},{name:"Yahoo",type:A.CalendarPlatform.Yahoo,icon:(0,t.jsx)(S.default,{})},{name:"Outlook.com",type:A.CalendarPlatform.Outlook,icon:(0,t.jsx)(C.default,{})},{name:"iCal (Apple / Outlook)",type:A.CalendarPlatform.Apple,icon:(0,t.jsx)(E.default,{})}];return(0,t.jsxs)("div",{className:"jsx-d6ffadba02ec7036 flex-column gap-2",children:[n.map(e=>(0,t.jsxs)("button",{onClick:()=>s(e.type),className:"jsx-d6ffadba02ec7036 "+((0,k.default)("btn with-svg svg-left cal-btn ".concat(e.type,"-cal-btn"),i)||""),children:[e.icon,(0,t.jsx)("span",{className:"jsx-d6ffadba02ec7036",children:e.name})]},e.type)),(0,t.jsx)(a.default,{id:"d6ffadba02ec7036",children:".cal-btn.jsx-d6ffadba02ec7036{text-align:center;width:100%}.cal-btn.jsx-d6ffadba02ec7036 .jsx-d6ffadba02ec7036{pointer-events:none}.cal-btn.jsx-d6ffadba02ec7036:focus,.cal-btn.jsx-d6ffadba02ec7036:active{box-shadow:none}.cal-btn.medium.jsx-d6ffadba02ec7036{padding:.375rem .5rem}.google-cal-btn.jsx-d6ffadba02ec7036{color:#4f82e6;background-color:rgba(79,130,230,.133)}.google-cal-btn.jsx-d6ffadba02ec7036:hover{color:#fff;background-color:#4f82e6}.apple-cal-btn.jsx-d6ffadba02ec7036{color:#86868b;background-color:rgba(134,134,139,.133)}.apple-cal-btn.jsx-d6ffadba02ec7036:hover{color:#fff;background-color:#86868b}.outlook-cal-btn.jsx-d6ffadba02ec7036{color:#f5bc45;background-color:rgba(245,188,69,.133)}.outlook-cal-btn.jsx-d6ffadba02ec7036:hover{color:#fff;background-color:#f5bc45}.yahoo-cal-btn.jsx-d6ffadba02ec7036{color:#571dca;background-color:#ebe0ff}.yahoo-cal-btn.jsx-d6ffadba02ec7036:hover{color:#fff;background-color:#571dca}"})]})}],45591);var M=e.i(191788),P=e.i(767193),R=e.i(824015);let L=e=>{let{id:a,displacementScale:i,aberration:s,width:n,height:r}=e;return(0,t.jsx)("svg",{style:{position:"absolute",width:n,height:r},"aria-hidden":"true",children:(0,t.jsxs)("defs",{children:[(0,t.jsxs)("radialGradient",{id:"".concat(a,"-edge-mask"),cx:"50%",cy:"50%",r:"50%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"black",stopOpacity:"0"}),(0,t.jsx)("stop",{offset:"".concat(Math.max(30,80-2*s),"%"),stopColor:"black",stopOpacity:"0"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"white",stopOpacity:"1"})]}),(0,t.jsxs)("filter",{id:a,x:"-35%",y:"-35%",width:"170%",height:"170%",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feImage",{id:"feimage",x:"0",y:"0",width:"100%",height:"100%",result:"DISPLACEMENT_MAP",href:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/2wCEAAQDAwMDAwQDAwQGBAMEBgcFBAQFBwgHBwcHBwgLCAkJCQkICwsMDAwMDAsNDQ4ODQ0SEhISEhQUFBQUFBQUFBQBBQUFCAgIEAsLEBQODg4UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/CABEIAQABAAMBEQACEQEDEQH/xAAxAAEBAQEBAQAAAAAAAAAAAAADAgQIAQYBAQEBAQEBAQAAAAAAAAAAAAMCBAEACAf/2gAMAwEAAhADEAAAAPjPor6kOgOiKhKgKhKgOhKhOhKxKgKhOgKhKhKgKxOhKhOgKhKhKgKwKhKgKgKwG841nns9J/nn2KVCdCdCVAVCVCVAdCVCdiVAVidCVAVCVAdiVCVCdAVCVCVAVCVAVAViVZxsBrPPY6R/NvsY6E6ErEqAqE6ErAqE6E7E7ErA0ErArAqAqEuiVAXRLol0S6J0JUBWBUI0BXnG88djpH81+xjoToSoSoCoTsSoYQTsTsTQSsCsCsCsCsCoC6A0JeAuiXSLwn0SoioCoCoBsBrPFH0j+a/Yx0J0JUJUJ2BUMIR2MIRoBoJIBXnJAK840BUA0BdAegXhLpF4S8R+IuiVgVANAV546fSH5r9jHRHQFQlYxYnZQgnYwhQokgEgEmckzjecazlYD3OPQHoD0S8JcI/EXiPxF0SoSvONBFF0j+a/YxdI7EqA6KLGEKEKEGFI0AlA0AUzimYbzjecazjWce5w6BdEeCXhPhFwz8R+MuiVgVAdF0j+a/Yp0RUJ0MWUIUWUIUKUIJqBoArnJM4pmBMw3nCsw1mCs4+AegPBLxHwi4Z8KPGXSPojYH0ukfzX7FOiKhiyiylDiylDhBNRNQJAJcwpnBMopmC84XlCswdzj3OPQHwlwS8R8M+HHDPxl0ioDoukfzT7GOhOyiimzmzhDlShBNBNBJc4rmFMwJlBMwXlC82esoVmHucOgXgHxH4j4Zyccg/GfiOiKh6R/NPsY6GLOKObOUObOUI0KEAlEkzimYFygmUEyheXPeULzZ6yhWce5x8BeEuGfCj0HyI5EdM/EdD0h+a/Yx0U0cUflxNnNnCHCCdgSiSZgTMK5c6ZQvLnTLnvJnvKFZgrMHc5dAeiXijhn445E8g/RHTPpdI/mn2KdlFR5RzcTUTZxZwglYGgCmcEzAuUEyZ0y57yZ0yZ7yheUKzh3OPc5dEvEfij0RyI9E+iPGfT6T/NPsQ6OKiKmajy4ijmyOyKwNAFM4JlBMudMmdMue8mdMme8me8wVmGsw0A9A+kfjjxx6J9EememfT6W/MvsMqOamKiamKmKOKM7ErErAUzAmYLyZ0y50yZ0yZkyZ7yBeULzBeYazl0T6R9KPRPYj0T2J9B9Ppj8x+wjo4qY7M9iKmKg6MrIrErALzBeYEyZ0y50yZkyZ7x50yheXPeUbzjWcqA6I+lHYnsT6J7E9iOx0z+YfYBUc1MdmexHZjsHRlRBRDYBecEzZ7yAmXNeTOmTOmPOmXOmULyjeYbzlYnQxRx057E9mexPYij6a/L/r86OOzPpjsR6Y7B9MqIaILDPYZ7zZ0y57y50yZ0x5kyAmXPeUEyjeYUznQnYnRTUTUT2JqJ7EUfTn5d9fFRx2Z9EdmPTHjLsF0h6I2OegzXmzJmzplz3lzJjzpkBMudMoplBM5JnOwOyiimzmomomonsHRdO/l318VFHYj0x6I9McgumXiHpDQ56DPebMmbNebMmXMmQEy50yguQEzCmYkA7GLGEKaObibiaOKOKPp38s+vCsj7EeiPTHIP0Hwx6ReMKDP0M95895syZ815cy5c6ZQTKCZRXMKZiQDQYQYsps5uJs5qIsjounvyz68KyLpx4z9Mcg+GXoLxl4g6IUGes+a8+e82ZM2dMuZMoJmBcwrlJM5IBoMKMoUWc2c3E0cWRUXT/wCV/XQ2R0RdiPQfDPkFwy9BeIOiHQz0Ges+e82dM2ZM2dMwLmBcwpmJc5qBoMIUIUoU2c2cWZ0R0PT/AOV/XQ2RUJdM+wfDL0Hwy5A+EfEHQz0AUGe8+dM2e82dcwJnFcwrnJc5IEKUIMIUoUWc2cWRUJ0PT/5V9dFYjZFRF0z8ZeM+QPDLxD4Q6OfoBQhefPeYEz50ziucUzCoEuclCEKFGUKEKLOLI7E6EqHqD8o+uhsRsisSoi6ZeM+QPiHhj0R8IUIdALALzgmcEzimcVAlzioGomgyhQgwhRZHZFQHQlQ9Qfk/10NiVkNiNiVGXiPxj4x8Q9IfCFCPRCwC84oA3nFQFM5KBKJIMKEIUWRoUUJWJUJ0BUPUH5L9dDZFYigjYjZHRF0x8Q9IvEHRHojQjQhecUAUAkEkziomgGgkoxZGgxZFQFQlYnQHRdPfj/10KCSCKESCNiVkViPSLpD0h6I0Q0I0A2IoBWBIJIBKBIJoJIJ2R2J0JWBUJ0JUB0XTv479dFZDYiglYigkhEgjZFQjRFQjRFQjQigFYigHYigmgEgmglYlYnQlQlYlQHQlQnQ9P/kf1yVkNiNCNkNiVENiNiViNEViNkVCVgKCViViViSCViSCVgdCViVCViVCdgVCVCdD1D+U/XBWQ2I0I2Q2JUQ2I0JWQ0I2JUQ2JUI2JUI2J0JWJWJWA2R0BWJ0I2JUJ2BUJUJ0P//EABkQAQEBAQEBAAAAAAAAAAAAAAECABEDEP/aAAgBAQABAgB1atWrVq1atWrVq1atWrVq1atWrVq1atWrVq+OrVq1atWrVq1atWrVq1atWrVq1atWrVq1atXxVppppppdWrVq1atWrVq1NNNNNNNNNNNPVWmmmmms6tWrVq1atWpppppppppppppp6q0000uc51atWrVq1ammmmmmmmmmmmmt1Vpppc5znVq1atWrVqaaaaaaaaaaaaaeqtNLnOc51atWrVq1ammmmmmmmmmmmmnqrS5znOc6tWrVq16222mmmmmmlVppp6tKuc5znOrVq1a9TbbbbTTTTTSq000qtLnOc5zq1atWrW0222200000qqqtKqrnOc5zq1atTbbbbbbbbTTTSqqqqqq5znOc6tTTTbbbbbbbbTTTSqqqqrlVznOctNNNtttttttttNNNNKqqqrqznKqrTTTTbbbbbbbbbTTTSqqqqrqznOc5aaaabbbbbbbbbaaaaVVVVVdWc5znVq1NNttttttttttNNKqqqqudWc5znVq16tbbbbbbbbbbTTSqqqq5XVnOc6tWrVrb1tttttttttNNKqqqqrWrK5VWmmm2230bbbbbbaaaXOc5zlVa1KuVVppptttt9G22222mmlzlVznK6tWVVWmmmm2222222222mlznOc5znLWppVVWmmm22222229bTWrOc5znOcq1qaaVpWmm222222229erVqznOc5znKtatStK0rTbTTbbbberXr1as5znOc5aVpppppWlabaabbbb1ta9WrVnOc5znU0rTTTTTTTTTbTTbbbTWvVq1as5znOdTTStNNNNNNNNNtNNtttN6tWvVq1ZznOrU00rTTTTTTTTTTTTTbTWvVq1atWrOc6tTTTStNNNNNNNNNNtNNtNa9WrVq1Z1Z1NNNNNK1q1NNNNNNNNNNNtNatWrVq1atWrU00000rWrVq1atWrVq1alaaa1atWrVq1NNNammmmla1atWrVq1aterVq16tWrVnVqa1NK1qaaaVX/xAAWEAADAAAAAAAAAAAAAAAAAAAhgJD/2gAIAQEAAz8AaExf/8QAGhEBAQEBAQEBAAAAAAAAAAAAAQISEQADEP/aAAgBAgEBAgDx48ePHjx48ePHjx48ePHjx48ePHjx48ePHj86IiIiIiInjx48ePHjx48IiIiIj0oooooooooRERER73ve60UUUUUUVrWiiiiiihERERER73ve97ooooorRWiiiiihKERERER73ve973RRRRWtFFFFFFCIiIiIiPe973ve60UUVrRRRRRRQiIlCIiI973ve973pRRWiiiiiiiiiiiiiiihEe973ve973RRWtFFFFFFFFFFFFFFFFFFa13ve973WitaKKKKKKKKKKKKKKKKKK1rWtd1rutFa1oooooooooooosssooorWta1rWta1rRRRRRRRRRRZZZZZZZZZWta1rWta1rRRRRRRRRZZZZZZZZZZZZe9a1rWta1rWitaKLLLLLLLLLLLLLLLLL3rWta1rWtFbLLLLLLLLLLLLLLLLLLLL3vWta1rWita1ssssssss+hZZZZZZZZe961rWta0Vre97LLLLLLLLLLLPoWWWWWXrWta1oorWta3ssss+hZZZZ9Cyyyyyyyyiita1orWta1ve9llllllllllllllllFFa0VorWta1ve9llllllllllllllllllFFFaK1rWta1rWiyyyyyyyyyyyyiiiiiiitFFa1rWta1oosoosssssoooosoooorRRRWta1rWta0UUUUUWUUUUUUUUUUUVoooorWta1rWtaKKKKKKmiiiiiiiiiiiiiiitd73ve61oSiiipoqaKKKKKKKKKK0UUUVrve973vREREZoSihEooooorRRRRWtd73ve9EREREREoSiiiiitFllllla73ve9ERERERESiiiiiitH0PoWWWWVrXe96IiIiMoiJRRRRRRWjwlFFllllFFd6IiIiIlCUUUUUUUUUePHjx48ePCIiIiIiIiUUUUUUUUUUUePHjx48ePHjx48ePHjx48IiUUUUUUJRRRX//xAAWEQADAAAAAAAAAAAAAAAAAAABYJD/2gAIAQIBAz8AtEV7/8QAFxEBAQEBAAAAAAAAAAAAAAAAAAECEP/aAAgBAwEBAgCtNNNNNNNNNNNNNNNNNNNNNNNNNNNNNcrTTTTTTTTTTTTTTTTTTTTTTTTTTTTTXKrTTTTTTTU000000000000000000001FVpppppqampqaaaaaaaaaaaaaaaaaaaa5Vaaaaampqampqammmmmmmmmmmlaaaaaaiq0001NTU1NTU1NTTTTTTTTTTSqqtNNNcqtNNSyzU1LNTU1NTTTTTTTTTSqqq001ytNLLLLNTU1NTU1NTbbbTTTTTSqqq001ytNLLLLLNTU1NTU3NttttNNNNNKqq001KrSyyyyyzU1NTU3Nzc02220000qqqqrSqqyyyyyzU1NTU3Nzc3NttttNNNKqqqqqqssssss1NTU3Nzc3NzbbbbTTTSqqqqqqrLLLLLNTU1Nzc3Nzc22220000qqqqqqqqssss1NTU3Nzc3NzbbbbbTTSqqqqqqqqqqzU1NTc3Nzc3Nzbc22000qqqqqqqqqqqtTU3Nzc3Nzc3NtzbTTSqqqqrKqqqqqtNNzc23Nzc3Nzc3NTU1KqqqrKqqqqqtNNNNttzc3Nzc3NzU1NLLLLLKqqqqqqqq0022223Nzc3NzU1NSyyyyyyqqqqqqqrTTbbbbc3Nzc3NTU1LLLLLLKsqqqqqqrTTTTbbbc3Nzc1NTUsssssssqqqqqqrTTTTTbbbTc3NTU1NTUsssssqqqqqqqq0000222023NTU1NTUsssssqqqqqqqq000000003NTU1NTU1LLLLLNKrTSqqqqtNNNNNNtNNTU1NSzUssss00qq0qqqqrTTTTTTTTTU1NTUs1LLLNNNKrTTTSqqq00000000001NTU1LNTU0000qtNNNKqqqtNNNNNNNNTU1NTUs1NNNNNKss1NNNK00qtK0000001NNTU0s000000qq000001NKrStNNNNK1NNNNStNNNNNKqtNNNNNNNK0000000rU0000rTTTTTSq00000rTTTTTTTTTTTTTTTTStNNNNKr/xAAUEQEAAAAAAAAAAAAAAAAAAACg/9oACAEDAQM/AAAf/9k=",preserveAspectRatio:"xMidYMid slice"}),(0,t.jsx)("feColorMatrix",{in:"DISPLACEMENT_MAP",type:"matrix",values:"0.3 0.3 0.3 0 0 0.3 0.3 0.3 0 0 0.3 0.3 0.3 0 0 0 0 0 1 0",result:"EDGE_INTENSITY"}),(0,t.jsx)("feComponentTransfer",{in:"EDGE_INTENSITY",result:"EDGE_MASK",children:(0,t.jsx)("feFuncA",{type:"discrete",tableValues:"0 ".concat(.05*s," 1")})}),(0,t.jsx)("feOffset",{in:"SourceGraphic",dx:"0",dy:"0",result:"CENTER_ORIGINAL"}),(0,t.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"DISPLACEMENT_MAP",scale:-1*i,xChannelSelector:"R",yChannelSelector:"B",result:"RED_DISPLACED"}),(0,t.jsx)("feColorMatrix",{in:"RED_DISPLACED",type:"matrix",values:"1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0",result:"RED_CHANNEL"}),(0,t.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"DISPLACEMENT_MAP",scale:i*(-1-.05*s),xChannelSelector:"R",yChannelSelector:"B",result:"GREEN_DISPLACED"}),(0,t.jsx)("feColorMatrix",{in:"GREEN_DISPLACED",type:"matrix",values:"0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1 0",result:"GREEN_CHANNEL"}),(0,t.jsx)("feDisplacementMap",{in:"SourceGraphic",in2:"DISPLACEMENT_MAP",scale:i*(-1-.1*s),xChannelSelector:"R",yChannelSelector:"B",result:"BLUE_DISPLACED"}),(0,t.jsx)("feColorMatrix",{in:"BLUE_DISPLACED",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 1 0",result:"BLUE_CHANNEL"}),(0,t.jsx)("feBlend",{in:"GREEN_CHANNEL",in2:"BLUE_CHANNEL",mode:"screen",result:"GB_COMBINED"}),(0,t.jsx)("feBlend",{in:"RED_CHANNEL",in2:"GB_COMBINED",mode:"screen",result:"RGB_COMBINED"}),(0,t.jsx)("feGaussianBlur",{in:"RGB_COMBINED",stdDeviation:Math.max(.1,.5-.1*s),result:"ABERRATED_BLURRED"}),(0,t.jsx)("feComposite",{in:"ABERRATED_BLURRED",in2:"EDGE_MASK",operator:"in",result:"EDGE_ABERRATION"}),(0,t.jsx)("feComponentTransfer",{in:"EDGE_MASK",result:"INVERTED_MASK",children:(0,t.jsx)("feFuncA",{type:"table",tableValues:"1 0"})}),(0,t.jsx)("feComposite",{in:"CENTER_ORIGINAL",in2:"INVERTED_MASK",operator:"in",result:"CENTER_CLEAN"}),(0,t.jsx)("feComposite",{in:"EDGE_ABERRATION",in2:"CENTER_CLEAN",operator:"over"})]})]})})},I=e=>{let{children:a,displacementScale:i=25,aberration:s=2,saturation:n=130}=e,r=(0,M.useId)(),[o,l]=(0,P.useMeasure)();return(0,t.jsxs)("div",{ref:o,className:"glass-container relative animated",children:[(0,t.jsx)(L,{id:r,displacementScale:i,aberration:s,width:l.width,height:l.height}),(0,t.jsxs)("div",{className:"glass rounded-card",style:{position:"relative",overflow:"hidden",padding:"var(--liquid-glass-padding)"},children:[(0,t.jsx)("span",{style:{filter:"url(#".concat(r,")"),backdropFilter:"blur(4px) saturate(".concat(n,"%)"),position:"absolute",inset:"0"}}),(0,t.jsx)("div",{className:"relative",children:a})]})]})};function B(e){let{children:i,displacementScale:s=70,aberration:n=2,className:r}=e,{isDark:o}=(0,M.useContext)(R.LightnessContext);return(0,t.jsxs)("div",{className:"jsx-d7a040a961c1d14e "+((0,k.default)("liquid-glass rounded-card relative",r)||""),children:[(0,t.jsx)(I,{displacementScale:s,aberration:n,saturation:o?125:100,children:i}),(0,t.jsx)("span",{style:{mixBlendMode:"screen",opacity:.25},className:"jsx-d7a040a961c1d14e border rounded-card"}),(0,t.jsx)("span",{style:{mixBlendMode:"overlay"},className:"jsx-d7a040a961c1d14e border rounded-card"}),(0,t.jsx)(a.default,{id:"d7a040a961c1d14e",children:".border.jsx-d7a040a961c1d14e{pointer-events:none;-webkit-mask-composite:xor;width:100%;height:100%;padding:1.5px;position:absolute;top:0;left:0;box-shadow:inset 0 0 0 .5px rgba(255,255,255,.5),inset 0 1px 3px rgba(255,255,255,.25),0 1px 4px rgba(0,0,0,.35);-webkit-mask:linear-gradient(#000 0,#000 0) content-box,linear-gradient(#000 0,#000 0);mask:linear-gradient(#000 0,#000 0) content-box,linear-gradient(#000 0,#000 0)}.liquid-glass.jsx-d7a040a961c1d14e{box-shadow:0 1px 4px rgba(0,0,0,.05),0 2px 10px rgba(0,0,0,.02)}@-moz-document url-prefix(){.liquid-glass.jsx-d7a040a961c1d14e .glass{-webkit-backdrop-filter:var(--backdrop-blur);backdrop-filter:var(--backdrop-blur)}}"})]})}e.s(["Base11Card",0,e=>{let{useLiquidGlass:i,children:s}=e;return i?(0,t.jsx)(B,{children:s}):(0,t.jsxs)("div",{className:"jsx-fa675b9a59c2fdd9 base-11-card rounded-card",children:[s,(0,t.jsx)(a.default,{id:"fa675b9a59c2fdd9",children:".base-11-card.jsx-fa675b9a59c2fdd9{padding:var(--event-card-padding);background-color:var(--one-to-one-card-bg-color);border:1px solid var(--one-to-one-card-border-color);-webkit-backdrop-filter:var(--card-backdrop-filter);backdrop-filter:var(--card-backdrop-filter);box-shadow:var(--one-to-one-card-shadow)}"})]})}],628031)},371593,780742,666172,615198,e=>{"use strict";var t=e.i(391398),a=e.i(106946),i=e.i(771676),s=e.i(171548),n=e.i(359626),r=e.i(272043),o=e.i(398050),l=e.i(191788),d=e.i(344731),c=e.i(684412),u=e.i(164930),m=e.i(427133),p=e.i(424017),f=e.i(31197),x=e.i(992354),h=e.i(370612),v=e.i(826420),g=e.i(254662),y=e.i(426426),b=e.i(405155),j=e.i(988124),_=e.i(99354),w=e.i(96203),T=e.i(193354),k=e.i(462974),N=e.i(438728),C=e.i(592496),S=e.i(135959),E=e.i(212511),A=e.i(903910),M=e.i(23015),P=e.i(572721),R=e.i(279639),L=e.i(258070),I=e.i(482848),B=e.i(928541),q=e.i(987345),U=e.i(949764),F=e.i(922323),z=e.i(86316),O=e.i(655794),W=e.i(9572),D=e.i(386595),V=e.i(257983),K=e.i(136266),Y=e.i(64964),Q=e.i(657896),H=e.i(443415),G=e.i(36846),Z=e.i(723053),J=e.i(442357),X=e.i(353775),$=e.i(761619),ee=e.i(829900),et=e.i(603149),ea=e.i(687836),ei=e.i(561985),es=e.i(312455),en=e.i(679476),er=e.i(405670),eo=e.i(348688),el=e.i(45591),ed=e.i(628031),ec=e.i(188795),eu=e.i(538865),em=e.i(497061),ep=e.i(315912),ef=e.i(715512),ex=e.i(224950),eh=e.i(883720),ev=e.i(355521),eg=e.i(82602),ey=e.i(988353),eb=e.i(584974),ej=e.i(851800),e_=e.i(145897),ew=e.i(692303),eT=e.i(558573),ek=e.i(108770),eN=e.i(21316),eC=e.i(90618),eS=e.i(977470),eE=e.i(639298),eA=e.i(781431),eM=e.i(621894),eP=e.i(587987),eR=e.i(222099);let eL=e=>{let{show:a,onHide:i}=e,{user:n}=(0,ee.useUserContext)(),r=(0,z.useT)(),{ticket_types:d,refreshEvent:c,guest_data:u,can_register_for_multiple_tickets:m}=(0,s.useEventPageContext)(),[p,f]=(0,l.useState)(()=>(0,s.getInitialTicketTypeToSelection)({allow_waitlist:!1,ticket_types:d,now:o.DateTime.now(),can_register_for_multiple_tickets:m,disallow_require_approval_and_crypto:!0,coupon:null})),[x,h]=(0,l.useState)({step:"start"}),v=(0,l.useCallback)(()=>{i(),h({step:"start"}),f((0,s.getInitialTicketTypeToSelection)({allow_waitlist:!1,ticket_types:d,now:o.DateTime.now(),can_register_for_multiple_tickets:!0,disallow_require_approval_and_crypto:!0,coupon:null}))},[i,d,h,f]),g=(0,l.useMemo)(()=>d.filter(e=>p[e.api_id].count>0&&e.is_flexible).length>0,[d,p]);return n?(0,t.jsx)(ex.LuxMultiStepModal,{show:a,variant:"lux-alert",onHide:v,canClickOutToDismiss:"start"===x.step,icon:(0,t.jsx)(eb.default,{}),title:r({defaultMessage:"Get Additional Tickets",id:"hBQb3J",description:"Title of modal that lets you register for more tickets for an event."}),desc:r({defaultMessage:"You currently have {tickets} for this event. You can register for additional tickets below.",description:"Description of modal that lets you register for more tickets for an event.",id:"6vnQYM"},{tickets:(0,t.jsx)(F.T,{defaultMessage:"{tickets, plural, one {# ticket} other {# tickets}}",id:"R4XjFT",values:{tickets:u.event_tickets.length},tagName:"span",className:"fw-medium"})}),currentStep:x.step,onBack:()=>{"checkout"===x.step&&g?h({step:"flexible"}):h({step:"start"})},steps:{start:{content:(0,t.jsx)(eB,{ticketTypeToSelection:p,setTicketTypeToSelection:f,onNext:()=>{h({step:g?"flexible":"checkout"})}})},flexible:{title:r({defaultMessage:"Name Your Price",id:"204GnZ",description:"Title of modal step to name your price for flexible pricing tickets."}),content:(0,t.jsx)(eq,{ticketTypeToSelection:p,setTicketTypeToSelection:f,onNext:()=>h({step:"checkout"})})},checkout:{title:r({defaultMessage:"Checkout",id:"Cw8lVu",description:"Title of modal that lets you register for more tickets for an event."}),content:(0,t.jsx)(eU,{ticketTypeToSelection:p,onSuccess:async e=>{let{event_tickets:t}=e;await c(),h({step:"success",event_tickets:t}),f((0,s.getInitialTicketTypeToSelection)({allow_waitlist:!1,ticket_types:d,now:o.DateTime.now(),can_register_for_multiple_tickets:!0,coupon:null}))}})},success:{content:"success"===x.step&&(0,t.jsx)(eI,{event_tickets:x.event_tickets,onDone:v})}}}):null},eI=e=>{let{event_tickets:a,onDone:i}=e,s=(0,z.useT)();return(0,t.jsxs)("div",{className:"jsx-392006a2f2a58be6",children:[(0,t.jsxs)("div",{className:"jsx-392006a2f2a58be6 flex-column flex-center",children:[(0,t.jsx)("div",{className:"jsx-392006a2f2a58be6 check-icon flex-center-center",children:(0,t.jsx)(ey.default,{className:"svg-2rem"})}),(0,t.jsx)(F.T,{tagName:"h3",className:"text-tertiary-alpha fw-regular mb-2",defaultMessage:"You have registered for",id:"SgOBFP"}),(0,t.jsx)(F.T,{className:"fw-medium mb-25 text-center text-balance",tagName:"h3",defaultMessage:"{count, plural, one {# Ticket} other {# Tickets}}",values:{count:a.length},id:"JAUJd2"}),(0,t.jsx)(p.LuxButton,{className:"mt-3",label:s({defaultMessage:"Done",id:"JXdbo8"}),fullWidth:!0,onClick:i})]}),(0,t.jsx)(n.default,{id:"392006a2f2a58be6",children:".check-icon.jsx-392006a2f2a58be6{background-color:var(--success-pale-bg-color);width:3.5rem;height:3.5rem;color:var(--success-content-color);border-radius:100%;margin-bottom:1.25rem}"})]})},eB=e=>{let{ticketTypeToSelection:a,setTicketTypeToSelection:i,onNext:n}=e,r=(0,z.useT)(),{ticket_types:o}=(0,s.useEventPageContext)(),d=(0,l.useMemo)(()=>0===(0,e_.sum)(Object.values(a).map(e=>e.count)),[a]);return(0,t.jsxs)("div",{className:"flex-column gap-3",children:[(0,t.jsx)("div",{children:o.length>1?(0,t.jsx)(eW,{ticketTypeToSelection:a,setTicketTypeToSelection:i}):(0,t.jsx)(eO,{ticketTypeToSelection:a,setTicketTypeToSelection:i})}),(0,t.jsx)(p.LuxButton,{label:r(O.CT.Continue),disabled:d,onClick:n,color:"primary",fullWidth:!0})]})},eq=e=>{let{ticketTypeToSelection:a,setTicketTypeToSelection:i,onNext:o}=e,{ticket_types:l,calendar:d}=(0,s.useEventPageContext)(),c=(0,z.useT)(),u=(0,ej.useLocale)(),m=(0,eP.calculatePaymentAmount)({ticket_type_to_selection:a,coupon:null,ticket_types:l,tax_config:d.tax_config}),f=l.filter(e=>{var t;return e.is_flexible&&(null==(t=a[e.api_id])?void 0:t.count)}),x=c({defaultMessage:"You have selected {count, plural, one {a ticket type} other {ticket types}} with flexible pricing. Please name your price below.",id:"bXHJUE",description:"Description for flexible pricing step."},{count:f.length});1===l.length&&(x=c({defaultMessage:"This event has flexible pricing. Please name your price below.",id:"AV8czv",description:"Description for flexible pricing step."}));let h=Object.values(a).some(e=>e.count>1);return(0,t.jsxs)("div",{className:"jsx-6e48bc6a612fa212",children:[(0,t.jsx)("div",{className:"jsx-6e48bc6a612fa212 fs-sm text-secondary-alpha",children:x}),(0,t.jsx)(ep.ListCard,{className:"my-3",children:f.map(e=>{var s,n;let{count:o,amount:d}=a[e.api_id],m=(null!=(s=e.cents)?s:0)*o,p=(null!=(n=e.min_cents)?n:0)*o;return(0,t.jsxs)(ep.BaseListRow,{padding:"0.625rem 0.625rem 0.625rem 0.875rem",children:[(0,t.jsxs)("div",{className:"jsx-6e48bc6a612fa212 flex-baseline spread gap-2",children:[(0,t.jsx)("div",{className:"jsx-6e48bc6a612fa212 min-width-0 text-ellipses",children:l.length>1?(0,t.jsxs)(t.Fragment,{children:[h&&(0,t.jsxs)("span",{className:"jsx-6e48bc6a612fa212 text-tertiary-alpha count mono-number",children:[o.toLocaleString(),"Ã—"]}),(0,t.jsx)("span",{className:"jsx-6e48bc6a612fa212",children:e.name})]}):(0,t.jsx)("span",{className:"jsx-6e48bc6a612fa212",children:c({defaultMessage:"{count, plural, one {1 Ticket} other {# Tickets}}",id:"15ZuiX",description:"Number of tickets"},{count:o})})}),(0,t.jsx)(eT.PriceInput,{className:"flex-shrink-0",cents:d,setCents:t=>{i({...a,[e.api_id]:{...a[e.api_id],amount:t}})},error:d<p,currency:e.currency,minCents:p})]}),(0,t.jsx)("div",{className:"jsx-6e48bc6a612fa212 "+((0,r.default)("fs-xs mt-2 animated",{"text-error":d<p,"text-tertiary-alpha":d>=p})||""),children:(0,eM.formatFlexiblePrice)({suggested_cents:m,min_cents:p,locale:u,currency:e.currency,t:c})})]},e.api_id)})}),d.tax_config&&(0,t.jsx)("div",{className:"jsx-6e48bc6a612fa212 fs-sm text-secondary-alpha",children:c({defaultMessage:"A {tax} of {percent} will be applied at checkout.",id:"4nHiT+",description:"Footer indicating a separate tax will be applied."},{tax:d.tax_config.tax_name,percent:(0,eC.formatTaxPercent)({tax_percent:d.tax_config.tax_percent,locale:u})})}),(0,t.jsx)(p.LuxButton,{label:c(O.CT.Continue),disabled:!m.can_register,onClick:o,color:"primary",fullWidth:!0,className:"mt-3"}),(0,t.jsx)(n.default,{id:"6e48bc6a612fa212",children:"div.jsx-6e48bc6a612fa212{--input-bg-color:var(--opacity-8);--input-accessory-text-color:var(--tertiary-color-alpha);--input-accessory-text-bg-color:var(--opacity-8);--input-border-color:var(--opacity-0);--input-border:var(--input-border-thickness)solid var(--input-border-color);--input-hover-bg-color:var(--opacity-8);--input-hover-border-color:var(--opacity-32);--input-focus-bg-color:var(--bg-opacity-64)}.count.jsx-6e48bc6a612fa212{margin-right:.375rem}"})]})},eU=e=>{var a;let{ticketTypeToSelection:i,onSuccess:n}=e,{user:r}=(0,ee.useUserContext)(),o=(0,z.useT)(),{event:l,ticket_types:d,calendar:c,stripe_account_id:u,accepts_usdc_for_usd:m,openedFrom:p}=(0,s.useEventPageContext)(),{tax_config:f}=c,x=(0,eP.calculatePaymentAmount)({ticket_type_to_selection:i,coupon:null,ticket_types:d,tax_config:f}),h=x.cents_to_pay>0;return r?(0,t.jsx)(eu.Formik,{initialValues:{},onSubmit:async()=>{var e;if(!x.can_register)return void(0,eg.toastError)(o({defaultMessage:"There was an issue registering for the event.",id:"HbclMJ"}));let t=window.paymentInfo;if(x.cents_to_pay>0&&!t&&!x.is_crypto)return;let a=null!=(e=null==t?void 0:t.solana_address)?e:null;await (0,j.callWithToast)(async()=>{var e,s,r,o;let d,c=await eo.APIClient.post("/event/register-for-additional",{event_api_id:l.api_id,ticket_type_to_selection:i,payment_info:{payment_method:null!=(e=null==t?void 0:t.payment_method)?e:null,expected_amount_cents:x.cents_to_pay,expected_amount_discount:x.cents_discount,expected_amount_tax:x.cents_tax,currency:x.currency,payment_currency:null!=(s=null==t?void 0:t.payment_currency)?s:null,coupon_code:null},solana_address:a,opened_from:p});if("success"===c.status)d=c.event_tickets;else if("require-payment-confirmation"===c.status){let{payment_started_api_id:e,client_secret:a,stripe_account_id:i,connected_payment_method_id:s}=c;await (0,eN.confirmPaymentIntent)({client_secret:a,stripe_account_id:i,payment_method_id:null!=(o=null!=s?s:null==t||null==(r=t.payment_method)?void 0:r.id)?o:null,payment_info:t}),d=(await eS.TaskUtils.poll({func:async()=>{let t=await eo.APIClient.get("/event/guest/get-payment-status",{payment_started_api_id:e});return t.status===ew.Task.Status.Success?{status:ew.Task.Status.Success,data:t}:t}})).event_tickets}else{let{signature:e}=c;if(!(null==t?void 0:t.wallet_connection))throw Error("There was a problem connecting to your Solana wallet.");let{wallet_connection:a}=t;await a.signAndSendTransaction({transaction_base64:c.transaction_base64,transaction_base58:c.transaction_base58}),d=(await eS.TaskUtils.poll({func:async()=>{let t=await eo.APIClient.get("/event/guest/get-payment-status",{crypto_transaction_id:e});return t.status===ew.Task.Status.Success?{status:ew.Task.Status.Success,data:t}:t}})).event_tickets}await n({event_tickets:d})},{error:o({defaultMessage:"There was a problem registering for additional tickets.",id:"yz1fhp",description:"Error message when registering for additional tickets fails."})})},children:(0,t.jsxs)(eu.Form,{className:"flex-column gap-3",children:[(0,t.jsx)(F.T,{tagName:"div",className:"text-secondary-alpha fs-sm",defaultMessage:"Please confirm your selection below to complete your registration.",id:"iLAhtk"}),(0,t.jsx)(eF,{ticket_type_to_selection:i,amount:x,tax_config:f}),h?(0,t.jsx)(ek.CheckoutButtonSection,{acceptUsdcForUsd:m,noStripeWarningMessage:(0,t.jsx)(eA.NoStripeWarningForEvent,{}),paymentFor:l.name||o({defaultMessage:"Event Ticket",id:"FdeAWk",description:'Event checkout. "Payment for" value.'}),currency:x.currency,stripeAccountId:u,disabled:!x.can_register,entity:{type:"user",name:r.name,email:r.email},sellerEntity:{seller_type:"event",event_api_id:l.api_id},config:{mode:"payment",amount:null!=(a=x.cents_to_pay)?a:0}}):(0,t.jsx)(eh.LuxSubmitButton,{fullWidth:!0,label:o(O.CT.Register),color:"primary"})]})}):null},eF=e=>{let{ticket_type_to_selection:a,amount:i,tax_config:n,className:r}=e,o=(0,z.useT)(),{ticket_types:l}=(0,s.useEventPageContext)(),d=i.currency||null,c=l.length>1||i.cents_tax>0,u=(0,e_.sum)(Object.values(a).map(e=>e.count));return(0,t.jsx)("div",{className:r,children:(0,t.jsxs)(ep.ListCard,{children:[(0,t.jsxs)(ep.BaseListRow,{padding:"0.625rem 0.875rem",children:[(0,t.jsx)("div",{className:"fs-sm text-tertiary-alpha fw-medium mb-1",children:1===u?o(O.CT.AdditionalTicket):o(O.CT.AdditionalTickets)}),Object.entries(a).map(e=>{let[a,{count:i,amount:s}]=e,n=l.find(e=>e.api_id===a);if(n&&i)return(0,t.jsx)(ez,{className:"fs-sm",label:(0,t.jsxs)("div",{className:"left min-width-0 flex-baseline gap-2",children:[(0,t.jsxs)("span",{className:"mono-number count text-tertiary-alpha",children:[i.toLocaleString(),"Ã—"]}),(0,t.jsx)("span",{className:"text-ellipses",children:n.name})]}),value:s&&d?(0,t.jsx)(ev.Price,{cents:s,currency:d}):o(O.CT.Free_Price),valueClassName:"text-tertiary-alpha"},a)})]}),c&&d&&(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsxs)(ep.BaseListRow,{padding:"0.625rem 0.875rem",children:[(0,t.jsx)(ez,{className:"fs-sm",label:o(O.CT.Subtotal),value:(0,t.jsx)(ev.Price,{cents:i.cents_original,currency:d}),valueClassName:"text-tertiary-alpha"}),(0,t.jsx)(ez,{className:"fs-sm",label:(0,t.jsx)("div",{className:"text-ellipses",children:(0,t.jsx)(eC.TaxName,{tax_config:n})}),value:(0,t.jsx)(ev.Price,{cents:i.cents_tax,currency:d}),valueClassName:"text-tertiary-alpha"})]}),(0,t.jsx)(ep.BaseListRow,{className:"fw-medium",padding:"0.625rem 0.875rem",children:(0,t.jsx)(ez,{label:o(O.CT.Total_ToPay),value:(0,t.jsx)(ev.Price,{cents:i.cents_to_pay,currency:d})})})]})]})})},ez=e=>{let{className:a,label:i,value:s,valueClassName:o}=e;return(0,t.jsxs)("div",{className:"jsx-ce17063278720310 "+((0,r.default)("payment-row flex-baseline spread gap-2",a)||""),children:[(0,t.jsx)("div",{className:"jsx-ce17063278720310 min-width-0 text-ellipses",children:i}),(0,t.jsx)("div",{className:"jsx-ce17063278720310 "+((0,r.default)("mono-number",o)||""),children:s}),(0,t.jsx)(n.default,{id:"ce17063278720310",children:".payment-row.jsx-ce17063278720310+.payment-row.jsx-ce17063278720310{margin-top:.3125rem}"})]})},eO=e=>{var a,i;let{ticketTypeToSelection:r,setTicketTypeToSelection:o}=e,l=(0,z.useT)(),{ticket_types:d,calendar:c}=(0,s.useEventPageContext)(),[u]=d,m=(0,eR.eventPrice)({ticket_types:d,tax_config:c.tax_config});return(0,t.jsxs)("div",{className:"jsx-6a3dc87282a6428c flex-column gap-3 my-1 selector",children:["fiat-price"===u.type&&m&&(0,t.jsx)(eM.SingleTicketTypePriceDisplay,{priceInfo:m,allowMulti:!0}),(0,t.jsxs)("div",{className:"jsx-6a3dc87282a6428c flex-center gap-2 spread",children:[(0,t.jsx)("div",{className:"jsx-6a3dc87282a6428c fw-medium",children:l(O.CT.AdditionalTickets)}),(0,t.jsx)(em.CountSelector,{count:null!=(i=null==(a=r[u.api_id])?void 0:a.count)?i:1,setCount:e=>{var t;o({...r,[u.api_id]:{amount:(null!=(t=u.cents)?t:0)*e,count:e}})},min:1})]}),(0,t.jsx)(n.default,{id:"6a3dc87282a6428c",children:".selector.jsx-6a3dc87282a6428c .text-tinted{color:var(--secondary-color-alpha)}"})]})},eW=e=>{let{ticketTypeToSelection:a,setTicketTypeToSelection:i,className:n}=e,{ticket_types:r}=(0,s.useEventPageContext)(),o=(0,z.useT)(),l=(0,y.useNow)(),d=r.filter(e=>!(0,eE.isTicketTypeAvailable)({ticket_type:e,now:l,disallow_require_approval_and_crypto:!0})).length;return(0,t.jsxs)("div",{className:d>0?"mt-1":"my-1",children:[(0,t.jsx)(ef.LuxInputLabel,{text:o(O.CT.AdditionalTickets)}),(0,t.jsx)(eE.TicketTypeSelector,{className:n,ticketTypeToSelection:a,setTicketTypeToSelection:i,disallowRequireApprovalAndCrypto:!0,hideUnavailable:!0,addTax:!0}),d>0&&(0,t.jsx)("div",{className:"fs-sm text-tertiary-alpha mt-25 text-center",children:o({defaultMessage:"{count, plural, one {# unavailable ticket type} other {# ticket types}} hidden",id:"C0mCyL",description:"Indicating that unavailable ticket types are hidden."},{count:d})})]})};var eD=e.i(145876),eV=e.i(454657),eK=e.i(522476),eY=e.i(206046),eQ=e.i(243885),eH=e.i(827283),eG=e.i(720055),eG=eG,eZ=e.i(491579),eJ=e.i(575084);e.s(["Unlock16Icon",()=>eJ.default],780742);var eJ=eJ,eX=e.i(764205),e$=e.i(801626),e0=e.i(789700),e2=e.i(309525),e2=e2,e1=e.i(214383),e5=e.i(268620),e3=e.i(132571),e4=e.i(231436),e7=e.i(619390),e6=e.i(70355),e9=e.i(933855),e8=e.i(295787),te=e.i(247868),tt=e.i(935296),ta=e.i(831202),ti=e.i(644872),ts=e.i(549794),tn=e.i(836953),tr=e.i(145596),to=e.i(102729),tl=e.i(202573),td=e.i(8084),tc=e.i(579259),tu=e.i(544712);let tm=()=>{var e;let{event:a,sold_out:i,ticket_info:o,ticket_types:d,event_invite:c,calendar:u,membership_tiers:m}=(0,s.useEventPageContext)(),p=(0,y.useNow)({interval:{second:1}}),f=(null==o?void 0:o.is_near_capacity)===!0,x="not-started"===(0,eR.eventTicketTypesTimeAvailability)({ticket_types:d,now:p})?null:null!=(e=null==o?void 0:o.spots_remaining)?e:null,h=tf({ticket_types:d}),v=t_({ticket_types:d}),g=(0,K.getEventState)({event:a}),b=a.event_type===H.EventType.Independent&&g===K.EventState.Ended,j=1===d.length?(0,eR.singleTicketTypeTimeAvailability)({ticket_type:d[0],now:p}):null,_=!b&&j&&ty({avail:j,now:p}),w=1===d.length?d[0].membership_restriction:null,T=!!(0,eR.eventPrice)({ticket_types:d,tax_config:u.tax_config}),k=(0,l.useMemo)(()=>{let e=[];return b?[(0,t.jsx)(tT,{endTime:a.end_at},"past-event")]:(_&&e.push((0,t.jsx)(tj,{avail:j,hasPayment:T,now:p},"time-availability")),i?e.push((0,t.jsx)(tv,{},"sold-out")):f&&e.push((0,t.jsx)(tg,{spots:x},"limited-spots")),v&&e.push((0,t.jsx)(tw,{req:v},"crypto")),w&&e.push((0,t.jsx)(th,{membership_tiers:m,req:w},"membership")),c?e.push((0,t.jsx)(tp,{invite:c},"invited")):!i&&h&&e.push((0,t.jsx)(tx,{},"require-approval")),e)},[v,c,a,T,f,b,h,w,m,p,_,j,i,x]);return 0===k.length?null:(0,t.jsxs)("div",{className:"jsx-5b384f005caa455a "+((0,r.default)("info-rows flex-column",{one:a.one_to_one})||""),children:[k,(0,t.jsx)(n.default,{id:"5b384f005caa455a",children:".info-rows.jsx-5b384f005caa455a{gap:.75rem}.info-rows.jsx-5b384f005caa455a:not(.one){background-color:var(--opacity-light);border-radius:var(--small-border-radius);margin:-.5rem -.75rem 0;padding:.5rem .75rem}.info-rows.one.jsx-5b384f005caa455a{border-bottom:1px solid var(--divider-color);margin:-.5rem -1rem .25rem;padding:.5rem 1rem .75rem}"})]})},tp=e=>{let a,{invite:i}=e,s=(0,z.useT)(),r=s({defaultMessage:"Weâ€™d love to have you join us.",id:"QVhphp",description:"Subtitle for the invited info row in the registration card."});return(a="calendar"===i.invited_by_entity.type?i.invited_by_entity.calendar.name:i.invited_by_entity.user.name)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tk,{icon:(0,t.jsxs)("div",{className:"jsx-59b236f7604d9f91 relative",children:[(0,t.jsx)("div",{className:"jsx-59b236f7604d9f91 avatar-wrapper flex-center-center",children:"calendar"===i.invited_by_entity.type?(0,t.jsx)(td.CalendarAvatar,{calendar:i.invited_by_entity.calendar,rem:1.5}):(0,t.jsx)(tc.UserAvatar,{user:i.invited_by_entity.user,rem:1.5})}),i.message&&(0,t.jsx)("div",{className:"jsx-59b236f7604d9f91 quote",children:(0,t.jsx)(tr.default,{})})]}),isCustomIcon:!0,title:s({defaultMessage:"You are invited by {name}",id:"sRZU1A",description:"Info row in the registration card indicating the user is invited by someone."},{name:a}),subtitle:(0,t.jsx)(e9.ExpandableLineClamp,{className:"invite-message",text:i.message||r})}),(0,t.jsx)(n.default,{id:"59b236f7604d9f91",children:".avatar-wrapper.jsx-59b236f7604d9f91{padding:.125rem}.quote.jsx-59b236f7604d9f91{color:var(--opacity-second-light);position:absolute;top:.625rem;left:1.75rem}.quote.jsx-59b236f7604d9f91 svg{width:2rem;height:2rem}.invite-message{white-space:pre-line}"})]}):(0,t.jsx)(tk,{icon:(0,t.jsx)(tn.default,{}),title:s({defaultMessage:"You are Invited",id:"+flYvC",description:"Info row in the registration card indicating the user is invited."}),subtitle:r})},tf=e=>{let{ticket_types:t}=e;return!(t.length>1)&&t[0].require_approval},tx=()=>{let e=(0,z.useT)();return(0,t.jsx)(tk,{icon:(0,t.jsx)(tl.default,{}),title:e({defaultMessage:"Approval Required",id:"PLs8hU",description:"Info row in the registration card indicating the user needs approval."}),subtitle:e({defaultMessage:"Your registration is subject to approval by the host.",id:"dmXUdz",description:"Subtitle for the require approval info row in the registration card."})})},th=e=>{let{membership_tiers:a,req:i}=e,s=(0,z.useT)(),n=s({defaultMessage:"Only calendar members can register for this event.",id:"7vwNsI",description:"Subtitle for the membership required info row in the registration card."});if("memberships"===i.type){let e=i.calendar_membership_tier_api_ids.map(e=>a.find(t=>t.api_id===e)).filter(e=>void 0!==e);1===e.length?n=s({defaultMessage:"Only members of the tier {tier} can register for this event.",id:"+Gv7Y+",description:"Subtitle for the membership required info row in the registration card, followed by a list of allowed tiers."},{tier:(0,t.jsx)("span",{className:"fw-medium",children:e[0].name},"tier")}):e.length>1&&(n=s({defaultMessage:"Only members of the following tiers can register for this event: {tiers}",id:"QoAv4E",description:"Subtitle for the membership required info row in the registration card, followed by a list of allowed tiers."},{tiers:(0,t.jsx)("span",{className:"fw-medium",children:e.map(e=>e.name).join(s(O.CT.Comma_Symbol))},"tiers")}))}return(0,t.jsx)(tk,{icon:(0,t.jsx)(te.GemFilled16Icon,{}),title:s({defaultMessage:"Members-Only Event",id:"apijsw",description:"Info row in the registration card indicating the event is members only."}),subtitle:n})},tv=()=>{let{waitlistActive:e,hasTicketPrice:a}=(0,s.useEventPageContext)(),i=(0,z.useT)();return(0,t.jsx)(tk,{icon:(0,t.jsx)(to.default,{}),title:i(a?{defaultMessage:"Event Sold Out",id:"dcfAdl",description:"Title for the sold out info row in the registration card for paid event."}:{defaultMessage:"Event Full",id:"2z0CwG",description:"Title for the sold out info row in the registration card for free event."}),subtitle:i(e?{defaultMessage:"If youâ€™d like, you can join the waitlist.",id:"d2Rl/A",description:"Subtitle for the sold out info row in the registration card."}:{defaultMessage:"We hope we can catch you at the next event.",id:"BGFhYI",description:"Subtitle for the sold out info row in the registration card."})})},tg=e=>{let{spots:a}=e,{hasTicketPrice:i}=(0,s.useEventPageContext)(),n=(0,z.useT)();return(0,t.jsx)(tk,{icon:(0,t.jsx)(tt.default,{}),title:!a||a>10?n({defaultMessage:"Limited Spots Remaining",id:"QNL3/z",description:"Info row in the registration card indicating limited spots remaining."}):n({defaultMessage:"{count, plural, =0 {No Spots Remaining} one {One Spot Remaining} other {# Spots Remaining}}",id:"lfLCgU",description:"Number of spots remaining in the event"},{count:a}),subtitle:n(i?{defaultMessage:"Hurry up and register before the event sells out!",id:"0c0/dz"}:{defaultMessage:"Hurry up and register before the event fills up!",id:"oBYAxb"})})},ty=e=>{let{avail:t,now:a}=e;return"available"===t.state?!!t.endTime&&t.endTime<a.plus({days:1}):"not-started"===t.state?t.time<a.plus({days:1}):"just-started"===t.state},tb=(e,t)=>{let a=t.diff(e,["hours","minutes","seconds"]);return 1>a.as("hours")?a.toFormat("mm:ss"):a.toFormat("h:mm:ss")},tj=e=>{let{avail:a,hasPayment:i,now:n}=e,r=(0,z.useT)(),{rerender:o,sold_out:c}=(0,s.useEventPageContext)();if((0,l.useEffect)(()=>{o()},[a.state]),c)return null;if("available"===a.state){if(!a.endTime)return null;let e=tb(n,a.endTime);return(0,t.jsx)(tk,{icon:(0,t.jsx)(ti.default,{}),title:(0,t.jsx)(d.AfterMounted,{children:r(i?{defaultMessage:"Ticket sales end in {countdown}",id:"402pJY",description:"Info row indicating ticket sales ending soon. countdown is like 30:25."}:{defaultMessage:"Registration closes in {countdown}",id:"fzJSqQ",description:"Info row indicating registration ending soon. countdown is like 30:25."},{countdown:e})}),subtitle:r({defaultMessage:"Secure your spot before itâ€™s too late!",id:"yDwRme",description:"Subtitle for info row indicating ticket sales ending soon."})})}if("ended"===a.state)return null;if("just-started"===a.state)return(0,t.jsx)(tk,{icon:(0,t.jsx)(ts.default,{}),title:r(i?{defaultMessage:"Ticket sale is now open",id:"r2nf2/",description:"Info row indicating ticket sales just opened."}:{defaultMessage:"Registration is now open",id:"xwBR2Y",description:"Info row indicating registration just opened."}),subtitle:r({defaultMessage:"Secure your spot now!",id:"mUXnJz",description:"Subtitle for info row indicating registration just opened."})});let u=tb(n,a.time);return(0,t.jsx)(tk,{icon:(0,t.jsx)(ts.default,{}),title:(0,t.jsx)(d.AfterMounted,{children:r(i?{defaultMessage:"Ticket sales start in {countdown}",id:"6+XOVw",description:"Info row indicating ticket sales starting soon. countdown is like 30:25."}:{defaultMessage:"Registration starts in {countdown}",id:"eB6mOG",description:"Info row indicating registration starting soon. countdown is like 30:25."},{countdown:u})}),subtitle:r({defaultMessage:"Check back soon!",id:"vRUOx4",description:"Subtitle for info row indicating ticket sales starting soon."})})},t_=e=>{let{ticket_types:t}=e;return t.length>1||0===t.length?null:t[0].ethereum_token_requirements.length>0?t[0].ethereum_token_requirements:null},tw=e=>{let{req:a}=e,i=(0,tu.parseEventTokenFilters)(a),s=(0,z.useT)(),r=(0,t.jsx)(t.Fragment,{});return r=1===i.length?(0,t.jsx)(F.T,{defaultMessage:"You must be a holder of <token></token> to register.",id:"6Px8Ys",values:{token:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"fw-medium",children:i[0].name}),i[0].desc&&" (".concat(i[0].desc,")")]})}}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.T,{defaultMessage:"To register, you must hold one of the following:",id:"5koSYQ",description:"Subtitle for the crypto gating info row in the registration card, followed by a list of allowed tokens."}),(0,t.jsx)("div",{className:"jsx-2cfec70006cfaa3d",children:i.map((e,a)=>(0,t.jsxs)("span",{className:"jsx-2cfec70006cfaa3d token-info",children:[(0,t.jsx)("span",{className:"jsx-2cfec70006cfaa3d fw-medium",children:e.name}),e.desc&&(0,t.jsxs)("span",{className:"jsx-2cfec70006cfaa3d",children:[" (",e.desc,")"]})]},a))}),(0,t.jsx)(n.default,{id:"2cfec70006cfaa3d",children:'.token-info.jsx-2cfec70006cfaa3d:not(:last-child):after{content:", "}'})]}),(0,t.jsx)(tk,{icon:(0,t.jsx)(eX.default,{}),title:s({defaultMessage:"Token Holder Exclusive Event",id:"iELA+G",description:"Info row in the registration card indicating the event is a crypto-gated event."}),subtitle:r})},tT=e=>{let{endTime:a}=e,i=(0,e8.useIsMounted)(),s=(0,z.useT)(),n=(0,ej.useLocale)(),r=(0,W.getRelativeTime)({date:a,locale:n});return(0,t.jsx)(tk,{icon:(0,t.jsx)(ta.default,{}),title:s({defaultMessage:"Past Event",id:"AhqZ0f",description:"Disclaimer on event page that the event is a past event."}),subtitle:i?s({defaultMessage:"This event ended {time_ago}.",id:"Sua2P9",description:'Message showing that the event has ended. time_ago is a string like "2 hours ago".'},{time_ago:r}):null})},tk=e=>{let{icon:a,title:i,subtitle:s,className:o,isCustomIcon:l}=e,d=(0,b.useBreakpoints)();return(0,t.jsxs)("div",{className:n.default.dynamic([["8128e858d1877934",[d.tiny]]])+" "+((0,r.default)("flex-start info-row",o)||""),children:[(0,t.jsx)("div",{className:n.default.dynamic([["8128e858d1877934",[d.tiny]]])+" "+((0,r.default)("icon",{"rounded standard flex-center-center":!l})||""),children:a}),(0,t.jsxs)("div",{className:n.default.dynamic([["8128e858d1877934",[d.tiny]]]),children:[(0,t.jsx)("div",{className:n.default.dynamic([["8128e858d1877934",[d.tiny]]])+" title",children:i}),s&&(0,t.jsx)("div",{className:n.default.dynamic([["8128e858d1877934",[d.tiny]]])+" desc text-tinted",children:s})]}),(0,t.jsx)(n.default,{id:"8128e858d1877934",dynamic:[d.tiny],children:".info-row.__jsx-style-dynamic-selector{gap:.75rem}.info-row.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{flex-shrink:0;width:1.75rem;height:1.75rem;margin-top:.5rem}.info-row.__jsx-style-dynamic-selector .icon.standard.__jsx-style-dynamic-selector{background-color:var(--opacity-light);color:var(--opacity-48)}.title.__jsx-style-dynamic-selector{font-family:var(--title-font);font-weight:var(--title-font-weight-medium,var(--font-weight-medium))}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-sm);margin-top:1px}@media (max-width:".concat(d.tiny,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-xs)}}")})]})};var tN=e.i(512595),tC=e.i(666657);let tS=()=>{let{ticket_types:e}=(0,s.useEventPageContext)();return e.length>1?(0,t.jsx)(tE,{}):(0,t.jsx)(tA,{})},tE=()=>{let{ticket_types:e,ticketTypeToSelection:a,setTicketTypeToSelection:i}=(0,s.useEventPageContext)(),n=(0,y.useNow)(),r=(0,z.useT)(),o=(0,eR.eventTicketTypesTimeAvailability)({ticket_types:e,now:n}),l=r({defaultMessage:"Welcome! Please choose your desired ticket type:",id:"6jdRef"});return"not-started"===o&&(l=r({defaultMessage:"Welcome! No ticket is on sale at the moment. Please check back later.",id:"zMW7xA"})),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{children:l}),(0,t.jsx)(eE.TicketTypeSelector,{ticketTypeToSelection:a,setTicketTypeToSelection:i,addTax:!0})]})},tA=()=>{let{event:e,ticket_info:a,can_register_for_multiple_tickets:i,sold_out:r,waitlistActive:o,calendar:l,ticket_types:d,ticketTypeToSelection:c,setTicketTypeToSelection:u}=(0,s.useEventPageContext)(),m=(0,y.useNow)(),p=(0,z.useT)();if(0===d.length)return console.error("No ticket types found for independent event",e),null;let f=(0,eR.maxAllowedCountForTicketType)({ticket_type:d[0],ticket_info:a}),x=(0,eR.eventTicketTypesTimeAvailability)({ticket_types:d,now:m});if(r)return o?(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"Please click on the button below to join the waitlist. You will be notified if additional spots become available.",id:"GM/Jy4",description:"Prompt for waitlist in the registration card."}):(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"This event is sold out and no longer accepting registrations.",id:"dRTBZg",description:"Prompt in the registration card after the event sells out."});let h=(0,eR.eventPrice)({ticket_types:d,tax_config:l.tax_config});if(i){var v,g;return(0,t.jsxs)(t.Fragment,{children:[h&&(0,t.jsx)("div",{className:"jsx-9d5aa401fd048009 price-display",children:(0,t.jsx)(eM.SingleTicketTypePriceDisplay,{priceInfo:h,allowMulti:!0})}),(0,t.jsxs)("div",{className:"jsx-9d5aa401fd048009 flex-center spread ticket-count-selector",children:[(0,t.jsx)("div",{className:"jsx-9d5aa401fd048009 icon flex-center-center rounded",children:(0,t.jsx)(tC.default,{})}),(0,t.jsxs)("div",{className:"jsx-9d5aa401fd048009 flex-1",children:[(0,t.jsx)("div",{className:"jsx-9d5aa401fd048009 fw-medium",children:(0,t.jsx)(F.T,{defaultMessage:"Tickets",id:"zjAOUu",description:"Label for ticket count selector in the registration card."})}),!r&&(0,t.jsx)(tM,{className:"validity fs-xs text-tinted reduced-line-height mt-05",ticket:d[0],hasPayment:!!h})]}),(0,t.jsx)(em.CountSelector,{count:null!=(g=null==(v=c[d[0].api_id])?void 0:v.count)?g:1,setCount:e=>{var t;let a=d[0];u({...c,[a.api_id]:{amount:(null!=(t=a.cents)?t:0)*e,count:e}})},min:1,max:null==f?void 0:f.count,disabled:"available"!==x,disabledTooltipLabel:p("ended"===x?{defaultMessage:"Sale has ended",id:"4x/peY"}:{defaultMessage:"Sale has not yet started",id:"6iMe2r"})})]}),(0,t.jsx)(n.default,{id:"9d5aa401fd048009",children:".price-display.jsx-9d5aa401fd048009+.ticket-count-selector.jsx-9d5aa401fd048009{border-top:1px solid var(--divider-color);padding-top:.75rem}.flex-center.jsx-9d5aa401fd048009{gap:.625rem}.icon.jsx-9d5aa401fd048009{background-color:var(--opacity-light);width:1.75rem;height:1.75rem;color:var(--opacity-48);flex-shrink:0}div.jsx-9d5aa401fd048009 .validity:before{display:none}"})]})}let b=!!(d[0].valid_start_at||d[0].valid_end_at),j="";if(h)j=p("not-started"===x?{defaultMessage:"Welcome! Ticket sales have not yet started. Please check back later.",id:"Uft/YR"}:{defaultMessage:"Welcome! To join the event, please get your ticket below.",id:"AiYlke"});else{let e=b&&!r?(0,t.jsx)(tM,{className:"inline",ticket:d[0],includeTrailingPeriod:!0}):null;j="not-started"===x?(0,t.jsx)(F.T,{defaultMessage:"Welcome! {validity} Please check back later.",id:"99Sbqt",description:"Registration card message for events that have not yet started.",values:{validity:e}}):(0,t.jsx)(F.T,{defaultMessage:"Welcome! To join the event, please register below. {validity}",id:"RxvPr6",description:"Registration card message for events that have started. {validity} must be at the end of the message since it may be null.",values:{validity:e}})}return(0,t.jsxs)(t.Fragment,{children:[h&&(0,t.jsxs)("div",{className:"jsx-4fc9988e16909c6d flex-end flex-wrap spread gap-2",children:[(0,t.jsx)(eM.SingleTicketTypePriceDisplay,{priceInfo:h,allowMulti:!1}),b&&!r&&(0,t.jsx)(tM,{className:"validity fs-sm text-tinted reduced-line-height",ticket:d[0],hasPayment:!!h})]}),(0,t.jsx)("div",{className:"jsx-4fc9988e16909c6d message",children:j}),(0,t.jsx)(n.default,{id:"4fc9988e16909c6d",children:".flex-end.jsx-4fc9988e16909c6d{border-bottom:1px solid var(--divider-color);padding-bottom:.75rem}.flex-end.jsx-4fc9988e16909c6d .validity{margin-top:-1px;transform:translateY(1.5px)}"})]})},tM=e=>{let{ticket:a,hasPayment:i,className:n,includeTrailingPeriod:r}=e,{event:l}=(0,s.useEventPageContext)(),d=l.location_type===V.EventLocationType.Offline?l.timezone:void 0,c=(0,y.useNow)(),u=(0,z.useT)(),m=r?u(O.CT.Period_Symbol):"",p=(0,eR.singleTicketTypeTimeAvailability)({ticket_type:a,now:c});if("available"===p.state&&!p.endTime||!a.valid_start_at&&!a.valid_end_at)return null;let f=a.valid_start_at?o.DateTime.fromISO(a.valid_start_at):null;if(f&&f>c){let e=(0,t.jsx)(tN.Time,{at:f,timeZone:d,timeZoneName:"short-if-different",month:"short",day:"numeric",date:"only-if-different",year:"only-if-different",hour:"numeric",minute:"numeric"});return i?(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)(F.T,{defaultMessage:"Sales start at {time}",id:"9U8vUU",values:{time:e}}),m]}):(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)(F.T,{defaultMessage:"Registration opens at {time}",id:"g99QBp",values:{time:e}}),m]})}let x=a.valid_end_at?o.DateTime.fromISO(a.valid_end_at):null;if(!x)return null;if(x<c)return i?(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)(F.T,{defaultMessage:"Ticket sales have ended",id:"/o42LG"}),m]}):(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)(F.T,{defaultMessage:"Registration has closed",id:"LmZxb+"}),m]});let h=(0,t.jsx)(tN.Time,{at:x,month:"short",day:"numeric",date:"only-if-different",year:"only-if-different",hour:"numeric",minute:"numeric",timeZone:d,timeZoneName:"short-if-different",preferCapitalize:!1});return i?(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)(F.T,{defaultMessage:"Sales end {time}",id:"iPMPqu",description:"Example: sales end tomorrow, 5pm.",values:{time:h}}),m]}):(0,t.jsxs)("div",{className:n,children:[(0,t.jsx)(F.T,{defaultMessage:"Registration closes {time}",id:"aJVi+C",description:"Example: registration closes tomorrow, 5pm.",values:{time:h}}),m]})},tP=e=>{let{inPanel:a,registrationOverlay:i}=e,n=(0,z.useT)(),{newStyle:r,theme_meta:o}=(0,s.useEventPageContext)();return r?(0,t.jsx)(ed.Base11Card,{useLiquidGlass:!a&&Y.EventThemeToInfo[o.theme].liquidGlass,children:(0,t.jsx)(tR,{registrationOverlay:i})}):(0,t.jsx)(ec.EventContentCard,{titleIcon:(0,t.jsx)(eZ.Ticket16Icon,{}),titleLabel:n({defaultMessage:"Registration",id:"SolfwE",description:"Title of the registration card."}),children:(0,t.jsx)(tB,{registrationOverlay:i})})},tR=e=>{let{registrationOverlay:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tL,{}),(0,t.jsx)("div",{className:"inner",children:(0,t.jsx)(tB,{registrationOverlay:a})})]})},tL=()=>{let{event:e,ticket_types:a}=(0,s.useEventPageContext)(),i=(0,z.useT)();if(e.hide_rsvp)return null;let r=i({defaultMessage:"Registration",id:"SolfwE",description:"Title of the registration card."});return(0,eP.canPayForEvent)({ticket_types:a})&&(r=i({defaultMessage:"Get Tickets",id:"k06J1n",description:"Title of the registration card when payment is allowed."})),(0,t.jsxs)(tI,{children:[(0,t.jsx)("div",{className:"jsx-a76e40116a177307 title-label text-tinted fs-sm",children:r}),(0,t.jsx)(n.default,{id:"a76e40116a177307",children:".title-label.jsx-a76e40116a177307{font-family:var(--title-font);font-weight:var(--title-font-weight-medium,var(--font-weight-medium))}"})]})},tI=e=>{let{children:a}=e;return(0,t.jsxs)("div",{className:"jsx-ebc17e4706cf462a header",children:[a,(0,t.jsx)(n.default,{id:"ebc17e4706cf462a",children:".header.jsx-ebc17e4706cf462a{background-color:var(--opacity-light);border-top-right-radius:calc(var(--card-border-radius) - 2px);border-top-left-radius:calc(var(--card-border-radius) - 2px);margin:calc(1px - .75rem) calc(1px - 1rem) .75rem;padding:calc(.5rem - 1px) calc(1rem - 1px)}@supports (corner-shape:squircle){.header.jsx-ebc17e4706cf462a{corner-shape:squircle;border-top-right-radius:calc(var(--card-squircle-border-radius) - 2px);border-top-left-radius:calc(var(--card-squircle-border-radius) - 2px)}}"})]})},tB=e=>{var a;let{registrationOverlay:i}=e,{user:r}=(0,ee.useUserContext)(),{can_register_for_multiple_tickets:o,coupon:l,cryptoRequirement:d,eth_address_requirement:c,event:u,event_invite:m,name_requirement:x,onRegister:h,openedFrom:v,phone_number_requirement:g,refreshEvent:b,registration_questions:_,setCryptoInfo:w,show_unlock_code_option:T,solana_address_requirement:k,sold_out:N,ticketTypeToSelection:C,ticket_types:S,waitlistActive:E}=(0,s.useEventPageContext)(),A=(0,z.useT)(),M=(0,y.useNow)(),{waitForTurnstile:P}=(0,e4.useCaptchaContext)();if(u.event_type!==H.EventType.Independent||u.hide_rsvp)return(0,t.jsx)(tY,{});if("ended"===(0,eR.eventTicketTypesTimeAvailability)({ticket_types:S,now:M}))return(0,t.jsx)(tY,{showUnlockCodeMode:T});if(N&&!E)return(0,t.jsx)(tQ,{showUnlockCodeOption:T});let R=0==(0,e_.sum)(Object.values(C).map(e=>e.count)),[L]=S,I=!!(x===H.RegistrationNameRequirement.FullName&&(null==r?void 0:r.name)||x===H.RegistrationNameRequirement.FirstLast&&(null==r?void 0:r.first_name)&&(null==r?void 0:r.last_name)),B=!!(r&&I&&!d&&(null!=(a=null==_?void 0:_.length)?a:0)===0&&!N&&null===k&&null===g&&null===c&&!o&&1===S.length&&L&&"free"===L.type&&0===L.ethereum_token_requirements.length),q=A({defaultMessage:"One-Click RSVP",id:"PZUoqa",description:"Register button on the event page that requires no additional steps."});L&&L.require_approval&&(q=A({defaultMessage:"One-Click Apply",id:"0m3eYE",description:"Register button on the event page when the host needs to approve."})),m&&(q=A({defaultMessage:"Accept Invite",id:"RlFeio",description:"Register button the event page when the guest has been invited."}));let U=S.length>1&&S.filter(e=>"free"!==e.type&&e.is_flexible&&(!e.min_cents||e.min_cents<e.cents)).length>0;return(0,t.jsxs)("div",{className:"jsx-5b96bbb25927e633",children:[(0,t.jsxs)("div",{className:"jsx-5b96bbb25927e633 flex-column content",children:[(0,t.jsx)(tm,{}),(0,t.jsx)(tS,{}),(0,t.jsxs)("div",{className:"jsx-5b96bbb25927e633 mt-1 flex-column content",children:[(0,t.jsx)(tH,{}),(0,t.jsxs)("div",{className:"jsx-5b96bbb25927e633 cta-wrapper",children:[(0,t.jsxs)("div",{className:"jsx-5b96bbb25927e633 cta flex-center gap-2 mb-1",children:[B&&r?(0,t.jsx)(p.LuxButton,{color:"primary",label:q,fullWidth:!0,disabled:R,onClick:async()=>{await (0,j.callWithToast)(async()=>{var e,t,a;let i=await eo.APIClient.post("/event/register",{coupon_code:null,currency:null,email:r.email,eth_address_info:null,event_api_id:u.api_id,payment_method:null,phone_number:null,ticket_type_to_selection:L?{[L.api_id]:{count:1,amount:null!=(e=L.cents)?e:0}}:{},expected_amount_cents:0,expected_amount_tax:0,expected_amount_discount:0,for_waitlist:!1,name:null!=(t=r.name)?t:"",first_name:r.first_name,last_name:r.last_name,event_invite_api_id:null!=(a=null==m?void 0:m.api_id)?a:null,payment_method_id:null,registration_answers:[],opened_from:v,solana_address_info:null,timezone:(0,e3.getTimezoneIana)(),token_gate_info:null,payment_currency:null},{waitForTurnstile:P});"success"===i.status&&(h(i),await b())},{success:A({defaultMessage:"Thank you for registering!",id:"4Z7prl",description:"Event page. Toast after registering for event."}),error:A({defaultMessage:"There was an error recording your registration.",id:"q2tdmX",description:"Event page. Toast message for error registering for event."})})}}):d?(0,t.jsx)("div",{className:"jsx-5b96bbb25927e633 flex-1",children:(0,t.jsx)(e6.GetTokenButton,{fullWidth:!0,req:d,label:(0,eP.ctaButtonText)({ticket_types:S,ticketTypeToSelection:C,event_invite:m,waitlistActive:E,soldOut:N,t:A}),disabled:R,onCryptoInfo:e=>{w(e),i.onShow()}})}):(0,t.jsx)(p.LuxButton,{color:"primary",label:(0,eP.ctaButtonText)({ticket_types:S,ticketTypeToSelection:C,event_invite:m,waitlistActive:E,soldOut:N,t:A}),fullWidth:!0,disabled:R,onClick:()=>{w(null),i.onShow()}}),(0,t.jsx)(tO,{})]}),(0,t.jsx)(f.LuxCollapse,{className:"reg-card-footer",show:!!((null==l?void 0:l.cents_off)||(null==l?void 0:l.percent_off)),children:l&&(0,t.jsx)(tF,{coupon:l})}),(0,t.jsx)(f.LuxCollapse,{show:!!d,className:"reg-card-footer",children:(0,t.jsx)(tz,{})}),U&&(0,t.jsx)("div",{className:"jsx-5b96bbb25927e633 reg-card-footer",children:(0,t.jsxs)("div",{className:"jsx-5b96bbb25927e633 footer-content text-tinted",children:[(0,t.jsx)(eG.default,{}),(0,t.jsx)("div",{className:"jsx-5b96bbb25927e633",children:A({defaultMessage:"Suggested price shown. Name your own price at checkout.",id:"0AW0Do"})})]})}),T&&(0,t.jsx)(tq,{className:"reg-card-footer"})]})]})]}),(0,t.jsx)(n.default,{id:"5b96bbb25927e633",children:".content.jsx-5b96bbb25927e633{gap:.75rem}.content.jsx-5b96bbb25927e633 .reg-card-footer{font-size:var(--font-size-xs)}.content.jsx-5b96bbb25927e633 .reg-card-footer .footer-content{align-items:center;gap:.5rem;padding-top:.5rem;display:flex}.content.jsx-5b96bbb25927e633 .reg-card-footer svg{width:.875rem;height:.875rem}"})]})},tq=e=>{let{className:i}=e,r=(0,a.useModalState)(),{coupon:o}=(0,s.useEventPageContext)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eD.LuxAnimateIn,{children:!o&&(0,t.jsx)("div",{className:"jsx-75196dde7af4a68d "+(i||""),children:(0,t.jsxs)("div",{className:"jsx-75196dde7af4a68d footer-content text-tinted",children:[(0,t.jsx)(eJ.default,{}),(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"Have an access code? You can <link>enter it here</link>.",id:"6+whZL",values:{link:e=>(0,t.jsx)("button",{onClick:r.onShow,className:"jsx-75196dde7af4a68d button-reset inline animated",children:e},"enter-it-here")}})]})})}),(0,t.jsx)(tU,{...r}),(0,t.jsx)(n.default,{id:"75196dde7af4a68d",children:"button.jsx-75196dde7af4a68d{border-bottom:1px solid var(--brand-pale-bg-color)}@media (hover:hover){button.jsx-75196dde7af4a68d:hover{color:var(--brand-active-color);border-bottom-color:var(--brand-active-color)}}"})]})},tU=e=>{let{show:a,onHide:i}=e,r=(0,z.useT)(),{event:o,setCouponCode:l}=(0,s.useEventPageContext)();return(0,t.jsx)(x.LuxModalContainer,{onHide:i,variant:"lux-alert",children:a&&(0,t.jsx)(eu.Formik,{initialValues:{code:""},onSubmit:async e=>{let{code:t}=e;await (0,j.callWithToast)(async()=>{await eo.APIClient.post("/event/coupons/check-coupon",{event_api_id:o.api_id,code:t,currency:null}),await l(t),i()},{success:r({defaultMessage:"Access code applied successfully.",id:"5DQLXs",description:"Toast message for entering an access code."}),error:r({defaultMessage:"There was an issue applying the code.",id:"Qm7ApN",description:"Error message for entering an access code."})})},children:(0,t.jsxs)(eu.Form,{className:"flex-column gap-3",children:[(0,t.jsx)(m.LuxAlertTop,{icon:(0,t.jsx)(e2.default,{}),title:r({defaultMessage:"Access Code",id:"A0cWKl"}),desc:r({defaultMessage:"Have an access code? Enter it here to unlock your exclusive ticket.",id:"4oYN2n"})}),(0,t.jsx)(eV.LuxInputField,{name:"code",required:!0,monospace:!0,autoFocus:!0,placeholder:"MYCODE",className:"code-input"}),(0,t.jsx)(eh.LuxSubmitButton,{fullWidth:!0,label:r({defaultMessage:"Submit",id:"wSZR47"})}),(0,t.jsx)(n.default,{id:"11faf3af4f7f6b3d",children:".code-input input{text-transform:uppercase}"})]})})})},tF=e=>{let{coupon:a}=e;return(0,t.jsxs)("div",{className:"footer-content text-success",children:[(0,t.jsx)(eQ.Coupon16Icon,{}),(0,t.jsx)("div",{children:(0,t.jsx)(F.T,{defaultMessage:"The coupon {code} will be applied at checkout.",id:"EsOA/b",values:{code:(0,t.jsx)("code",{children:a.code},"code")}})})]})},tz=()=>{let{user:e}=(0,ee.useUserContext)();return(0,t.jsxs)("div",{className:"footer-content text-tinted",children:[(0,t.jsx)(eX.default,{}),(0,t.jsx)("div",{children:(0,t.jsx)(F.T,{defaultMessage:"You will be asked to verify token ownership with your wallet<wallet></wallet>.",id:"7qLqNA",values:{wallet:()=>(null==e?void 0:e.eth_address)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:" ("}),(0,t.jsx)("code",{children:e5.Ethereum.abbreviateAddress(e.eth_address)}),(0,t.jsx)("span",{children:")"})]}):null}})})]})},tO=()=>{let{event_invite:e}=(0,s.useEventPageContext)(),i=(0,a.useModalState)(),n=(0,z.useT)();return e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.LuxButton,{label:n({defaultMessage:"Decline",id:"VTImE5",description:"Decline invite to join event, should be a short word."}),className:"flex-shrink-0",color:"light",variant:"solid",onClick:i.onShow}),(0,t.jsx)(tW,{...i})]}):null},tW=e=>{let{show:a,onHide:i}=e,n=(0,z.useT)(),{event_invite:r}=(0,s.useEventPageContext)();return r?(0,t.jsx)(x.LuxModalContainer,{onHide:i,variant:"lux-alert",children:a&&(0,t.jsxs)("div",{children:[(0,t.jsx)(m.LuxAlertTop,{title:n({defaultMessage:"Decline Invite",id:"O4ai6c",description:"Title for decline invite modal."}),icon:(0,t.jsx)(e0.MailXModalIcon,{}),desc:n({defaultMessage:"No worries, weâ€™ll let the host know you canâ€™t make it.",id:"SEAoz+",description:"Description for decline invite modal."})}),(0,t.jsx)(tD,{onDismiss:i})]})}):null},tD=e=>{let{onDismiss:a}=e,{event:i,refreshEvent:n,event_invite:r}=(0,s.useEventPageContext)(),o=(0,z.useT)();return r?(0,t.jsx)(eu.Formik,{initialValues:{message:"",show_message:!1},onSubmit:async(e,t)=>{let{resetForm:s}=t,l=e.message.trim();await (0,j.callWithToast)(async()=>{await eo.APIClient.post("/event/decline-my-registration",{event_api_id:i.api_id,decline_message:l||null,invite_secret_key:null==r?void 0:r.secret_key}),await n(),a(),s()},{error:o({defaultMessage:"There was an issue declining the invitation.",id:"kbhyYO",description:"Event page. Toast message for error declining an invite."}),success:o({defaultMessage:"Weâ€™ve marked you as not going. Thank you!",id:"6omgwj",description:"Event page. Toast message after declining an invite."})})},children:e=>{let{values:a,setFieldValue:i}=e;return(0,t.jsxs)(eu.Form,{className:"flex-column pt-3",children:[(0,t.jsx)(eD.LuxAnimateIn,{children:!a.show_message&&(0,t.jsx)(p.LuxButton,{className:"pb-1",label:o({defaultMessage:"Add a personal note",id:"aa8mVM",description:"Label for adding an optional message when declining an invite."}),variant:"link",size:"small",color:"secondary",icon:(0,t.jsx)(eH.Plus16Icon,{}),onClick:()=>i("show_message",!0)})}),(0,t.jsx)(eD.LuxAnimateIn,{children:a.show_message&&(0,t.jsx)(eK.LuxTextareaField,{name:"message",placeholder:o({defaultMessage:"Share an optional note with the host.",id:"hfZHQC",description:"Placeholder text for the decline invite optional message field."}),minRows:3,autoFocus:!0})}),(0,t.jsx)("div",{className:"pt-3",children:(0,t.jsx)(eh.LuxSubmitButton,{label:o({defaultMessage:"Decline Invite",id:"pW0IMv",description:"Label for confirm CTA in decline invite modal."}),fullWidth:!0,color:"primary"})})]})}}):null},tV=()=>(0,t.jsxs)("div",{className:"jsx-81c6f842c4d95259",children:[(0,t.jsxs)("div",{className:"jsx-81c6f842c4d95259",children:[(0,t.jsx)("div",{className:"jsx-81c6f842c4d95259 label shimmer"}),(0,t.jsx)("div",{className:"jsx-81c6f842c4d95259 pricing shimmer"})]}),(0,t.jsx)("div",{className:"jsx-81c6f842c4d95259 desc shimmer"}),(0,t.jsx)("div",{className:"jsx-81c6f842c4d95259 desc desc-short shimmer"}),(0,t.jsx)("div",{className:"jsx-81c6f842c4d95259"}),(0,t.jsx)("div",{className:"jsx-81c6f842c4d95259 cta flex-center-center rounded-squircle",children:(0,t.jsx)("div",{className:"jsx-81c6f842c4d95259 shimmer"})}),(0,t.jsx)(n.default,{id:"81c6f842c4d95259",children:".label.jsx-81c6f842c4d95259{width:4rem;height:.5rem;margin-top:.25rem}.pricing.jsx-81c6f842c4d95259{width:7rem;height:1.5rem;margin-bottom:1.5rem}.desc.jsx-81c6f842c4d95259{height:.75rem}.desc-short.jsx-81c6f842c4d95259{width:40%;margin-bottom:1.5rem}.cta.jsx-81c6f842c4d95259{width:100%;height:var(--input-height);background-color:var(--opacity-light)}.cta.jsx-81c6f842c4d95259 .shimmer.jsx-81c6f842c4d95259{width:6rem;height:.5rem;margin-bottom:0}"})]}),tK=e=>{let{icon:a,title:i,desc:s,showUnlockCodeMode:r}=e;return(0,t.jsxs)("div",{className:"jsx-516bc15417c49326",children:[(0,t.jsxs)("div",{className:"jsx-516bc15417c49326 flex-center gap-2 mt-1 mb-2",children:[(0,t.jsx)("div",{className:"jsx-516bc15417c49326 icon flex-center-center",children:a}),(0,t.jsx)("div",{className:"jsx-516bc15417c49326 fs-xl fw-medium",children:i})]}),(0,t.jsx)("div",{className:"jsx-516bc15417c49326 text-tinted mb-1",children:s}),r&&(0,t.jsx)(tq,{className:"unlock-code-wrapper mt-25 fs-xs svg-sm"}),(0,t.jsx)(n.default,{id:"516bc15417c49326",children:".icon.jsx-516bc15417c49326 svg{width:1.5rem;height:1.5rem}.unlock-code-wrapper .footer-content{align-items:center;gap:.5rem;display:flex}"})]})},tY=e=>{let{showUnlockCodeMode:a}=e,i=(0,z.useT)();return(0,t.jsx)(tK,{icon:(0,t.jsx)(e$.default,{}),title:i({defaultMessage:"Registration Closed",id:"y6nk3Z",description:"Event page. Registration section. Title for closed registration."}),desc:i({defaultMessage:"This event is not currently taking registrations. You may contact the host or subscribe to receive updates.",id:"pFM+Ok",description:"Event page. Registration section. Description for closed registration."}),showUnlockCodeMode:a})},tQ=e=>{let{showUnlockCodeOption:a}=e,i=(0,z.useT)();return(0,t.jsx)(tK,{icon:(0,t.jsx)(e1.default,{}),title:i(O.CT.SoldOut),desc:i({defaultMessage:"This event is sold out and no longer taking registrations.",id:"8xoC+d",description:"Event page. Registration section. Description for sold out."}),showUnlockCodeMode:a})},tH=()=>{let{user:e}=(0,ee.useUserContext)(),{membership_info:a}=(0,s.useEventPageContext)();return e?(0,t.jsxs)("div",{className:"flex-center user-row gap-2",children:[a?(0,t.jsx)(e7.MembershipAvatar,{userAvatarUrl:null==e?void 0:e.avatar_url,tintColor:a.tier.tint_color,rem:1.75}):(0,t.jsx)(ea.Avatar,{url:null==e?void 0:e.avatar_url,rem:1.25}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:(0,r.default)("flex-baseline flex-wrap min-width-0 nochrome-annotation",{"fs-sm":a}),children:[e.name&&(0,t.jsx)("span",{className:"fw-medium mr-1 text-ellipses",children:e.name}),(0,t.jsx)("span",{className:"text-tinted email text-ellipses",children:e.email})]}),a&&(0,t.jsx)("div",{className:"text-tinted fs-xs reduced-line-height text-ellipses",children:(0,t.jsx)("span",{children:a.tier.name})})]})]}):null};e.s(["RegistrationCard",0,tP,"RegistrationCardLoading",0,()=>(0,t.jsxs)(ed.Base11Card,{children:[(0,t.jsx)(tI,{children:(0,t.jsx)(eY.TextShimmer,{size:"sm",width:"5rem"})}),(0,t.jsx)(tV,{})]})],666172);var tG=e.i(203828),tZ=e.i(685479),tJ=e.i(574058),tX=e.i(982725);let t$=e=>{let{url:t}=e,{pk:a}=(0,tG.useRouter)().query,[i,s]=((e,t)=>{let[a,i]=(0,l.useState)(tX.default.get(e)||(null==t?void 0:t.defaultValue)||null);return[a,a=>{let s={};(null==t?void 0:t.expires)&&(s.expires=t.expires),tX.default.set(e,a,s),i(a)}]})((0,tJ.getProxyKeyCookie)({url:t}),{expires:o.DateTime.now().plus({days:14}).toJSDate(),defaultValue:a||null});return(0,l.useEffect)(()=>{a&&(s(a),(0,tZ.removeArgFromUrl)("pk"))},[a,s]),i};e.s(["useProxyKey",0,t$],615198);var t0=e.i(240467),t2=e.i(771090),t1=e.i(590518),t5=e.i(331835),t3=e.i(717063);let t4=e=>{let{show:a,onHide:i,event:s,title:n,hasPaid:r,approvalStatus:o}=e,d=(0,z.useT)(),c=d({defaultMessage:"Cancel Registration",id:"M8a9St",description:"Event page. Modal title."}),{currentStep:u,setStep:m,goBack:p}=(0,t0.useStepHistory)("start"),[f,x]=(0,l.useState)(""),[h,v]=(0,l.useState)("");return(0,l.useEffect)(()=>{a||setTimeout(()=>{x(""),v("")},300)},[a,m]),(0,t.jsx)(ex.LuxMultiStepModal,{show:a,onHide:i,icon:(0,t.jsx)(t2.default,{}),title:n||c,desc:d({defaultMessage:"Click Confirm to cancel your registration. Weâ€™ll let the host know that you canâ€™t make it.",id:"bGXtDH",description:"Description for cancel registration modal."}),iconColor:"error",currentStep:u,onBack:p,canClickOutToDismiss:"start"===u&&!f||"refund"===u||"contact"===u&&!h,steps:{start:{content:(0,t.jsx)(t7,{hasPaid:r,eventApiId:s.api_id,approvalStatus:o,onViewRefundPolicy:()=>m("refund"),initialMessage:f,onChangeMessage:e=>x(e),onContact:()=>m("contact"),onHide:i})},refund:{title:d(O.CT.RefundPolicy),content:(0,t.jsx)(t6,{onContact:()=>m("contact")})},contact:{title:d({defaultMessage:"Contact the Host",id:"oPCvxt",description:"Title for contact host modal."}),content:(0,t.jsx)(t9,{initialMessage:h,onChangeMessage:e=>v(e),onHide:i})}}})},t7=e=>{let{hasPaid:a,eventApiId:i,approvalStatus:n,onViewRefundPolicy:r,onContact:o,onHide:l,initialMessage:d,onChangeMessage:c}=e,{refreshEvent:u,onUnregister:m,refund_policy:f}=(0,s.useEventPageContext)(),x=t5.SparkTypes.hasContent(f),h=(0,z.useT)();return(0,t.jsxs)("div",{children:[a&&(0,t.jsx)("div",{className:"payment-info fs-sm fw-medium text-secondary-alpha mb-25",children:n===G.GuestApprovalStatus.PendingApproval?(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"If there is a hold on your card, it will be removed within a few days.",id:"gD3XrJ",description:"Event page. Cancel modal message for pending approval with payment hold."}):x?(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"Please note: canceling your registration doesnâ€™t automatically issue a refund. Please review the <refund>refund policy</refund> and <contact>contact the host</contact> if youâ€™d like to request a refund.",id:"K5gWN+",description:"Event page. Cancel modal message.",values:{refund:e=>(0,t.jsx)("span",{className:"a text-error",onClick:r,children:e},"refund"),contact:e=>(0,t.jsx)("span",{className:"a text-error",onClick:o,children:e},"contact")}}):(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"Please note: canceling your registration doesnâ€™t automatically issue a refund. <contact>Contact the host</contact> if you'd like to request a refund.",id:"9OvSik",description:"Event page. Cancel modal message.",values:{contact:e=>(0,t.jsx)("span",{className:"a text-error",onClick:o,children:e},"contact")}})}),(0,t.jsx)(eu.Formik,{initialValues:{message:d||"",show_message:!!d},onSubmit:async e=>{let{message:t}=e;await (0,j.callWithToast)(async()=>{await eo.APIClient.post("/event/decline-my-registration",{event_api_id:i,decline_message:t.trim()||null}),m(),await u(),l()},{success:h({defaultMessage:"Youâ€™ve canceled your registration.",id:"hHjNyx",description:"Event page. Cancel modal success toast message."}),error:h({defaultMessage:"There was an error processing your request.",id:"2KkTdg",description:"Event page. Cancel modal error toast message."})})},children:e=>{let{values:a,setFieldValue:i}=e;return(0,t.jsxs)(eu.Form,{children:[(0,t.jsx)(eD.LuxAnimateIn,{children:!a.show_message&&(0,t.jsx)(p.LuxButton,{className:"py-1",label:h({defaultMessage:"Add a personal note",id:"aa8mVM",description:"Label for adding an optional message when declining an invite."}),variant:"link",size:"small",color:"secondary",icon:(0,t.jsx)(eH.Plus16Icon,{}),onClick:()=>i("show_message",!0)})}),(0,t.jsx)(eD.LuxAnimateIn,{children:a.show_message&&(0,t.jsx)(eK.LuxTextarea,{placeholder:h({defaultMessage:"Share an optional note with the host.",id:"hfZHQC",description:"Placeholder text for the decline invite optional message field."}),minRows:3,autoFocus:!d,value:a.message,onChange:e=>{i("message",e),c(e)}})}),(0,t.jsxs)("div",{className:"flex-center gap-2 mt-3",children:[(0,t.jsx)(eh.LuxSubmitButton,{label:h(O.CT.Confirm),fullWidth:!0,color:"error"}),(0,t.jsx)(p.LuxButton,{label:h(O.CT.Dismiss),onClick:l,fullWidth:!0,color:"light"})]})]})}})]})},t6=e=>{let{onContact:a}=e,{refund_policy:i}=(0,s.useEventPageContext)();return(0,t.jsxs)("div",{children:[(0,t.jsx)(t1.SparkDoc,{doc:i}),(0,t.jsx)("div",{className:"fs-xs text-tertiary-alpha mt-3",children:(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"The refund policy is specified by the presenting calendar. If you have any questions, please <contact>contact the host</contact>.",id:"ufSqId",description:"Refund policy footer.",values:{contact:e=>(0,t.jsx)("span",{className:"a",onClick:a,children:e},"contact")}})})]})},t9=e=>{let{initialMessage:a,onChangeMessage:i,onHide:s}=e,n=(0,z.useT)();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"fs-sm text-secondary-alpha",children:n({defaultMessage:"To contact the host, please enter your message below:",id:"h040Dj"})}),(0,t.jsx)(t3.ContactHostForm,{onSubmit:s,placeholder:n({defaultMessage:"Please enter your message for the host.",id:"YXdhoW",description:"Placeholder text for contact host input."}),initialMessage:a,onChangeMessage:i})]})};var t8=e.i(860040),ae=e.i(526583);let at=(0,e.i(979637).safeDynamic)({loader:()=>e.A(65742).then(e=>e.EventTicketQRCode),fallback:()=>null}),aa=e=>{let{show:a,onHide:i}=e,{user:r}=(0,ee.useUserContext)(),{event:o,guest_data:l}=(0,s.useEventPageContext)(),{width:d}=(0,t8.useWindowSize)(),{event_tickets:c}=l,u=(0,z.useT)();return l.proxy_key&&r?(0,t.jsx)(x.LuxModalContainer,{onHide:i,variant:"lux-alert",children:a&&(0,t.jsxs)("div",{className:n.default.dynamic([["78ed80292976162",[b.ResponsiveBreakpoint.tiny]]])+" flex-column",children:[(0,t.jsx)("div",{className:n.default.dynamic([["78ed80292976162",[b.ResponsiveBreakpoint.tiny]]])+" flex-center-center qr-wrapper",children:(0,t.jsx)(at,{eventApiId:o.api_id,qrKey:l.proxy_key,size:(d||0)>b.ResponsiveBreakpointNumbers.tiny?200:175})}),(0,t.jsxs)("div",{className:n.default.dynamic([["78ed80292976162",[b.ResponsiveBreakpoint.tiny]]])+" info",children:[(0,t.jsx)("div",{className:n.default.dynamic([["78ed80292976162",[b.ResponsiveBreakpoint.tiny]]])+" fs-lg fw-medium my-2",children:o.name}),(0,t.jsxs)("div",{className:n.default.dynamic([["78ed80292976162",[b.ResponsiveBreakpoint.tiny]]])+" guest-ticket",children:[(0,t.jsx)(as,{label:u(O.CT.Name),value:r.name||u(O.CT.Anonymous)}),(0,t.jsx)(as,{label:u(O.CT.Email),value:r.email}),(0,t.jsx)(ai,{event_tickets:c})]})]}),(0,t.jsx)(n.default,{id:"78ed80292976162",dynamic:[b.ResponsiveBreakpoint.tiny],children:".qr-wrapper.__jsx-style-dynamic-selector{margin:calc(-1*var(--modal-vertical-padding))calc(-1*var(--modal-horizontal-padding));border-bottom:2px dashed var(--divider-color);background-color:var(--bg-opacity-24);margin-bottom:.5rem;padding:2.75rem 1.5rem 2.25rem}.divider.__jsx-style-dynamic-selector{margin:.75rem calc(-.5rem - var(--modal-horizontal-padding));border-bottom:2px dotted var(--divider-color)}.guest-ticket.__jsx-style-dynamic-selector{grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:.5rem;display:grid}@media (max-width:".concat(b.ResponsiveBreakpoint.tiny,"){.info.__jsx-style-dynamic-selector .fw-medium.__jsx-style-dynamic-selector{font-size:var(--font-size-md)}}")})]})}):null},ai=e=>{let{event_tickets:a}=e,{ticket_types:i}=(0,s.useEventPageContext)();return 0===a.length||a.length<=1&&i.length<=1?null:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-tinted fs-xs",children:(0,t.jsx)(F.T,{defaultMessage:"{count, plural, one {Ticket} other {Tickets}}",id:"0fs5if",values:{count:a.length}})}),(0,t.jsx)(ae.EventTicketsList,{event_tickets:a,ticket_types:i})]})},as=e=>{let{label:a,value:i}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-tertiary-alpha fs-xs",children:a}),(0,t.jsx)("div",{className:"text-ellipses",children:i})]})},an=e=>{let{guestInfo:a}=e,{event:i}=(0,s.useEventPageContext)(),{approval_status:r,avatar_url:o}=a,l=(0,K.getEventState)({event:i}),{messageFunc:d,descFunc:c}=ah[r],u=(0,z.useT)(),m=d(u),p=null==c?void 0:c(u);return(l===K.EventState.Ended||l===K.EventState.EndedRecently)&&(r===G.GuestApprovalStatus.Approved||r===G.GuestApprovalStatus.Session?(m=u({defaultMessage:"Thank You for Joining",id:"KF+IEu",description:"Registration card title for after the event has ended."}),p=u({defaultMessage:"We hope you enjoyed the event!",id:"fUwFX0",description:"Registration card subtitle for after the event has ended."})):p=u({defaultMessage:"This event has ended. See you next time!",id:"G9qi+l",description:"Registration card message after event has ended for people viewing the event page but were not part of the event."})),(0,t.jsxs)("div",{className:n.default.dynamic([["d7c24848d6b52179",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny]]])+" flex-column gap-3 series-card",children:[(0,t.jsxs)("div",{className:n.default.dynamic([["d7c24848d6b52179",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny]]]),children:[(0,t.jsx)(ea.Avatar,{url:o,rem:2.5}),(0,t.jsx)("div",{className:n.default.dynamic([["d7c24848d6b52179",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny]]])+" title mt-2",children:m}),p&&(0,t.jsx)("div",{className:n.default.dynamic([["d7c24848d6b52179",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny]]])+" desc text-tinted",children:p})]}),(0,t.jsx)(n.default,{id:"d7c24848d6b52179",dynamic:[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny],children:".series-card.__jsx-style-dynamic-selector{margin:.375rem .125rem}.title.__jsx-style-dynamic-selector{font-size:1.375rem;font-family:var(--title-font);font-weight:var(--title-font-weight-bold,var(--font-weight-bold))}@media (max-width:".concat(b.ResponsiveBreakpoint.small,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-xl)}}@media (max-width:").concat(b.ResponsiveBreakpoint.tiny,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-lg)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}}")})]})};var ar=e.i(588083),ao=e.i(373641),al=e.i(337695),ad=e.i(35805),ac=e.i(258762);let au=e=>{let{show:a,onHide:i}=e;return(0,t.jsx)(x.LuxModalContainer,{onHide:i,variant:"lux-alert",children:a&&(0,t.jsx)(am,{onHide:i})})},am=e=>{let{onHide:a}=e,{refreshUser:i}=(0,ee.useUserContext)(),[s,n]=(0,l.useState)({mode:"enter-phone"});return(0,t.jsxs)("div",{className:"py-2",children:["enter-phone"===s.mode&&(0,t.jsx)(ap,{onSentCode:e=>{let{phoneNumber:t,codeSentVia:a}=e;return n({mode:"verify-phone",phoneNumber:t,codeSentVia:a})}}),"verify-phone"===s.mode&&(0,t.jsx)(af,{phoneNumber:s.phoneNumber,codeSentVia:s.codeSentVia,onVerified:async()=>{await i(),a()}})]})},ap=e=>{let{onSentCode:a}=e,i=(0,z.useT)(),{country_code:s}=(0,$.useCountry)(),{waitForTurnstile:n}=(0,e4.useCaptchaContext)();return(0,t.jsx)(ax,{icon:(0,t.jsx)(al.default,{}),title:i({defaultMessage:"Link Phone Number",id:"Ui61Dh",description:"Update phone number modal title."}),desc:i({defaultMessage:"Add a phone number to your Luma account.",id:"HluNQl",description:"Update phone number modal description."}),children:(0,t.jsx)(eu.Formik,{initialValues:{phoneNumber:""},onSubmit:async e=>{let{phoneNumber:t}=e;await (0,j.callWithToast)(async()=>{let{sent_via:e}=await eo.APIClient.post("/auth/sms/request-verification-code",{phone_number:t,ensure_phone_number_free:!0},{waitForTurnstile:n});a({phoneNumber:t,codeSentVia:e})},{error:i({defaultMessage:"There was a problem sending a verification text.",id:"aAohe5",description:"Update phone number modal. Error toast message."})})},children:(0,t.jsxs)(eu.Form,{children:[(0,t.jsx)(ar.LuxPhoneNumberInputField,{name:"phoneNumber",countryCode:s,className:"mb-3",required:!0,autoFocus:!0}),(0,t.jsx)(eh.LuxSubmitButton,{fullWidth:!0,label:i({defaultMessage:"Next",id:"xCWoVv",description:"Generic next button label. Proceeds."})})]})})})},af=e=>{let{phoneNumber:a,codeSentVia:i,onVerified:s}=e,n=(0,z.useT)();return(0,t.jsx)(ax,{icon:(0,t.jsx)(ad.default,{}),desc:"whatsapp"===i?(0,t.jsx)(F.T,{defaultMessage:"We sent a verification code to {phone_number} via WhatsApp. Please enter it below.",id:"wCLRnF",description:"Update phone number modal.",values:{phone_number:(0,t.jsx)("b",{children:(0,t.jsx)(ac.FormattedPhone,{className:"text-primary",phone:a})})}}):(0,t.jsx)(F.T,{defaultMessage:"We sent a verification code to {phone_number}. Please enter it below.",id:"fBoSxb",description:"Update phone number modal.",values:{phone_number:(0,t.jsx)("b",{children:(0,t.jsx)(ac.FormattedPhone,{className:"text-primary",phone:a})})}}),title:n({defaultMessage:"Enter Verification Code",id:"yexxkB",description:"Update phone number modal."}),children:(0,t.jsx)(ao.MultiCodeInput,{onFullCode:async e=>{await eo.APIClient.post("/auth/sms/link-phone-number",{phone_number:a,code:e}),s()}})})},ax=e=>{let{icon:a,desc:i,title:s,children:n}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)(m.LuxAlertTop,{icon:a,title:s,desc:i}),(0,t.jsx)("div",{className:"mt-3",children:n})]})},ah={approved:{messageFunc:e=>e({defaultMessage:"Youâ€™re In",id:"/AvpwA",description:"Post event registration card title."})},declined:{messageFunc:e=>e({defaultMessage:"Youâ€™re Not Going",id:"7XJkaX",description:"Post event registration card title."}),descFunc:e=>e({defaultMessage:"We hope to see you next time!",id:"IvBomP",description:"Post event registration card subtitle."})},pending_approval:{messageFunc:e=>e({defaultMessage:"Pending Approval",id:"PzRLym",description:"Post event registration card title."}),descFunc:e=>e({defaultMessage:"We will let you know when the host approves your registration.",id:"z1InZw",description:"Post event registration card subtitle."})},session:{messageFunc:e=>e({defaultMessage:"Thank You",id:"fjeVhb"})},waitlist:{messageFunc:e=>e({defaultMessage:"Youâ€™re on the Waitlist",id:"7SIXey",description:"Post event registration card title."}),descFunc:e=>e({defaultMessage:"We will let you know if you are admitted.",id:"XiV4eA",description:"Post event registration card title for guests on waitlist."})}},av=e=>{let{guestInfo:a,inPanel:i,registrationOverlay:s}=e,{approval_status:n}=a,r=(0,v.useBoolean)(!1),o=r.value&&n===G.GuestApprovalStatus.Declined;return(0,t.jsxs)("div",{children:[(0,t.jsx)(f.LuxCollapse,{show:!o,children:(0,t.jsx)(ag,{guestInfo:a,onShouldReregister:r.setTrue,inPanel:i})}),(0,t.jsx)(f.LuxCollapse,{show:o,children:(0,t.jsx)(tP,{inPanel:i,registrationOverlay:s})})]})},ag=e=>{let{guestInfo:a,onShouldReregister:i,inPanel:n}=e,{newStyle:r,theme_meta:o}=(0,s.useEventPageContext)();return r?(0,t.jsx)(ed.Base11Card,{useLiquidGlass:!n&&Y.EventThemeToInfo[o.theme].liquidGlass,children:(0,t.jsx)(ay,{guestInfo:a,onShouldReregister:i})}):(0,t.jsx)(ec.EventContentCard,{children:(0,t.jsx)(ay,{guestInfo:a,onShouldReregister:i})})},ay=e=>{let{guestInfo:a,onShouldReregister:i}=e,{event:r}=(0,s.useEventPageContext)(),{avatar_url:o,approval_status:l,event_tickets:d}=a;return r.event_type===H.EventType.Series?(0,t.jsx)(an,{guestInfo:a}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"jsx-40dc5c037ec13454 top flex-column gap-25",children:[(0,t.jsx)(ab,{approval_status:l,avatar_url:o,event_tickets:d}),(0,t.jsx)(aS,{approval_status:l}),(0,t.jsx)(aj,{approval_status:l,onShouldReregister:i})]}),(0,t.jsx)(ak,{guestInfo:a}),(0,t.jsx)(n.default,{id:"40dc5c037ec13454",children:".top.jsx-40dc5c037ec13454{margin:.375rem .125rem 0}.top.jsx-40dc5c037ec13454:last-child{margin-bottom:.375rem}div.jsx-40dc5c037ec13454 .a{border-bottom:1px solid var(--brand-pale-bg-color)}div.jsx-40dc5c037ec13454 .a:hover{border-bottom-color:var(--brand-active-color)}"})]})},ab=e=>{let{approval_status:a,avatar_url:i,event_tickets:r}=e,{event:o,ticket_types:d}=(0,s.useEventPageContext)(),c=d.length>1,u=(0,K.getEventState)({event:o}),{messageFunc:m,descFunc:p}=ah[a],f=(0,z.useT)(),x=m(f),h=null==p?void 0:p(f);(u===K.EventState.Ended||u===K.EventState.EndedRecently)&&(a===G.GuestApprovalStatus.Approved||a===G.GuestApprovalStatus.Session?(x=f({defaultMessage:"Thank You for Joining",id:"KF+IEu",description:"Registration card title for after the event has ended."}),h=f({defaultMessage:"We hope you enjoyed the event!",id:"fUwFX0",description:"Registration card subtitle for after the event has ended."})):h=f({defaultMessage:"This event has ended. See you next time!",id:"G9qi+l",description:"Registration card message after event has ended for people viewing the event page but were not part of the event."}));let v=(0,l.useMemo)(()=>{if(0===r.length)return null;if(1===r.length){if(!c)return null;let[e]=r;return"Ticket: ".concat(e.event_ticket_type_info.name)}if(!c)return"".concat(r.length," Tickets");let e=new Q.EventTicketSummary({event_tickets:r,ticket_types:d}).ticketGroups.map(e=>{let{name:t,count:a}=e;return"".concat(a,"x ").concat(t)});return"Tickets: ".concat(e.join(", "))},[r,c,d]);return(0,t.jsxs)("div",{className:n.default.dynamic([["82b69216d226ff72",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.small]]]),children:[(0,t.jsxs)("div",{className:n.default.dynamic([["82b69216d226ff72",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.small]]])+" flex-start spread",children:[(0,t.jsx)(ea.Avatar,{url:i,rem:2.5}),(0,t.jsx)(aC,{approvalStatus:a})]}),(0,t.jsx)("div",{className:n.default.dynamic([["82b69216d226ff72",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.small]]])+" title mt-2",children:x}),v&&(0,t.jsx)("div",{className:n.default.dynamic([["82b69216d226ff72",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.small]]])+" ticket-type text-tertiary-alpha",children:v}),h&&(0,t.jsx)("div",{className:n.default.dynamic([["82b69216d226ff72",[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.small]]])+" desc text-tinted",children:h}),(0,t.jsx)(n.default,{id:"82b69216d226ff72",dynamic:[b.ResponsiveBreakpoint.small,b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.small],children:".title.__jsx-style-dynamic-selector{font-size:var(--font-size-xxl);font-family:var(--title-font);font-weight:var(--title-font-weight-medium,var(--font-weight-medium))}.ticket-type.__jsx-style-dynamic-selector{font-size:var(--font-size-xl)}@media (max-width:".concat(b.ResponsiveBreakpoint.small,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-xl)}}@media (max-width:").concat(b.ResponsiveBreakpoint.tiny,"){.title.__jsx-style-dynamic-selector{font-size:var(--font-size-lg)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}}.ticket-type.__jsx-style-dynamic-selector{font-size:var(--font-size-lg);margin-top:-.125rem;margin-bottom:.125rem}@media (max-width:").concat(b.ResponsiveBreakpoint.small,"){.ticket-type.__jsx-style-dynamic-selector{font-size:var(--font-size-md)}}")})]})},aj=e=>{var i;let r,{approval_status:o,onShouldReregister:l}=e,d=(0,z.useT)(),{user:c}=(0,ee.useUserContext)(),{event:u,guest_data:m,registeredGuestInfo:f,ticket_types:x,ticket_info:h,can_register_for_multiple_tickets:v,hasPaid:g}=(0,s.useEventPageContext)(),b=t$({url:u.url}),j=(0,a.useModalState)(),_=(0,y.useNow)(),w=D.EventCheckIn.supportsCheckIn(u)&&o===G.GuestApprovalStatus.Approved,N=D.EventCheckIn.supportsApplePass(u),C=u.location_type==V.EventLocationType.Offline,S=(0,K.getEventState)({event:u});(b||m.proxy_key)&&m.approval_status===G.GuestApprovalStatus.Approved?r=J.LumaRoutes.eventJoinUrl({key:b||m.proxy_key}):(null==(i=u.virtual_info)?void 0:i.raw_join_url)&&(r=u.virtual_info.raw_join_url);let E=!!(!C&&[K.EventState.Ongoing,K.EventState.StartingSoon,K.EventState.EndedRecently].includes(S)&&r),A=(0,a.useModalState)(),M=(0,a.useModalState)(),P=(0,a.useModalState)(),L=(0,a.useModalState)(),B=S===K.EventState.Upcoming;if(!c)return B?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.LuxButton,{icon:(0,t.jsx)(k.default,{}),label:d({defaultMessage:"Add to Calendar",id:"4B3qzj"}),onClick:A.onShow,color:"light",size:"small"}),(0,t.jsx)(aw,{...A,showGmailDisclaimer:!!(null==f?void 0:f.email.toLocaleLowerCase().includes("@gmail.com"))})]}):null;if(S===K.EventState.Ended||o!==G.GuestApprovalStatus.Approved&&S===K.EventState.EndedRecently)return null;if(o===G.GuestApprovalStatus.Waitlist)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"fs-sm text-tinted",children:(0,t.jsx)(F.T,{defaultMessage:"If you can no longer join, you can <a>leave the waitlist</a>.",id:"93JRyu",values:{a:e=>(0,t.jsx)("span",{className:"a animated",onClick:M.onShow,children:e})}})}),(0,t.jsx)(t4,{event:u,hasPaid:g,approvalStatus:o,...M,title:d({defaultMessage:"Leave Waitlist",id:"41PkuD",description:"Event page. Modal title."})})]});if(o===G.GuestApprovalStatus.Declined)return(0,t.jsx)("div",{className:"fs-sm text-tinted",children:(0,t.jsx)(F.T,{defaultMessage:"Changed your mind? You can <a>register again</a>.",id:"iJUv3/",description:"Event page. Post registration prompt.",values:{a:e=>(0,t.jsx)("span",{className:"a animated",onClick:l,children:e})}})});let q=u.location_type===V.EventLocationType.Missing&&o===G.GuestApprovalStatus.Approved&&(S===K.EventState.StartingSoon||S===K.EventState.Ongoing),O=w||E||q||B,W=u.visibility===H.EventVisibility.Public?(0,t.jsx)(p.LuxButton,{className:"flex-shrink-0",label:d({defaultMessage:"Invite a Friend",id:"cvWL4T",description:"Event page. CTA button."}),icon:(0,t.jsx)(I.default,{}),onClick:L.onShow,color:"light",size:"small"}):null,Y=v&&!u.hide_rsvp&&(null==h?void 0:h.spots_remaining)!=0&&x.filter(e=>(0,eE.isTicketTypeAvailable)({ticket_type:e,now:_,disallow_require_approval_and_crypto:!0})).length>0;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"jsx-b42bbf148fd6f947",children:[O&&(0,t.jsxs)("div",{className:"jsx-b42bbf148fd6f947 flex-center gap-2 spread flex-wrap",children:[(0,t.jsxs)("div",{className:"jsx-b42bbf148fd6f947 flex-center gap-2",children:[E&&(0,t.jsx)(p.LuxButton,{className:"flex-1",label:d({defaultMessage:"Join Event",id:"vHosvQ",description:"Event page. CTA button."}),href:r,openInNewTab:!0,icon:(0,t.jsx)(U.default,{}),size:"small"}),B&&(0,t.jsx)(p.LuxButton,{icon:(0,t.jsx)(k.default,{}),label:d({defaultMessage:"Add to Calendar",id:"4B3qzj"}),onClick:A.onShow,color:"light",size:"small"}),w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.LuxButton,{label:d({defaultMessage:"My Ticket",id:"nUTILX"}),icon:(0,t.jsx)(R.default,{}),onClick:P.onShow,color:B?"light":"primary",iconPlacement:B?"icon-only":"left",size:"small"}),N&&(0,t.jsx)(et.AddToAppleWalletButton,{eventApiId:u.api_id,eventName:u.name,proxyKey:m.proxy_key||b,iconPlacement:"icon-only",color:"light",size:"small"})]}),q&&(0,t.jsxs)("div",{className:"jsx-b42bbf148fd6f947 flex-center missing",children:[(0,t.jsx)("div",{className:"jsx-b42bbf148fd6f947 icon flex-center-center text-tinted",children:(0,t.jsx)(T.default,{})}),(0,t.jsxs)("div",{className:"jsx-b42bbf148fd6f947",children:[(0,t.jsx)("div",{className:"jsx-b42bbf148fd6f947 fw-medium",children:(0,t.jsx)(F.T,{defaultMessage:"No Join Info Provided by Host",id:"c2TpNn",description:"Event page."})}),(0,t.jsx)("div",{className:"jsx-b42bbf148fd6f947 text-tinted fs-sm",children:(0,t.jsx)(F.T,{defaultMessage:"Check your email or contact the host to join the event.",id:"RGrtw0",description:"Event page."})})]})]})]}),W]}),Y&&(0,t.jsx)("div",{className:"jsx-b42bbf148fd6f947 additional-tickets fs-sm text-tinted",children:(0,t.jsx)(F.T,{defaultMessage:"If needed, you can <additional>register for additional tickets</additional>.",id:"lp4jEK",values:{additional:e=>(0,t.jsx)("span",{onClick:j.onShow,className:"jsx-b42bbf148fd6f947 a animated",children:e})}})}),S!==K.EventState.EndedRecently&&(0,t.jsxs)("div",{className:"jsx-b42bbf148fd6f947 cant-join flex-center gap-2 spread",children:[(0,t.jsx)("div",{className:"jsx-b42bbf148fd6f947 fs-sm text-tinted",children:(0,t.jsx)(F.T,{defaultMessage:"No longer able to attend? Notify the host by <cancel>canceling your registration</cancel>.",id:"SOJo8n",values:{cancel:e=>(0,t.jsx)("span",{onClick:M.onShow,className:"jsx-b42bbf148fd6f947 a animated",children:e})}})}),!O&&W]})]}),(0,t.jsx)(t4,{event:u,hasPaid:g,approvalStatus:o,...M}),(0,t.jsx)(aa,{...P}),(0,t.jsx)(aw,{...A,showGmailDisclaimer:!!(null==f?void 0:f.email.toLocaleLowerCase().includes("@gmail.com"))}),(0,t.jsx)(a_,{...L}),(0,t.jsx)(eL,{...j}),(0,t.jsx)(n.default,{id:"b42bbf148fd6f947",children:".additional-tickets.jsx-b42bbf148fd6f947:not(:first-child),.cant-join.jsx-b42bbf148fd6f947:not(:first-child){margin-top:.75rem}.additional-tickets.jsx-b42bbf148fd6f947+.cant-join.jsx-b42bbf148fd6f947{margin-top:.5rem}.missing.jsx-b42bbf148fd6f947{gap:.75rem}.missing.jsx-b42bbf148fd6f947 .icon.jsx-b42bbf148fd6f947{border:1px solid var(--divider-color);border-radius:var(--border-radius);flex-shrink:0;width:2rem;height:2rem}"})]})},a_=e=>{let{show:a,onHide:i}=e,n=(0,z.useT)(),{event:r,registeredGuestInfo:o}=(0,s.useEventPageContext)();return(0,t.jsx)(er.ShareEventModal,{show:a,onHide:i,event:r,ticketKey:null==o?void 0:o.ticket_key,title:n({defaultMessage:"Invite a Friend",id:"vO+Iqp",description:"Modal title for sharing event."}),description:n({defaultMessage:"Itâ€™s always more fun with friends. Weâ€™ll let you know when your friends accept your invite.",id:"G9A8wl",description:"Description for sharing event / referring a friend."})})},aw=e=>{let{show:a,onHide:i,showGmailDisclaimer:n}=e,{user:r}=(0,ee.useUserContext)(),o=(0,s.useEventPageContext)(),{registeredGuestInfo:l}=o,d=(0,z.useT)(),c=(0,g.useIsMobileBrowser)();return(0,t.jsx)(x.LuxModalContainer,{onHide:i,variant:"lux-alert",children:a&&(0,t.jsxs)("div",{children:[(0,t.jsx)(m.LuxAlertTop,{icon:(0,t.jsx)(M.default,{}),title:d({defaultMessage:"Add to Calendar",id:"PGEz0A",description:"Add to web calendar (Google Calendar, etc) modal title. Not this is *not* adding to your Luma Calendar."}),desc:(0,t.jsxs)("div",{className:"flex-column gap-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)(F.T,{defaultMessage:"On registration, we sent you an email that shouldâ€™ve added an event to your calendar.",id:"2Uq/aN",description:"Event page. Add to calendar modal message."})}),n?(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"If the event wasnâ€™t added automatically, you may need to <a>update your permissions</a>.",id:"g8p8xN",values:{a:e=>(0,t.jsx)(u.ExternalLink,{href:"https://help.luma.com/en/articles/7925916-troubleshooting-google-calendar-invites",children:e})}}):(0,t.jsx)(F.T,{tagName:"div",defaultMessage:"You can also click on one of the buttons to manually add the event to your calendar.",id:"QNdR9o"})]}),className:"mb-3"}),(0,t.jsx)(el.CalendarButtons,{size:"medium",onClickCalendar:e=>{var t,a;aP({isMobile:c,card:o,role:o.role,description_mirror:o.description_mirror,recipient_email:null!=(a=null!=(t=null==r?void 0:r.email)?t:null==l?void 0:l.email)?a:null,calendar_platform:e,t:d})}})]})})},aT=e=>{let{guestInfo:i}=e,s=(0,a.useModalState)(),r=(0,z.useT)(),o=(0,t.jsx)(A.default,{}),l=r({defaultMessage:"Please verify your email to manage your registration and see more event details.",id:"kxfu3R"}),d=r({defaultMessage:"Verify Email",id:"8mVcs0"});return i.email_verified&&(o=(0,t.jsx)(B.default,{}),l=r({defaultMessage:"Please sign in to manage your registration and see more event details.",id:"9LZGX7"}),d=r(O.CT.SignIn)),(0,t.jsxs)("div",{className:n.default.dynamic([["e45767cd94d50e87",[b.ResponsiveBreakpoint.tiny]]]),children:[(0,t.jsx)("hr",{className:n.default.dynamic([["e45767cd94d50e87",[b.ResponsiveBreakpoint.tiny]]])+" edge-to-edge my-3"}),(0,t.jsxs)("div",{className:n.default.dynamic([["e45767cd94d50e87",[b.ResponsiveBreakpoint.tiny]]])+" sign-in-wrapper flex-column",children:[(0,t.jsx)("div",{className:n.default.dynamic([["e45767cd94d50e87",[b.ResponsiveBreakpoint.tiny]]])+" icon flex-center-center",children:o}),(0,t.jsx)("div",{className:n.default.dynamic([["e45767cd94d50e87",[b.ResponsiveBreakpoint.tiny]]])+" message",children:l}),(0,t.jsx)(p.LuxButton,{label:d,size:"small",color:"light",icon:(0,t.jsx)(C.default,{}),iconPlacement:"right",onClick:s.onShow})]}),(0,t.jsx)(ei.SignInAfterRegistrationModal,{...s,emailVerified:i.email_verified,email:i.email}),(0,t.jsx)(n.default,{id:"e45767cd94d50e87",dynamic:[b.ResponsiveBreakpoint.tiny],children:".sign-in-wrapper.__jsx-style-dynamic-selector{background-color:var(--opacity-light);border-radius:var(--border-radius);gap:.75rem;margin-bottom:.25rem;padding:1rem}.sign-in-wrapper.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{width:2rem;height:2rem;color:var(--primary-bg-color);background-color:var(--secondary-color-alpha);border-radius:2rem}@media (max-width:".concat(b.ResponsiveBreakpoint.tiny,"){.sign-in-wrapper.__jsx-style-dynamic-selector{gap:.625rem;padding:.75rem}.sign-in-wrapper.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector{width:1.75rem;height:1.75rem}.sign-in-wrapper.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector svg{width:var(--font-size-sm);height:var(--font-size-sm)}.sign-in-wrapper.__jsx-style-dynamic-selector .message.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}}")})]})},ak=e=>{let{guestInfo:i}=e,{user:o}=(0,ee.useUserContext)(),{event:l}=(0,s.useEventPageContext)(),d=(0,z.useT)(),c=!!((null==o?void 0:o.name)&&(null==o?void 0:o.avatar_url)),u=(0,a.useModalState)(),m=(0,v.useBoolean)(!c);if(!o)return(0,t.jsx)(aT,{guestInfo:i});let x=i.approval_status;if(x===G.GuestApprovalStatus.Declined||x===G.GuestApprovalStatus.Waitlist)return null;let h=(0,K.getEventState)({event:l});return h===K.EventState.Ended||h===K.EventState.EndedRecently?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("hr",{className:"jsx-a058432fc1da4b28 edge-to-edge my-3"}),(0,t.jsxs)("div",{className:"jsx-a058432fc1da4b28 bottom",children:[(0,t.jsxs)("div",{onClick:m.toggle,className:"jsx-a058432fc1da4b28 "+((0,r.default)("toggle animated flex-center spread gap-2",{expanded:m.value})||""),children:[(0,t.jsxs)("div",{className:"jsx-a058432fc1da4b28",children:[(0,t.jsx)("b",{className:"jsx-a058432fc1da4b28 noselect",children:(0,t.jsx)(F.T,{defaultMessage:"Get Ready for the Event",id:"caRzlY",description:"Message on registration card after you've registered. You click on this then we show some next steps (complete profile, reminders, etc.)."})}),(0,t.jsx)(f.LuxCollapse,{show:!m.value,children:(0,t.jsxs)("div",{className:"jsx-a058432fc1da4b28 fs-sm subtitle",children:[d(c?{defaultMessage:"Profile Complete",id:"YJCg2O",description:"Shown when the user has filled out their profile."}:{defaultMessage:"Complete Your Profile",id:"kZoWfb"})," Â· ",aE({user:o,t:d})]})})]}),(0,t.jsx)("div",{className:"jsx-a058432fc1da4b28 flex-center chevron",children:(0,t.jsx)(S.default,{})})]}),(0,t.jsx)(f.LuxCollapse,{show:m.value,children:(0,t.jsxs)("div",{className:"jsx-a058432fc1da4b28 prompts",children:[(0,t.jsxs)(aN,{icon:(0,t.jsx)(q.default,{}),title:d({defaultMessage:"Your Profile",id:"3t83FH"}),children:[(0,t.jsxs)("div",{className:"jsx-a058432fc1da4b28 flex-center gap-2 py-2",children:[(0,t.jsx)(ea.Avatar,{url:o.avatar_url,rem:1.25}),(0,t.jsx)("div",{className:"jsx-a058432fc1da4b28 fw-medium text-ellipses",children:o.name||d(O.CT.Anonymous)})]}),(0,t.jsx)("div",{className:"jsx-a058432fc1da4b28 pt-2",children:(0,t.jsx)(p.LuxButton,{label:d(c?{defaultMessage:"Update Profile",id:"a3XVSu",description:"Prompt to update your user profile."}:{defaultMessage:"Complete Profile",id:"Q6MHBu",description:"Prompt to finish your user profile."}),fullWidth:!0,onClick:u.onShow,color:"light",size:"small"})})]}),(0,t.jsx)(aN,{icon:(0,t.jsx)(w.default,{}),title:d({defaultMessage:"Configure Reminders",id:"ww7yXA",description:"Prompt to configure email / SMS reminders for the event."}),children:(0,t.jsx)(aA,{})})]})})]}),(0,t.jsx)(es.CompleteProfileModal,{...u,desc:d({defaultMessage:"Update your picture and name to let people know who is coming.",id:"RJTStM"})}),(0,t.jsx)(n.default,{id:"a058432fc1da4b28",children:".bottom.jsx-a058432fc1da4b28{padding-bottom:.25rem}.toggle.jsx-a058432fc1da4b28{cursor:pointer;color:var(--opacity-48)}@media (hover:hover){.toggle.jsx-a058432fc1da4b28:hover{color:var(--primary-color)}}.toggle.jsx-a058432fc1da4b28 .chevron.jsx-a058432fc1da4b28{transform-origin:50%;transition:transform var(--transition-duration)var(--transition-fn);transform:rotate(-90deg)}.toggle.expanded.jsx-a058432fc1da4b28{color:var(--primary-color)}.toggle.expanded.jsx-a058432fc1da4b28 .chevron.jsx-a058432fc1da4b28{transform:rotate(0)}.subtitle.jsx-a058432fc1da4b28{padding-top:.125rem}.prompts.jsx-a058432fc1da4b28{grid-gap:.75rem;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));padding-top:1rem;display:grid}"})]})},aN=e=>{let{icon:a,title:i,children:s}=e;return(0,t.jsxs)("div",{className:"jsx-4aebb8be05272dfd prompt",children:[(0,t.jsxs)("div",{className:"jsx-4aebb8be05272dfd header gap-2 flex-center fs-sm fw-medium text-tinted",children:[a,(0,t.jsx)("div",{className:"jsx-4aebb8be05272dfd",children:i})]}),(0,t.jsx)("div",{className:"jsx-4aebb8be05272dfd content",children:s}),(0,t.jsx)(n.default,{id:"4aebb8be05272dfd",children:".prompt.jsx-4aebb8be05272dfd{background-color:var(--opacity-light);border-radius:var(--border-radius);padding:.5rem .75rem .75rem}.header.jsx-4aebb8be05272dfd svg{width:var(--font-size-sm);height:var(--font-size-sm)}.content.jsx-4aebb8be05272dfd{padding-top:.25rem}"})]})},aC=e=>{let{approvalStatus:a}=e,{event:i}=(0,s.useEventPageContext)(),r=(0,y.useNow)({interval:{seconds:.5}});if(a===G.GuestApprovalStatus.Declined)return null;let l=(0,K.getEventState)({event:i});if(l===K.EventState.Ongoing)return(0,t.jsx)(en.EventLiveBadge,{className:"fw-medium"});if(i.location_type!==V.EventLocationType.Offline||l!==K.EventState.Upcoming&&l!==K.EventState.StartingSoon)return null;let c=o.DateTime.fromISO(i.start_at);return(0,t.jsxs)("div",{className:"jsx-4918e4986d8a6a78 countdown-pill text-tinted fs-xs",children:[(0,t.jsx)(F.T,{defaultMessage:"Starting in {time}",id:"DUpgJK",description:"Indicating the event is starting in {time}, such as Starting in 1h.",values:{time:(0,t.jsx)("span",{className:"jsx-4918e4986d8a6a78 mono-number text-orange fw-medium",children:(0,t.jsx)(d.AfterMounted,{children:(0,W.getDHMSTime)({date:c,base:r})})},"time")}}),(0,t.jsx)(n.default,{id:"4918e4986d8a6a78",children:".countdown-pill.jsx-4918e4986d8a6a78{background-color:var(--opacity-light);border-radius:100px;padding:.1875rem .5625rem}"})]})},aS=e=>{let{approval_status:a}=e,{event:i}=(0,s.useEventPageContext)(),r=(0,y.useNow)({interval:{seconds:.5}});if(a===G.GuestApprovalStatus.Declined||i.location_type===V.EventLocationType.Offline)return null;let l=(0,K.getEventState)({event:i});if(l!==K.EventState.Upcoming&&l!==K.EventState.StartingSoon)return null;let c=o.DateTime.fromISO(i.start_at);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]])+" counter-bar text-tinted",children:[(0,t.jsxs)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]])+" flex-center spread",children:[(0,t.jsxs)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]])+" flex-center gap-2",children:[(0,t.jsx)(N.default,{}),(0,t.jsx)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]]),children:(0,t.jsx)(F.T,{defaultMessage:"Event starting in",id:"ScezZi"})})]}),(0,t.jsx)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]])+" mono-number text-orange fw-medium",children:(0,t.jsx)(d.AfterMounted,{children:(0,W.getDHMSTime)({date:c,base:r})})})]}),(0,t.jsx)(f.LuxCollapse,{show:l===K.EventState.Upcoming&&a===G.GuestApprovalStatus.Approved&&i.location_type!==V.EventLocationType.Missing,children:(0,t.jsx)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]])+" join-info",children:(0,t.jsx)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]])+" content",children:(0,t.jsx)(F.T,{defaultMessage:"The join button will be shown when the event is about to start.",id:"VlOvFq"})})})}),l===K.EventState.Upcoming&&i.location_type===V.EventLocationType.Missing&&(0,t.jsx)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]])+" join-info",children:(0,t.jsx)("div",{className:n.default.dynamic([["ae35d204987c3d1a",[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny]]])+" content",children:(0,t.jsx)(F.T,{defaultMessage:"The host will provide the join link later.",id:"GINfzr"})})})]}),(0,t.jsx)(n.default,{id:"ae35d204987c3d1a",dynamic:[b.ResponsiveBreakpoint.tiny,b.ResponsiveBreakpoint.tiny],children:".counter-bar.__jsx-style-dynamic-selector{border-radius:var(--border-radius);background-color:var(--opacity-light);padding:.5rem .875rem}.counter-bar.__jsx-style-dynamic-selector svg{flex-shrink:0}@media (max-width:".concat(b.ResponsiveBreakpoint.tiny,"){.counter-bar.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}.counter-bar.__jsx-style-dynamic-selector svg{width:var(--font-size-sm);height:var(--font-size-sm)}}.join-info.__jsx-style-dynamic-selector{padding-top:.5rem}.join-info.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{border-top:1px solid var(--divider-color);font-size:var(--font-size-sm);margin-left:1.5rem;padding-top:.5rem}@media (max-width:").concat(b.ResponsiveBreakpoint.tiny,"){.join-info.__jsx-style-dynamic-selector .content.__jsx-style-dynamic-selector{margin-left:calc(.5rem + var(--font-size-sm));font-size:var(--font-size-xs)}}")})]})},aE=e=>{let{user:t,t:a}=e,i=X.NotificationPreferences.shouldNotify({preferences:t.notification_preferences,type:"event_guest__reminder",channel:"email"}),s=!!(X.NotificationPreferences.shouldNotify({preferences:t.notification_preferences,type:"event_guest__reminder",channel:"sms"})&&t.phone_number);return a(i||s?i&&!s?{defaultMessage:"Reminder: Email",id:"FWIlJa",description:"State of reminders."}:!i&&s?{defaultMessage:"Reminder: SMS",description:"State of reminders.",id:"M8yKhO"}:{defaultMessage:"Reminder: SMS & Email",description:"State of reminders.",id:"UprQcH"}:{defaultMessage:"Reminder Off",id:"DxcgRi",description:"State of reminders."})},aA=()=>{let e=(0,z.useT)(),{user:i,refreshUser:s}=(0,ee.useUserContext)(),{sms_channel:n}=(0,$.useCountry)(),r=(0,a.useModalState)(),o=(0,a.useModalState)(),l=null==i?void 0:i.notification_preferences;if(!i||!l)return null;let d=X.NotificationPreferences.shouldNotify({preferences:l,type:"event_guest__reminder",channel:"email"}),u=!!(X.NotificationPreferences.shouldNotify({preferences:l,type:"event_guest__reminder",channel:"sms"})&&i.phone_number);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"toggle-wrapper mt-2 pt-1",children:[(0,t.jsx)(aM,{icon:(0,t.jsx)(E.default,{}),title:e(O.CT.Email),right:(0,t.jsx)(h.LuxToggle,{isOn:d,onChange:async()=>{d?r.onShow():(await eo.APIClient.post("/user/update-notification-preferences",{preferences:{event_guest__reminder:{...null==i?void 0:i.notification_preferences.event_guest__reminder,email:!0}}}),await s())}})}),(0,t.jsx)(aM,{icon:(0,t.jsx)(P.default,{}),title:"whatsapp"===n?"WhatsApp":e(O.CT.SMS),right:(0,t.jsx)(h.LuxToggle,{isOn:u,onChange:async()=>{i.phone_number?await (0,j.callWithToast)(async()=>{await eo.APIClient.post("/user/update-notification-preferences",{notification_preferences:{event_guest__reminder_sms:u?"off":"on"},preferences:{event_guest__reminder:{...null==i?void 0:i.notification_preferences.event_guest__reminder,sms:!u}}}),await s()},{error:e({defaultMessage:"There was an issue turning updating your reminder settings.",id:"TRHJCI"})}):o.onShow()}})})]}),(0,t.jsx)(au,{...o}),(0,t.jsx)(c.DeleteConfirmationModal,{...r,text:e({defaultMessage:"You can turn back on reminders at any time from your notification settings.",id:"mPWfgK"}),title:e({defaultMessage:"Turn Off Reminders",id:"9HjzyX",description:"Title for the modal to manage reminders."}),actionButtonTitle:e({defaultMessage:"Turn Off",id:"BS1HKE",description:"Button CTA to turn off reminders."}),icon:(0,t.jsx)(L.default,{}),onConfirm:async()=>{await (0,j.callWithToast)(async()=>{await eo.APIClient.post("/user/update-notification-preferences",{preferences:{event_guest__reminder:{...null==i?void 0:i.notification_preferences.event_guest__reminder,email:!1}}}),await s(),r.onHide()},{error:e({defaultMessage:"There was an issue turning off reminders.",id:"5jblDF"})})}})]})},aM=e=>{let{icon:a,title:i,right:s}=e;return(0,t.jsxs)("div",{className:"jsx-ce54a90fe660a73 prompt",children:[(0,t.jsx)("div",{className:"jsx-ce54a90fe660a73 separator"}),(0,t.jsxs)("div",{className:"jsx-ce54a90fe660a73 flex-center spread gap-2",children:[(0,t.jsx)("div",{className:"jsx-ce54a90fe660a73 flex text-tinted icon",children:a}),(0,t.jsx)("div",{className:"jsx-ce54a90fe660a73 fw-medium flex-1",children:i}),s&&(0,t.jsx)("div",{className:"jsx-ce54a90fe660a73 flex-shrink-0",children:s})]}),(0,t.jsx)(n.default,{id:"ce54a90fe660a73",children:".prompt.jsx-ce54a90fe660a73+.prompt.jsx-ce54a90fe660a73 .separator.jsx-ce54a90fe660a73{border-top:1px solid var(--divider-color);margin-top:.5rem;margin-left:1.5rem;padding-top:.5rem}"})]})},aP=e=>{let{isMobile:t,...a}=e,i=Z.LumaIcs.buildCalendarUrl(a);if(!t&&i.startsWith("BEGIN"))(0,_.downloadFile)({content:i,prefix:"Luma Event",fileType:"ics"});else{if(t&&i.startsWith("BEGIN")){let e="data:text/calendar;charset=utf8,";try{i=e+encodeURIComponent(i)}catch(t){i=e+encodeURIComponent(i.replace(/[\uD800-\uDFFF]/g,""))}}window.open(i,"_blank")}};e.s(["RegOrPostRegCard",0,e=>{let{inPanel:n}=e,{registeredGuestInfo:r}=(0,s.useEventPageContext)(),o=(0,a.useModalState)();return(0,t.jsxs)(t.Fragment,{children:[r?(0,t.jsx)(av,{guestInfo:r,inPanel:n,registrationOverlay:o}):(0,t.jsx)(tP,{inPanel:n,registrationOverlay:o}),(0,t.jsx)(i.RegistrationOverlay,{...o})]})}],371593)},974278,835061,990301,509255,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(332587),n=e.i(64964),r=e.i(826966),o=e.i(191788),l=e.i(295787),d=e.i(860040);let c=e=>{let{video:s,image:n}=e,{width:r,height:c}=(0,d.useWindowSize)(),u=(0,l.useIsMounted)(),[m,p]=(0,o.useState)("none"),[f,x]=(0,o.useState)(""),h=(0,o.useRef)(null),v=(0,o.useRef)(null),g=(0,o.useRef)(null);return((0,o.useEffect)(()=>{if("video"===m&&h.current&&v.current){let e=h.current,t=v.current,a=t.getContext("2d");if(!a)return;if(t.width=720,t.height=720,navigator.userAgent.toLowerCase().includes("firefox"))return void setTimeout(()=>{e.readyState>=2&&(a.drawImage(e,0,0,720,720),x(t.toDataURL("image/jpeg",.7)))},100);let i=0,s=1e3/15,n=!1,r=o=>{o-i>=s&&!n&&(e.readyState>=2&&(n=!0,a.drawImage(e,0,0,720,720),requestAnimationFrame(()=>{x(t.toDataURL("image/jpeg",.7)),n=!1})),i=o),g.current=requestAnimationFrame(r)};return r(0),()=>{g.current&&cancelAnimationFrame(g.current)}}return()=>{g.current&&cancelAnimationFrame(g.current)}},[m]),u&&r&&c)?(0,t.jsxs)("div",{className:a.default.dynamic([["94e478a1c75b6691",[720,720]]])+" "+((0,i.default)("video-container animated",{loaded:"none"!==m})||""),children:[(0,t.jsx)("video",{ref:h,style:{display:"none"},autoPlay:!0,loop:!0,muted:!0,playsInline:!0,crossOrigin:"anonymous",onCanPlayThrough:async e=>{try{await e.currentTarget.play(),p("video")}catch(e){p("image")}},onError:()=>{p("image")},src:s,className:a.default.dynamic([["94e478a1c75b6691",[720,720]]])}),(0,t.jsx)("canvas",{ref:v,style:{display:"none"},className:a.default.dynamic([["94e478a1c75b6691",[720,720]]])}),(0,t.jsx)("div",{style:{backgroundImage:"video"===m&&f?"url(".concat(f,")"):"url(".concat(n,")")},className:a.default.dynamic([["94e478a1c75b6691",[720,720]]])+" tiled-background"}),(0,t.jsx)(a.default,{id:"94e478a1c75b6691",dynamic:[720,720],children:".video-container.__jsx-style-dynamic-selector{pointer-events:none;opacity:0;width:100%;height:100%;position:fixed;top:0;left:0;overflow:hidden;transform:translateZ(0)}.video-container.loaded.__jsx-style-dynamic-selector{opacity:1}.tiled-background.__jsx-style-dynamic-selector{background-size:".concat(720,"px ").concat(720,"px;will-change:background-image;background-position:0 0;background-repeat:repeat;width:100%;height:100%;position:absolute;top:0;left:0;transform:translateZ(0)}")})]}):null};n.EventTheme.PolaroidDark,n.EventTheme.PolaroidLight,n.EventTheme.Matrix,n.EventTheme.Fireworks,n.EventTheme.HalloweenBats,n.EventTheme.FallingLeaves,n.EventTheme.SnowDark,n.EventTheme.SnowLight,n.EventTheme.PoolLight,n.EventTheme.PoolDark;let u={[n.EventTheme.PolaroidLight]:{video:"https://images.lumacdn.com/themes/video/iridescent-light-2.mp4",image:"https://images.lumacdn.com/themes/video/iridescent-light-2.png",mobileVideo:"https://images.lumacdn.com/themes/video/iridescent-light-mobile-2.mp4",mobileImage:"https://images.lumacdn.com/themes/video/iridescent-light-mobile-2.png",tiled:!1},[n.EventTheme.PolaroidDark]:{video:"https://images.lumacdn.com/themes/video/iridescent-dark-2.mp4",image:"https://images.lumacdn.com/themes/video/iridescent-dark-2.png",mobileVideo:"https://images.lumacdn.com/themes/video/iridescent-dark-mobile-2.mp4",mobileImage:"https://images.lumacdn.com/themes/video/iridescent-dark-mobile-2.png",tiled:!1},[n.EventTheme.Matrix]:{video:"https://images.lumacdn.com/themes/video/matrix.mp4",image:"https://images.lumacdn.com/themes/video/matrix.png",mobileVideo:"https://images.lumacdn.com/themes/video/matrix-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/matrix-mobile.png",tiled:!1},[n.EventTheme.Fireworks]:{video:"https://images.lumacdn.com/themes/video/fireworks.mp4",image:"https://images.lumacdn.com/themes/video/fireworks.png",mobileVideo:"https://images.lumacdn.com/themes/video/fireworks-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/fireworks-mobile.png",tiled:!1},[n.EventTheme.HalloweenBats]:{video:"https://images.lumacdn.com/themes/video/halloween-bat.mp4",image:"https://images.lumacdn.com/themes/video/halloween-bat.png",mobileVideo:"https://images.lumacdn.com/themes/video/halloween-bat-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/halloween-bat-mobile.png",tiled:!1},[n.EventTheme.FallingLeaves]:{video:"https://images.lumacdn.com/themes/video/leaves.mp4",image:"https://images.lumacdn.com/themes/video/leaves.png",mobileVideo:"https://images.lumacdn.com/themes/video/leaves-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/leaves-mobile.png",tiled:!1},[n.EventTheme.SnowDark]:{video:"https://images.lumacdn.com/themes/video/snow-dark.mp4",image:"https://images.lumacdn.com/themes/video/snow-dark.png",mobileVideo:"https://images.lumacdn.com/themes/video/snow-dark-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/snow-dark-mobile.png",tiled:!1},[n.EventTheme.SnowLight]:{video:"https://images.lumacdn.com/themes/video/snow-light.mp4",image:"https://images.lumacdn.com/themes/video/snow-light.png",mobileVideo:"https://images.lumacdn.com/themes/video/snow-light-mobile.mp4",mobileImage:"https://images.lumacdn.com/themes/video/snow-light-mobile.png",tiled:!1},[n.EventTheme.PoolLight]:{video:"https://images.lumacdn.com/themes/video/pool-light.mp4",image:"https://images.lumacdn.com/themes/video/pool-light.png",mobileVideo:"https://images.lumacdn.com/themes/video/pool-light.mp4",mobileImage:"https://images.lumacdn.com/themes/video/pool-light.png",tiled:!0},[n.EventTheme.PoolDark]:{video:"https://images.lumacdn.com/themes/video/pool-dark.mp4",image:"https://images.lumacdn.com/themes/video/pool-dark.png",mobileVideo:"https://images.lumacdn.com/themes/video/pool-dark.mp4",mobileImage:"https://images.lumacdn.com/themes/video/pool-dark.png",tiled:!1}},m=e=>{let{themeMeta:s}=e,n=u[s.theme],{is_mobile:r}=(0,d.useWindowSize)(),m=(0,l.useIsMounted)(),[p,f]=(0,o.useState)("none");return n&&m?n.tiled?(0,t.jsx)(c,{video:n.video,image:n.image},s.theme):(0,t.jsxs)("div",{className:"jsx-6138185c98a015dc "+((0,i.default)("video-container animated",{loaded:"none"!==p})||""),children:[(0,t.jsx)("img",{src:n.mobileImage&&r?n.mobileImage:n.image,className:"jsx-6138185c98a015dc"}),(0,t.jsx)("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,onCanPlayThrough:async e=>{try{await e.currentTarget.play(),f("video")}catch(e){f("image")}},className:"jsx-6138185c98a015dc "+((0,i.default)("video"!==p&&"opacity-0")||""),children:(0,t.jsx)("source",{src:n.mobileVideo&&r?n.mobileVideo:n.video,type:"video/mp4",className:"jsx-6138185c98a015dc"})}),(0,t.jsx)(a.default,{id:"6138185c98a015dc",children:".video-container.jsx-6138185c98a015dc{pointer-events:none;opacity:0;width:100%;height:100%;position:fixed;top:0;left:0;overflow:hidden}.video-container.loaded.jsx-6138185c98a015dc{opacity:1}video.jsx-6138185c98a015dc,img.jsx-6138185c98a015dc{object-fit:cover;width:100%;height:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}video.jsx-6138185c98a015dc::-webkit-media-controls-start-playback-button{display:none}"})]},s.theme):null};var p=e.i(979637);let f=(0,p.safeDynamic)({loader:()=>e.A(433906).then(e=>e.GradientCanvas),fallback:()=>null}),x=(0,p.safeDynamic)({loader:()=>e.A(877688).then(e=>e.ParticlesCanvas),fallback:()=>null}),h=(0,p.safeDynamic)({loader:()=>e.A(282122).then(e=>e.WarpCanvas),fallback:()=>null}),v=(0,p.safeDynamic)({loader:()=>e.A(610987).then(e=>e.EmojisCanvas),fallback:()=>null});e.s(["EventThemeContainer",0,e=>{var o;let{children:l,tintColor:d,themeMeta:c,font:u,fullPage:p,inPanel:g,newStyle:y}=e,b=null!=(o=n.EventThemeToInfo[c.theme])?o:{},j=u&&Object.values(n.WebFont).includes(u)?u:null,{theme:_,config:w}=(0,n.particlesTheme)(c),{theme:T,config:k}=(0,n.emojisTheme)(c);return(0,t.jsxs)(s.TintWrapper,{tintColor:d,metaColorVariable:"--page-bg",metaClassName:"event-theme full-page",lightness:b.lightness,mode:"event-page",renderMetaColor:p,children:[(0,t.jsxs)("div",{className:"jsx-afef0ed2e3d23ba9 "+((0,i.default)("event-theme",d&&"tinted",b.baseClass,c.theme,{"one-to-one":y,"full-page":p,"in-panel":g,"high-contrast":b.highContrast})||""),children:[(0,t.jsx)("div",{className:"jsx-afef0ed2e3d23ba9 background"}),(0,t.jsx)("div",{className:"jsx-afef0ed2e3d23ba9 background-glow"}),(0,t.jsx)("div",{className:"jsx-afef0ed2e3d23ba9 background-overlay"}),(0,t.jsx)("div",{className:"jsx-afef0ed2e3d23ba9 background-overlay2"}),(0,t.jsx)("div",{className:"jsx-afef0ed2e3d23ba9 background-overlay3"}),(0,t.jsx)("div",{className:"jsx-afef0ed2e3d23ba9 background-overlay4"}),(0,t.jsx)(m,{themeMeta:c}),"video"===b.baseClass&&b.blendMode&&(d||b.tintColor)&&(0,t.jsx)("div",{style:{backgroundColor:d||b.tintColor||"#777"},className:"jsx-afef0ed2e3d23ba9 "+((0,i.default)("video-overlay animated",b.blendMode)||"")}),"video"===b.baseClass&&(0,t.jsx)("div",{className:"jsx-afef0ed2e3d23ba9 video-overlay2"}),(0,n.isQuantumTheme)(c)&&(0,t.jsx)(f,{...(null==c?void 0:c.type)==="shader"?c:{},brightness:c.theme===n.EventTheme.ShaderLight?1.25:1,alpha:c.theme===n.EventTheme.ShaderLight?.5:.8,animate:!0,className:"gradient-bg animate"}),_&&(0,t.jsx)(x,{theme:_,className:"gradient-bg animate",config:w,tintColor:d}),T&&(0,t.jsx)(v,{theme:T,className:"gradient-bg animate",config:k,tintColor:d}),c.theme===n.EventTheme.Warp&&(0,t.jsx)(h,{className:"gradient-bg animate",tintColor:d}),(0,t.jsxs)("div",{className:"jsx-afef0ed2e3d23ba9 page-container",children:[j&&(0,t.jsx)(r.FontLoader,{font:j,variable:"title-font",boldWeightVariable:"title-font-weight-bold",mediumWeightVariable:"title-font-weight-medium"}),l]})]}),(0,t.jsx)(a.default,{id:"afef0ed2e3d23ba9",children:".event-theme.jsx-afef0ed2e3d23ba9{--card-padding:1rem;color:var(--primary-color)}.event-theme.jsx-afef0ed2e3d23ba9 .gradient-bg.animate{animation:2s forwards event-theme-fade-in}@keyframes event-theme-fade-in{0%{opacity:0}to{opacity:1}}.page-container.jsx-afef0ed2e3d23ba9{min-height:100vh;background:0 0;min-height:100dvh;position:relative}.background.jsx-afef0ed2e3d23ba9,.background-glow.jsx-afef0ed2e3d23ba9,.background-overlay.jsx-afef0ed2e3d23ba9,.video-overlay.jsx-afef0ed2e3d23ba9,.video-overlay2.jsx-afef0ed2e3d23ba9{z-index:0;pointer-events:none;width:100%;height:100vh;height:100lvh;position:fixed}.background-overlay2.jsx-afef0ed2e3d23ba9,.background-overlay3.jsx-afef0ed2e3d23ba9,.background-overlay4.jsx-afef0ed2e3d23ba9{z-index:0;pointer-events:none;position:fixed}.video-overlay.overlay.jsx-afef0ed2e3d23ba9{mix-blend-mode:overlay}.video-overlay.screen.jsx-afef0ed2e3d23ba9{mix-blend-mode:screen;opacity:.3}.video-overlay.multiply.jsx-afef0ed2e3d23ba9{mix-blend-mode:multiply}.video-overlay.color.jsx-afef0ed2e3d23ba9{mix-blend-mode:color;opacity:.5}@supports (font:-apple-system-body) and ((-webkit-appearance:none) or (-moz-appearance:none) or (appearance:none)){.video-overlay.color.jsx-afef0ed2e3d23ba9{mix-blend-mode:color-burn}}.full-page.jsx-afef0ed2e3d23ba9 .background.jsx-afef0ed2e3d23ba9,.full-page.jsx-afef0ed2e3d23ba9 .background-glow.jsx-afef0ed2e3d23ba9,.full-page.jsx-afef0ed2e3d23ba9 .background-overlay.jsx-afef0ed2e3d23ba9,.full-page.jsx-afef0ed2e3d23ba9 .video-overlay.jsx-afef0ed2e3d23ba9,.full-page.jsx-afef0ed2e3d23ba9 .video-overlay2.jsx-afef0ed2e3d23ba9{top:0;left:0}.background.jsx-afef0ed2e3d23ba9{background:var(--page-bg)}.in-panel.jsx-afef0ed2e3d23ba9 .background.jsx-afef0ed2e3d23ba9{background:0 0}"})]})}],974278);var g=e.i(203828),y=e.i(679905),b=e.i(405155),j=e.i(268910),_=e.i(86316),w=e.i(689419),T=e.i(878206),k=e.i(442357),N=e.i(687836),C=e.i(686546),S=e.i(171548);let E=e=>{let{name:i}=e;return(0,t.jsxs)("div",{className:a.default.dynamic([["869c1b13e54478ba",[b.ResponsiveBreakpoint.tiny]]])+" text-ellipses",children:[i,(0,t.jsx)(a.default,{id:"869c1b13e54478ba",dynamic:[b.ResponsiveBreakpoint.tiny],children:"@media (max-width:".concat(b.ResponsiveBreakpoint.tiny,"){div.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}}")})]})};e.s(["CalendarOrHostsRow",0,e=>{let{className:i}=e,s=(0,g.useRouter)(),n=(0,_.useT)(),{hosts:r,calendar:o,isEmbed:l}=(0,S.useEventPageContext)(),{width:c}=(0,d.useWindowSize)(),u=(null!=c?c:1e3)>b.ResponsiveBreakpointNumbers.tiny?1.125:1,m=o?k.LumaRoutes.calendar.publicPath({calendar:o}):null,p=m&&(0,w.isSameRootPath)({path1:s.asPath,path2:m,numLevels:(null==o?void 0:o.slug)?1:2});if(o&&!p&&!o.is_personal)return(0,t.jsxs)("div",{className:a.default.dynamic([["92d2a34dfcaf9fbc",[b.ResponsiveBreakpoint.tiny]]])+" "+(i||""),children:[(0,t.jsx)(y.LuxLink,{href:k.LumaRoutes.calendar.publicPath({calendar:o}),openInNewTab:l,children:(0,t.jsxs)("div",{className:a.default.dynamic([["92d2a34dfcaf9fbc",[b.ResponsiveBreakpoint.tiny]]])+" flex-center text-tinted min-width-0",children:[(0,t.jsx)(N.Avatar,{url:o.avatar_url,rem:u,isSquare:!0,className:"mr-2"}),(0,t.jsx)(E,{name:o.name}),(0,t.jsx)("div",{className:a.default.dynamic([["92d2a34dfcaf9fbc",[b.ResponsiveBreakpoint.tiny]]])+" chevron animated ml-05",children:(0,t.jsx)(j.default,{})})]})}),(0,t.jsx)(a.default,{id:"92d2a34dfcaf9fbc",dynamic:[b.ResponsiveBreakpoint.tiny],children:".chevron.__jsx-style-dynamic-selector{opacity:.5;transform:translateY(1px)}div.__jsx-style-dynamic-selector:hover .chevron.__jsx-style-dynamic-selector{opacity:1;transform:translate(2px)translateY(1px)}@media (max-width:".concat(b.ResponsiveBreakpoint.tiny,"){.chevron.__jsx-style-dynamic-selector{transform:translateY(.5px)}div.__jsx-style-dynamic-selector:hover .chevron.__jsx-style-dynamic-selector{transform:translate(2px)translateY(.5px)}}")})]});let f=r.filter(e=>{var t;return!!(null==(t=e.name)?void 0:t.trim())}),x=(0,T.hostedByDisplayString)({hosts:f,t:n});return""===x?null:(0,t.jsx)("div",{className:i,children:(0,t.jsxs)("div",{className:"flex-center gap-2 text-tinted",children:[(0,t.jsx)(C.Avatars,{users:f,rem:u,numCircles:5}),(0,t.jsx)(E,{name:x})]})})}],835061);var A=e.i(398050),M=e.i(344731),P=e.i(677233),R=e.i(31197),L=e.i(318625),I=e.i(826420),B=e.i(97497),q=e.i(644449),U=e.i(851800),F=e.i(922323),z=e.i(151969),O=e.i(132571),W=e.i(257983),D=e.i(136266),V=e.i(36846),K=e.i(216279),Y=e.i(9572);let Q=e=>{let{timezone:t,date:a,locale:i}=e;return(a?(0,Y.convertToDt)(a):A.DateTime.now()).setLocale(i).setZone(t).toFormat("ZZZZ")};e.s(["getTimezoneAbbr",0,Q],990301);var H=e.i(566119);let G=e=>{let{session:s,selected:n,onClick:r}=e,o=(0,U.useLocale)(),l=s.location_type===W.EventLocationType.Offline?s.timezone:void 0,d=A.DateTime.fromISO(s.start_at,{zone:l,locale:o}),c=!r,u=s.hide_rsvp,m=(0,t.jsxs)("div",{onClick:()=>{u||c||null==r||r(s)},className:"jsx-e9c071862e1f73fb "+((0,i.default)("session-pill animated fw-medium",{soldout:u,readonly:c,selected:!u&&!c&&n})||""),children:[(0,t.jsx)("div",{className:"jsx-e9c071862e1f73fb date",children:(0,t.jsx)(M.AfterMounted,{children:d.toLocaleString({month:"short",day:"numeric",weekday:"short"})})}),(0,t.jsx)("div",{className:"jsx-e9c071862e1f73fb time animated",children:(0,t.jsx)(M.AfterMounted,{children:d.toLocaleString({hour:"numeric",minute:"2-digit"})})}),(0,t.jsx)(a.default,{id:"e9c071862e1f73fb",children:".session-pill.jsx-e9c071862e1f73fb{background-color:var(--opacity-light);border-radius:var(--border-radius);text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:1px solid var(--opacity-0);width:100%;padding:.4375rem}.session-pill.jsx-e9c071862e1f73fb:not(.soldout):not(.readonly){cursor:pointer}.session-pill.soldout.jsx-e9c071862e1f73fb{color:var(--secondary-color-alpha);opacity:.7;cursor:default}.session-pill.jsx-e9c071862e1f73fb .date.jsx-e9c071862e1f73fb,.session-pill.jsx-e9c071862e1f73fb .time.jsx-e9c071862e1f73fb{white-space:nowrap;font-size:var(--font-size-sm)}.session-pill.jsx-e9c071862e1f73fb .time.jsx-e9c071862e1f73fb{color:var(--tertiary-color-alpha)}@media (hover:hover){.session-pill.jsx-e9c071862e1f73fb:not(.soldout):not(.readonly):not(.selected):hover{background-color:var(--opacity-16)}}.session-pill.selected.jsx-e9c071862e1f73fb{color:var(--primary-or-tinted-color);border-color:var(--primary-or-tinted-color);background-color:var(--primary-bg-color)}.session-pill.selected.jsx-e9c071862e1f73fb .time.jsx-e9c071862e1f73fb{color:var(--tint-color)}"})]},s.api_id);return u?(0,t.jsx)(H.LuxTooltip,{content:(0,t.jsx)("div",{children:"Sold Out"}),children:(0,t.jsx)("div",{children:m})}):m},Z=()=>{let e=(0,U.useLocale)(),s=(0,b.useBreakpoints)(),{event:n}=(0,S.useEventPageContext)(),r=A.DateTime.fromISO(n.start_at,{zone:n.timezone,locale:e}),o=r.toLocaleString({month:"short"});return(0,t.jsxs)("div",{className:a.default.dynamic([["d107260cbc454511",[s.tiny]]])+" calendar-card text-center full-height",children:[(0,t.jsx)("div",{className:a.default.dynamic([["d107260cbc454511",[s.tiny]]])+" "+((0,i.default)("month nowrap",{long:o.length>6})||""),children:(0,t.jsx)(M.AfterMounted,{children:o})}),(0,t.jsx)("div",{className:a.default.dynamic([["d107260cbc454511",[s.tiny]]])+" day fw-medium",children:(0,t.jsx)(M.AfterMounted,{children:r.toFormat("d")})}),(0,t.jsx)(a.default,{id:"d107260cbc454511",dynamic:[s.tiny],children:".calendar-card.__jsx-style-dynamic-selector{width:100%}.calendar-card.__jsx-style-dynamic-selector .month.__jsx-style-dynamic-selector{background:var(--opacity-8);font-size:.5rem;font-weight:var(--font-weight-bold);text-transform:uppercase;padding:2px}.calendar-card.__jsx-style-dynamic-selector .month.long.__jsx-style-dynamic-selector{padding:3px 0;font-size:.4375rem}.calendar-card.__jsx-style-dynamic-selector .day.__jsx-style-dynamic-selector{transform:translateY(-1px)}@media (max-width:".concat(s.tiny,"){.calendar-card.__jsx-style-dynamic-selector .month.__jsx-style-dynamic-selector{padding:1px;font-size:.4375rem}.calendar-card.__jsx-style-dynamic-selector .month.long.__jsx-style-dynamic-selector{padding:2px 0;font-size:.375rem}.calendar-card.__jsx-style-dynamic-selector .day.__jsx-style-dynamic-selector{font-size:.875rem;transform:none}}")})]})},J=()=>{let e=(0,b.useBreakpoints)();return(0,t.jsxs)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" shimmer-wrapper",children:[(0,t.jsx)(X,{icon:(0,t.jsxs)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" calendar-card full-height",children:[(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" month"}),(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" flex-center-center",children:(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" day shimmer"})})]}),title:(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" shimmer title"}),desc:(0,t.jsx)("div",{className:a.default.dynamic([["a9106e074ef0068",[e.tiny]]])+" shimmer desc"})}),(0,t.jsx)(a.default,{id:"a9106e074ef0068",dynamic:[e.tiny],children:".shimmer-wrapper.__jsx-style-dynamic-selector{padding:1px 0}.calendar-card.__jsx-style-dynamic-selector{width:100%}.month.__jsx-style-dynamic-selector{background:var(--opacity-8);width:100%;height:.75rem}.day.__jsx-style-dynamic-selector{width:1.25rem;height:.5rem;margin-top:.5rem;margin-bottom:0}@media (max-width:".concat(e.tiny,"){.day.__jsx-style-dynamic-selector{margin-top:.375rem}}.title.__jsx-style-dynamic-selector{width:10rem;height:.75rem;margin-bottom:.5rem}.desc.__jsx-style-dynamic-selector{width:6rem;height:.625rem;margin-bottom:0}")})]})},X=e=>{let{icon:s,title:n,desc:r,className:o,expandable:l}=e,d=(0,b.useBreakpoints)();return(0,t.jsxs)("div",{className:a.default.dynamic([["4879eaa1d4af39ff",[d.tiny,d.tiny]]])+" "+((0,i.default)("icon-row flex-center gap-3",o)||""),children:[(0,t.jsx)("div",{className:a.default.dynamic([["4879eaa1d4af39ff",[d.tiny,d.tiny]]])+" icon-container flex-center-center rounded overflow-hidden flex-shrink-0",children:s}),(0,t.jsxs)("div",{className:a.default.dynamic([["4879eaa1d4af39ff",[d.tiny,d.tiny]]])+" flex-1",children:[(0,t.jsx)("div",{className:a.default.dynamic([["4879eaa1d4af39ff",[d.tiny,d.tiny]]])+" title text-ellipses",children:n}),r&&(0,t.jsx)("div",{className:a.default.dynamic([["4879eaa1d4af39ff",[d.tiny,d.tiny]]])+" desc text-ellipses",children:r})]}),l&&(0,t.jsx)(P.Chevron,{direction:"down",className:"text-tertiary-alpha"}),(0,t.jsx)(a.default,{id:"4879eaa1d4af39ff",dynamic:[d.tiny,d.tiny],children:".icon-container.__jsx-style-dynamic-selector{border:1px solid var(--divider-color);width:2.5rem;height:2.5rem;color:var(--tint-color);margin:.125rem 0}.icon-container.__jsx-style-dynamic-selector svg{width:1.25rem;height:1.25rem}@media (max-width:".concat(d.tiny,"){.icon-container.__jsx-style-dynamic-selector{width:2.25rem;height:2.25rem}.icon-container.__jsx-style-dynamic-selector svg{width:1.125rem;height:1.125rem}}.title.__jsx-style-dynamic-selector{color:var(--primary-color);font-family:var(--title-font);font-weight:var(--title-font-weight-medium,var(--font-weight-medium))}.desc.__jsx-style-dynamic-selector{color:var(--tint-color);font-size:var(--font-size-sm);margin-top:1px}@media (max-width:").concat(d.tiny,"){.icon-row.__jsx-style-dynamic-selector{gap:.75rem}.title.__jsx-style-dynamic-selector{font-size:var(--font-size-sm)}.desc.__jsx-style-dynamic-selector{font-size:var(--font-size-xs)}}")})]})};e.s(["DateRow",0,()=>{let e,s=(0,U.useLocale)(),{event:n,sessions:r}=(0,S.useEventPageContext)(),o=(0,O.getTimezoneIana)(),l=n.location_type===W.EventLocationType.Offline?n.timezone:void 0,d=A.DateTime.fromISO(n.start_at,{zone:l,locale:s}),c=A.DateTime.fromISO(n.end_at,{zone:l,locale:s}),u=d.hasSame(c,"year"),m=o===l,p=d.hasSame(c,"day"),f=c.diff(d,"hours").hours<=12,x=r.filter(e=>(0,D.getEventState)({event:e})!=D.EventState.Ended),h=(0,I.useBoolean)(),v=x.length>1;return e=p||f?"".concat(d.toLocaleString({hour:"numeric",minute:"2-digit"})," - ").concat(c.toLocaleString({hour:"numeric",minute:"2-digit"})).concat(m?"":" ".concat(Q({timezone:l,date:d,locale:s}))):"".concat(d.toLocaleString({hour:"numeric",minute:"2-digit"})," - ").concat(c.toLocaleString({month:"short",day:"numeric",hour:"numeric",minute:"2-digit",year:u?void 0:"numeric"})).concat(m?"":" ".concat(Q({timezone:l,date:d,locale:s}))),(0,t.jsxs)("div",{onClick:v?h.toggle:void 0,className:"jsx-d91fe5226dd42ebb "+((0,i.default)("row-container rounded-squircle",{"bg-hover cursor-pointer":v})||""),children:[(0,t.jsx)(M.AfterMounted,{fallback:(0,t.jsx)(J,{}),children:(0,t.jsx)(X,{icon:(0,t.jsx)(Z,{}),title:d.toLocaleString({weekday:"long",month:"long",day:"numeric",year:d.hasSame(A.DateTime.now(),"year")?void 0:"numeric"}),desc:(0,t.jsxs)(t.Fragment,{children:[e,v&&(0,t.jsxs)(t.Fragment,{children:[" Â· ",(0,t.jsx)(F.T,{defaultMessage:"{count, plural, one {# session} other {# sessions}}",id:"jdbsrn",values:{count:x.length}})]})]}),expandable:v})}),(0,t.jsx)(R.LuxCollapse,{show:h.value,children:(0,t.jsx)("div",{className:"jsx-d91fe5226dd42ebb sessions pt-2",children:x.map(e=>(0,t.jsx)(G,{session:e},e.api_id))})}),(0,t.jsx)(a.default,{id:"d91fe5226dd42ebb",children:".row-container.jsx-d91fe5226dd42ebb{margin:-.5rem;padding:.5rem}.sessions.jsx-d91fe5226dd42ebb{grid-template-columns:repeat(auto-fill,minmax(100px,1fr));gap:.5rem;display:grid}"})]})},"IconRowLoading",0,()=>(0,t.jsxs)("div",{className:"jsx-d02035bd5a64c643 shimmer-wrapper",children:[(0,t.jsx)(X,{icon:(0,t.jsx)("div",{className:"jsx-d02035bd5a64c643 flex-center-center",children:(0,t.jsx)("div",{className:"jsx-d02035bd5a64c643 icon shimmer"})}),title:(0,t.jsx)("div",{className:"jsx-d02035bd5a64c643 shimmer title"}),desc:(0,t.jsx)("div",{className:"jsx-d02035bd5a64c643 shimmer desc"})}),(0,t.jsx)(a.default,{id:"d02035bd5a64c643",children:".shimmer-wrapper.jsx-d02035bd5a64c643{padding:1px 0}.icon.jsx-d02035bd5a64c643{width:1.25rem;height:.5rem;margin:0}.title.jsx-d02035bd5a64c643{width:10rem;height:.75rem;margin-bottom:.5rem}.desc.jsx-d02035bd5a64c643{width:6rem;height:.625rem;margin-bottom:0}"})]}),"LoadingDateRow",0,J,"LocationRow",0,()=>{let{event:e,guest_data:i}=(0,S.useEventPageContext)(),s=(0,_.useT)(),n=e.location_type;if(n===W.EventLocationType.Missing&&(n=W.EventLocationType.Unknown),n===W.EventLocationType.Offline){let{geo_address_info:n}=e;if((null==n?void 0:n.mode)==="shown"){let e="shown"===n.mode?(0,z.getGoogleMapsUrl)({info:n}):null;return(0,t.jsxs)(L.OptionalLink,{href:e,className:"row-container",children:[(0,t.jsx)(X,{className:"location-row",icon:(0,t.jsx)(q.default,{}),title:(0,t.jsxs)("div",{className:"jsx-716bec2817eb1288 flex-center gap-1",children:[(0,t.jsx)("div",{className:"jsx-716bec2817eb1288 text-ellipses",children:n.address}),(0,t.jsx)("div",{className:"jsx-716bec2817eb1288 icon text-tinted animated",children:(0,t.jsx)(B.default,{})})]}),desc:"google"===n.type&&n.city_state}),(0,t.jsx)(a.default,{id:"716bec2817eb1288",children:".icon.jsx-716bec2817eb1288{opacity:.5;transform:translateY(.5px)}@media (hover:hover){:is(.location-row .title,.location-row .desc){transition:var(--transition)}.location-row:hover :-webkit-any(.title,.desc){color:var(--brand-active-color)}.location-row:hover :-moz-any(.title,.desc){color:var(--brand-active-color)}.location-row:hover :is(.title,.desc){color:var(--brand-active-color)}.location-row:hover .icon.jsx-716bec2817eb1288{color:var(--brand-active-color);opacity:1;transform:translate(1px)translateY(-.5px)}}"})]})}let r=i.approval_status===V.GuestApprovalStatus.Approved||i.approval_status===V.GuestApprovalStatus.PendingApproval||i.approval_status===V.GuestApprovalStatus.Session;return(0,t.jsx)(X,{icon:(0,t.jsx)(q.default,{}),title:s(r?{defaultMessage:"To Be Announced",id:"YggJuw",description:"Location of the event isn't yet known. Shown on event page."}:{defaultMessage:"Register to See Address",id:"URs3T9",description:"Shown on event page in place of the event location. This prompts visitors to register to get more information."}),desc:null==n?void 0:n.city_state})}let{label:r,icon:o}=K.EventLocationTypeToInfo[n];return(0,t.jsx)(X,{icon:o,title:r(s)})}],509255)},87948,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(272043),s=e.i(935382);e.s(["CoverImageWithGlow",0,e=>{let{className:n,event:r}=e,o={medium:280,large:300};return(0,t.jsxs)("div",{className:"jsx-2eeccf9f0f2a1501 "+((0,i.default)("cover-with-glow flex-center-center",n)||""),children:[(0,t.jsx)(s.EventCoverImage,{className:"cover-image cover-image-under",event:r,mode:"aspect-ratio",shape:"rectangle",width:r.one_to_one?400:800,aspectRatio:r.one_to_one?1:2,responsiveSizes:o,allowAnimation:!0}),(0,t.jsx)("div",{className:"jsx-2eeccf9f0f2a1501 cover-image-wrapper rounded-card flex-center-center",children:(0,t.jsx)(s.EventCoverImage,{className:"cover-image",event:r,mode:"aspect-ratio",shape:"rectangle",width:r.one_to_one?400:800,aspectRatio:r.one_to_one?1:2,responsiveSizes:o,allowAnimation:!0})}),(0,t.jsx)(a.default,{id:"2eeccf9f0f2a1501",children:".cover-with-glow.jsx-2eeccf9f0f2a1501{position:relative}.cover-with-glow.jsx-2eeccf9f0f2a1501 .cover-image-wrapper.jsx-2eeccf9f0f2a1501{width:100%;overflow:hidden}.cover-with-glow.jsx-2eeccf9f0f2a1501 .cover-image img{transform:scale(1.005)}.cover-with-glow.jsx-2eeccf9f0f2a1501 .cover-image-under{opacity:.2;filter:brightness(.8)blur(24px)saturate(1.2);-webkit-backdrop-filter:blur();mix-blend-mode:multiply;position:absolute;top:1rem;transform:translate(0)}.theme-root.dark .cover-with-glow .cover-image-under{opacity:.3;filter:brightness(.7)blur(24px)saturate(1.2)}"})]})}])}]);

//# debugId=29c342bd-70df-50d4-453a-a97cdffd6430
//# sourceMappingURL=3a0e3c0c4b32223a.js.map