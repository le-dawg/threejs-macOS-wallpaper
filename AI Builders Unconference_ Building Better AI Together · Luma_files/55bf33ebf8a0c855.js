;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="914d5998-3880-68f7-5a5f-73c49d73fcb3")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,531905,e=>{"use strict";var t=e.i(506039);e.s(["ChevronLeft16Icon",()=>t.default])},337695,e=>{"use strict";var t,a=e.i(191788);function i(){return(i=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),t||(t=a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},a.createElement("path",{fillOpacity:.133,fillRule:"nonzero",d:"M7.5 16.4c0-2.24 0-3.36.436-4.216a4 4 0 0 1 1.748-1.748C10.54 10 11.66 10 13.9 10h5.2c2.24 0 3.36 0 4.216.436a4 4 0 0 1 1.748 1.748c.436.856.436 1.976.436 4.216v7.2c0 2.24 0 3.36-.436 4.216a4 4 0 0 1-1.748 1.748C22.46 30 21.34 30 19.1 30h-5.2c-2.24 0-3.36 0-4.216-.436a4 4 0 0 1-1.748-1.748C7.5 26.96 7.5 25.84 7.5 23.6z"}),a.createElement("path",{d:"M14.357 1h4.286c1.084 0 1.958 0 2.666.058.729.06 1.369.185 1.961.487a5 5 0 0 1 2.185 2.185c.302.592.428 1.233.487 1.961C26 6.4 26 7.273 26 8.357v15.286c0 1.084 0 1.958-.058 2.666-.06.729-.185 1.369-.487 1.961a5 5 0 0 1-2.185 2.185c-.592.302-1.232.428-1.961.487C20.6 31 19.727 31 18.643 31h-4.286c-1.084 0-1.958 0-2.666-.058-.728-.06-1.369-.185-1.96-.487a5 5 0 0 1-2.186-2.185c-.302-.592-.428-1.232-.487-1.961C7 25.6 7 24.727 7 23.643V8.357c0-1.084 0-1.958.058-2.666.06-.728.185-1.369.487-1.96A5 5 0 0 1 9.73 1.544c.592-.302 1.233-.428 1.961-.487C12.4 1 13.273 1 14.357 1m-2.503 2.051c-.605.05-.953.142-1.216.276a3 3 0 0 0-1.311 1.311c-.134.263-.226.611-.276 1.216C9.001 6.471 9 7.264 9 8.4v15.2c0 1.137 0 1.929.051 2.546.05.605.142.953.276 1.216a3 3 0 0 0 1.311 1.311c.263.134.611.226 1.216.276.617.05 1.41.051 2.546.051h4.2c1.137 0 1.929 0 2.546-.051.605-.05.953-.142 1.216-.276a3 3 0 0 0 1.311-1.311c.134-.263.226-.611.276-1.216.05-.617.051-1.41.051-2.546V8.4c0-1.137 0-1.929-.051-2.546-.05-.605-.142-.953-.276-1.216a3 3 0 0 0-1.311-1.311c-.263-.134-.611-.226-1.216-.276C20.529 3.001 19.736 3 18.6 3h-4.2c-1.137 0-1.929 0-2.546.051M13.5 6a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1m-1 12a1 1 0 1 1 0-2 1 1 0 0 1 0 2m4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2m3-1a1 1 0 1 0 2 0 1 1 0 0 0-2 0m-7 5a1 1 0 1 1 0-2 1 1 0 0 1 0 2m4 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2m3-1a1 1 0 1 0 2 0 1 1 0 0 0-2 0m-8 4a1 1 0 1 0 2 0 1 1 0 0 0-2 0m4 0a1 1 0 1 0 2 0 1 1 0 0 0-2 0m5 1a1 1 0 1 1 0-2 1 1 0 0 1 0 2"}))))])},127164,e=>{"use strict";var t,a,i=e.i(191788);function r(){return(r=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>i.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32"},e),t||(t=i.createElement("path",{fill:"currentColor",fillOpacity:.133,d:"M20.793 22.669a3.793 3.793 0 1 1 0 7.586 3.793 3.793 0 0 1 0-7.586M16 2a7 7 0 0 1 7 7s-1.001 2-7 2-7-2-7-2a7 7 0 0 1 7-7"})),a||(a=i.createElement("path",{fill:"currentColor",d:"M25.776 15.514a2.61 2.61 0 0 1 3.989.361.12.12 0 0 0 .182.019 1 1 0 0 1 1.414 1.414L25.44 23.23c-.218.218-.327.327-.378.437a.6.6 0 0 0-.062.312c.005.121.078.3.226.656a4.793 4.793 0 1 1-2.604-2.605c.355.147.534.221.655.226a.6.6 0 0 0 .312-.063c.11-.05.22-.159.437-.377l1.42-1.42c.222-.222.174-.592-.049-.814a2.61 2.61 0 0 1 0-3.69l.38-.38ZM16 1.06c4.535 0 7.97 3.434 7.97 7.97 0 2.291-.879 3.745-1.694 4.831-.43.575-.728.91-.985 1.31-.227.354-.308.6-.309.829 0 .28.038.511.098.707a1 1 0 0 1-1.912.586A4.4 4.4 0 0 1 18.982 16c0-.766.294-1.393.626-1.91.304-.472.753-1.008 1.069-1.429.678-.905 1.293-1.941 1.293-3.632 0-3.43-2.54-5.97-5.97-5.97s-5.97 2.54-5.97 5.97c0 1.691.615 2.727 1.293 3.632.316.42.765.957 1.069 1.429.332.517.626 1.144.626 1.91 0 1.625-.768 2.714-1.816 3.47-.97.701-2.242 1.156-3.304 1.57-1.136.44-2.095.855-2.786 1.455-.63.55-1.056 1.273-1.056 2.466 0 1.016.68 1.876 2.287 2.579 1.594.698 3.822 1.096 6.232 1.277a1 1 0 0 1-.15 1.995c-2.487-.187-4.98-.607-6.884-1.44-1.892-.828-3.485-2.21-3.485-4.411 0-1.794.694-3.061 1.744-3.975.99-.861 2.27-1.382 3.374-1.811 1.178-.459 2.147-.813 2.857-1.325.632-.457.986-.987.987-1.85 0-.23-.082-.475-.309-.83-.257-.398-.554-.734-.985-1.309-.815-1.086-1.694-2.54-1.694-4.832 0-4.535 3.435-7.97 7.97-7.97Zm4.793 22.609a2.794 2.794 0 1 0 .001 5.587 2.794 2.794 0 0 0-.001-5.587m7.259-6.741a.61.61 0 0 0-.862 0l-.38.38a.61.61 0 0 0 .862.86l.38-.379a.61.61 0 0 0 0-.861"})))])},100595,e=>{"use strict";var t,a=e.i(191788);function i(){return(i=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),t||(t=a.createElement("path",{fill:"currentColor",d:"M6.617 7.064a2.5 2.5 0 0 1-1.388-.406 3 3 0 0 1-1.014-1.102 3.2 3.2 0 0 1-.381-1.553 3.03 3.03 0 0 1 1.403-2.604A2.54 2.54 0 0 1 6.617 1q.747 0 1.377.392t1.015 1.07q.384.676.384 1.526 0 .864-.38 1.564a3 3 0 0 1-1.015 1.106 2.5 2.5 0 0 1-1.38.406Zm-4.636 6.424q-.57 0-.894-.253a.83.83 0 0 1-.322-.692q0-.675.407-1.41t1.168-1.38 1.842-1.052q1.08-.405 2.428-.406.937 0 1.747.209a6.8 6.8 0 0 1 1.468.553q.037.768.403 1.424t.996 1.073v1.934zm11.06-6.826q.614 0 1.124.3t.81.806q.3.504.3 1.12 0 .718-.425 1.286-.426.567-1.216.89l.893.893a.22.22 0 0 1 .074.158q0 .084-.059.142l-.916.901.652.652a.2.2 0 0 1 .066.147.2.2 0 0 1-.066.146l-1.098 1.099a.19.19 0 0 1-.143.062.2.2 0 0 1-.136-.062l-.586-.586a.35.35 0 0 1-.11-.242v-3.391a2.26 2.26 0 0 1-1.021-.824 2.2 2.2 0 0 1-.385-1.27q0-.617.3-1.121.3-.506.81-.806.509-.3 1.132-.3m-.008 1.025a.66.66 0 0 0-.487.201.66.66 0 0 0-.201.487q0 .285.205.488a.67.67 0 0 0 .483.201.67.67 0 0 0 .484-.201.66.66 0 0 0 .205-.488.66.66 0 0 0-.205-.487.67.67 0 0 0-.484-.201"})))])},522476,e=>{"use strict";var t=e.i(391398),a=e.i(272043),i=e.i(538865),r=e.i(191788),s=e.i(581062),n=e.i(86316),o=e.i(655794),l=e.i(846332);let c=(0,r.forwardRef)((e,i)=>{let{label:n,className:o,placeholder:c,value:u,onChange:d,size:m="medium",helperText:p,disabled:h,rounded:f,autoFocus:g,variant:x="outline",minRows:w=1,maxRows:b,error:v,allowNewline:y=!0,onKeyDown:j,onPaste:C,textAreaProps:k,required:T,suppress1Password:_,moveCursorToEndOnAutoFocus:E}=e,A=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(g){var e,t,a,i,r,s;null==(e=A.current)||e.focus(),E&&(null==(i=A.current)||i.setSelectionRange(null!=(r=null==(t=A.current)?void 0:t.value.length)?r:0,null!=(s=null==(a=A.current)?void 0:a.value.length)?s:0))}},[g]),(0,r.useImperativeHandle)(i,()=>({focus:()=>{var e;null==(e=A.current)||e.focus()},blur:()=>{var e;null==(e=A.current)||e.blur()}})),(0,t.jsx)(l.LuxInputWrapper,{label:n,size:m,rounded:f,variant:x,helperText:p,className:o,error:v,children:(0,t.jsx)(s.default,{ref:A,placeholder:c,minRows:w,maxRows:b,disabled:h,value:u,onChange:e=>{let t=e.target.value;y||(t=t.replace(/\r?\n|\r/g,"")),d(t)},onKeyDown:j,onPaste:C,required:T,"data-1p-ignore":_,...k||{},className:(0,a.default)("lux-input",{"lux-input-scrollable":!!b},null==k?void 0:k.className)})})}),u=(0,r.forwardRef)((e,a)=>{let{name:r,label:s,size:l="medium",allowNewline:u=!0,required:d,helperText:m,validate:p,fieldProps:h,onKeyDown:f,...g}=e,{values:x,setFieldValue:w,isSubmitting:b,submitCount:v,submitForm:y}=(0,i.useFormikContext)(),j=(0,n.useT)();return(0,t.jsx)(i.Field,{...h,name:r,validate:p||(e=>{if((null==e||""===e)&&d)return j(o.CT.RequiredFieldError)}),children:e=>{let{field:n,meta:o}=e,p=!!(n.value!==o.initialValue&&o.touched),h=!!(o.error&&(v||p));return(0,t.jsx)(c,{allowNewline:u,disabled:b,error:h,label:s,onChange:e=>w(r,e),ref:a,size:l,value:(0,i.getIn)(x,r),required:d,...g,helperText:h?o.error:m,onKeyDown:f||(e=>{"Enter"===e.key&&e.metaKey&&(e.preventDefault(),y())})})}})});e.s(["LuxTextarea",0,c,"LuxTextareaField",0,u])},31197,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(272043),r=e.i(301027),s=e.i(191788),n=e.i(729506),o=e.i(872514);let l=s.default.forwardRef((e,l)=>{let{show:c,className:u="",children:d,onAnimationComplete:m}=e,[p,h]=(0,s.useState)(c);return(0,n.useUpdateEffect)(()=>{c||h(!1)},[c]),(0,t.jsxs)(r.m.div,{className:(0,i.default)("lux-collapse",u,{shown:p}),ref:l,onAnimationComplete:()=>{c&&h(!0),null==m||m({shown:c})},inert:!c||void 0,variants:{exit:{filter:"opacity(0)",height:0},enter:{filter:"opacity(1)",height:"auto"}},style:{overflow:c?void 0:"hidden"},initial:!1,animate:c?"enter":"exit",transition:o.MOTION_TRANSITION,children:[d,(0,t.jsx)(a.default,{id:"8c00c871896fd9b0",children:".lux-collapse.shown{filter:none!important}"})]})});e.s(["LuxCollapse",0,l])},106946,e=>{"use strict";var t=e.i(191788);e.s(["useModalState",0,function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],[a,i]=(0,t.useState)(e);return{show:a,onHide:(0,t.useCallback)(()=>{i(!1)},[i]),onShow:(0,t.useCallback)(()=>{i(!0)},[i]),setShow:i}}])},581062,e=>{"use strict";function t(){return(t=Object.assign.bind()).apply(null,arguments)}var a=e.i(191788),i=a.useLayoutEffect,r=function(e){var t=a.default.useRef(e);return i(function(){t.current=e}),t},s=function(e,t){"function"==typeof e?e(t):e.current=t},n=function(e,t){var i=a.default.useRef();return a.default.useCallback(function(a){e.current=a,i.current&&s(i.current,null),i.current=t,t&&s(t,a)},[t])},o={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},l=function(e){Object.keys(o).forEach(function(t){e.style.setProperty(t,o[t],"important")})},c=null,u=function(e,t){var a=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?a+t.borderSize:a-t.paddingSize},d=function(){},m=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],p=!!document.documentElement.currentStyle,h=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var a=m.reduce(function(e,a){return e[a]=t[a],e},{}),i=a.boxSizing;if(""===i)return null;p&&"border-box"===i&&(a.width=parseFloat(a.width)+parseFloat(a.borderRightWidth)+parseFloat(a.borderLeftWidth)+parseFloat(a.paddingRight)+parseFloat(a.paddingLeft)+"px");var r=parseFloat(a.paddingBottom)+parseFloat(a.paddingTop),s=parseFloat(a.borderBottomWidth)+parseFloat(a.borderTopWidth);return{sizingStyle:a,paddingSize:r,borderSize:s}};function f(e,t,i){var s=r(i);a.useLayoutEffect(function(){var a=function(e){return s.current(e)};if(e)return e.addEventListener(t,a),function(){return e.removeEventListener(t,a)}},[])}var g=function(e,t){f(document.body,"reset",function(a){e.current.form===a.target&&t(a)})},x=function(e){f(window,"resize",e)},w=function(e){f(document.fonts,"loadingdone",e)},b=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],v=a.forwardRef(function(e,i){var r=e.cacheMeasurements,s=e.maxRows,o=e.minRows,m=e.onChange,p=void 0===m?d:m,f=e.onHeightChange,v=void 0===f?d:f,y=function(e,t){if(null==e)return{};var a={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;a[i]=e[i]}return a}(e,b),j=void 0!==y.value,C=a.useRef(null),k=n(C,i),T=a.useRef(0),_=a.useRef(),E=function(){var e=C.current,t=r&&_.current?_.current:h(e);if(t){_.current=t;var a,i,n,d,m,p,f,g,x,w,b,y=(a=e.value||e.placeholder||"x",void 0===(i=o)&&(i=1),void 0===(n=s)&&(n=1/0),c||((c=document.createElement("textarea")).setAttribute("tabindex","-1"),c.setAttribute("aria-hidden","true"),l(c)),null===c.parentNode&&document.body.appendChild(c),d=t.paddingSize,m=t.borderSize,f=(p=t.sizingStyle).boxSizing,Object.keys(p).forEach(function(e){c.style[e]=p[e]}),l(c),c.value=a,g=u(c,t),c.value=a,g=u(c,t),c.value="x",w=(x=c.scrollHeight-d)*i,"border-box"===f&&(w=w+d+m),g=Math.max(w,g),b=x*n,"border-box"===f&&(b=b+d+m),[g=Math.min(b,g),x]),j=y[0],k=y[1];T.current!==j&&(T.current=j,e.style.setProperty("height",j+"px","important"),v(j,{rowHeight:k}))}};return a.useLayoutEffect(E),g(C,function(){if(!j){var e=C.current.value;requestAnimationFrame(function(){var t=C.current;t&&e!==t.value&&E()})}}),x(E),w(E),a.createElement("textarea",t({},y,{onChange:function(e){j||E(),p(e)},ref:k}))});e.s(["default",()=>v],581062)},965563,e=>{"use strict";var t,a=e.i(191788);function i(){return(i=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24"},e),t||(t=a.createElement("path",{d:"M12 19V5M5 12l7-7 7 7"})))])},93954,465028,e=>{"use strict";var t=e.i(430559),a=e.i(777616),i=e.i(99354);let r=async e=>{let{file:r,destination:s,type:n="image",onUploadProgress:o,createPresignedUrl:l}=e,c=null,u=null;if(("image"===n||"video"===n)&&r.size>5e7)throw new a.TranslatedError(e=>e({defaultMessage:"Oops! This file is larger than our 50 MB limit. Try choosing a smaller file or compressing this one first.",id:"twQnYA"}));if("image"===n){let e=URL.createObjectURL(r);try{if(await (0,i.isAvifImage)(r))throw new a.TranslatedError(e=>e({defaultMessage:"You’ve picked an AVIF image which is not supported. Please choose a JPG, GIF, PNG or WebP image.",id:"VOcrVI",description:"Error message shown when an AVIF image is uploaded"}));let t=await (0,i.getImageDimensions)({url:e});if(t.width>1e4||t.height>1e4)throw new a.TranslatedError(e=>e({defaultMessage:"This image’s too big. We can accept images up to 10,000 × 10,000 pixels. Please try resizing it.",id:"Q+YlDE"}));c=t.height,u=t.width}finally{URL.revokeObjectURL(e)}}let{api_id:d,upload_url:m,file_url:p}=await l({content_type:r.type,destination:s});return await t.default.put(m,r,{headers:{"Content-Type":r.type},onUploadProgress:o}),{api_id:d,file_url:p,image_height:c,image_width:u}};e.s(["uploadFileToS3",0,r],93954);var s=e.i(348688);let n=async e=>{let{content_type:t,destination:a}=e,{api_id:i,upload_url:r,file_url:n}=await s.APIClient.post("/cdn/create-presigned-url",{content_type:t,destination:a});return{api_id:i,upload_url:r,file_url:n}};e.s(["createPresignedUrl",0,n],465028)},317176,(e,t,a)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},910432,(e,t,a)=>{"use strict";var i=e.r(317176);function r(){}function s(){}s.resetWarningCache=r,t.exports=function(){function e(e,t,a,r,s,n){if(n!==i){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return a.PropTypes=a,a}},691567,(e,t,a)=>{t.exports=e.r(910432)()},245567,e=>{"use strict";var t=e.i(191788),a=e.i(217190),i=e.i(86316),r=e.i(437714),s=e.i(82602),n=e.i(826420);e.s(["useImageDropzone",0,e=>{let{multiple:o=!1,onDrop:l,allowSvg:c=!1}=e,u=(0,i.useT)(),d=(0,n.useBoolean)(),m=(0,t.useMemo)(()=>{let e={...r.ACCEPT_IMAGE_PROP};return c&&(e["image/svg+xml"]=[".svg"]),e},[c]),p=(0,a.useDropzone)({accept:m,multiple:o,onDrop:async e=>{if(0!==e.length){if(e.some(e=>e.type.startsWith("image/svg"))&&!c)return void(0,s.toastError)(u({defaultMessage:"We don’t support SVG images.",id:"sT1poI",description:"Error message for SVG image upload."}));d.setTrue();try{await l(e)}finally{d.setFalse()}}},noKeyboard:!0});return{uploading:d.value,...p}}])},875938,e=>{"use strict";var t,a=e.i(191788);function i(){return(i=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),t||(t=a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.04 4.63c0-2.16-1.795-3.88-3.967-3.88C5.9.742 4.098 2.452 4.089 4.613v1.006c-1.351.46-2.339 1.703-2.339 3.199v3.041c0 1.9 1.592 3.391 3.498 3.391h5.633c1.906 0 3.498-1.492 3.498-3.39V8.817c0-1.496-.988-2.739-2.339-3.2zm-1.403.797V4.63c0-1.35-1.13-2.477-2.566-2.477h-.003c-1.434-.006-2.57 1.115-2.576 2.464v.81zM3.153 8.818c0-1.072.912-1.987 2.095-1.987h5.633c1.183 0 2.095.915 2.095 1.987v3.041c0 1.073-.912 1.988-2.095 1.988H5.248c-1.183 0-2.095-.915-2.095-1.988z"})))])},572721,e=>{"use strict";var t,a=e.i(191788);function i(){return(i=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),t||(t=a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.62 1.5h.76c.92 0 1.521.001 1.98.039.44.036.616.098.712.146.32.163.58.423.743.743.048.096.11.272.146.712C12 3.6 12 4.2 12 5.12v5.76c0 .92-.001 1.521-.039 1.98-.036.44-.098.616-.146.712a1.7 1.7 0 0 1-.743.743c-.096.048-.271.11-.712.146-.459.038-1.06.039-1.98.039h-.76c-.92 0-1.521-.001-1.98-.039-.44-.036-.616-.098-.712-.146a1.7 1.7 0 0 1-.743-.743c-.048-.096-.11-.271-.146-.712C4 12.4 4 11.8 4 10.88V5.12c0-.92.001-1.521.039-1.98.036-.44.098-.616.146-.712a1.7 1.7 0 0 1 .743-.743c.096-.048.272-.11.712-.146C6.1 1.5 6.7 1.5 7.62 1.5M2.5 5.12c0-1.792 0-2.688.349-3.373A3.2 3.2 0 0 1 4.247.35C4.932 0 5.827 0 7.62 0h.76c1.792 0 2.688 0 3.373.349a3.2 3.2 0 0 1 1.398 1.398c.349.685.349 1.58.349 3.373v5.76c0 1.792 0 2.688-.349 3.373a3.2 3.2 0 0 1-1.398 1.398C11.068 16 10.173 16 8.38 16h-.76c-1.792 0-2.688 0-3.373-.349a3.2 3.2 0 0 1-1.398-1.398c-.349-.685-.349-1.58-.349-3.373zM7 2.75a.75.75 0 0 0 0 1.5h2a.75.75 0 0 0 0-1.5z"})))])},30071,853520,196258,e=>{"use strict";var t,a,i,r,s=e.i(191788);function n(){return(n=Object.assign.bind()).apply(null,arguments)}function o(){return(o=Object.assign.bind()).apply(null,arguments)}function l(){return(l=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>s.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"},e),t||(t=s.createElement("path",{fill:"currentColor",d:"M12.95 3.736c.39 0 .729 0 1.006.022.286.024.573.075.85.216.411.21.746.545.956.956.14.277.193.565.216.85.023.278.023.617.023 1.007v4.983c0 .39 0 .729-.023 1.006a2.2 2.2 0 0 1-.216.85c-.21.412-.545.747-.956.957-.277.14-.564.192-.85.215-.277.023-.616.023-1.006.023h-1.629c-.39 0-.728 0-1.006-.023a2.2 2.2 0 0 1-.85-.216 2.2 2.2 0 0 1-.956-.956 2.2 2.2 0 0 1-.216-.85c-.023-.277-.022-.616-.022-1.006V6.787c0-.39 0-.729.022-1.006.023-.286.075-.574.216-.85a2.2 2.2 0 0 1 .956-.957c.277-.141.565-.192.85-.216.278-.022.616-.022 1.006-.022zM10.28 1.1c.731 0 1.243-.007 1.788.165a.75.75 0 0 1-.453 1.43c-.28-.087-.535-.095-1.336-.095H3.413c-.787 0-1.047.007-1.321.09a.87.87 0 0 0-.5.5c-.084.275-.091.536-.091 1.322v3.819c0 .786.007 1.047.09 1.32.09.233.275.415.508.503.271.082.534.089 1.314.089h2.94a.75.75 0 0 1 .75.75v3.047a.75.75 0 0 1-.75.75H3.904a.75.75 0 0 1 0-1.5h1.699v-1.547h-2.19c-.732 0-1.243.007-1.788-.165l-.031-.01A2.37 2.37 0 0 1 .177 10.15l-.011-.03C-.006 9.574.001 9.062.001 8.33V4.513c0-.731-.007-1.243.165-1.788l.01-.031a2.37 2.37 0 0 1 1.449-1.428C2.17 1.093 2.681 1.1 3.413 1.1zm1.041 4.136c-.415 0-.681 0-.883.017-.193.016-.261.043-.292.058a.7.7 0 0 0-.3.3c-.016.032-.042.1-.058.292-.016.202-.017.469-.017.884v4.983c0 .415 0 .682.017.884.016.192.042.26.058.29a.7.7 0 0 0 .3.302c.031.015.1.041.291.057.203.017.47.018.884.018h1.63c.414 0 .68-.001.882-.018.192-.016.261-.042.292-.057a.7.7 0 0 0 .3-.301c.016-.03.043-.099.058-.291.017-.202.018-.47.018-.884V6.787c0-.415-.001-.682-.018-.884-.015-.192-.042-.26-.057-.291a.7.7 0 0 0-.301-.301c-.03-.015-.099-.042-.292-.058a12 12 0 0 0-.883-.017zM12.886 6a.5.5 0 1 1 0 1h-1.5a.5.5 0 0 1 0-1z"})))],30071),e.s(["default",0,e=>s.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),a||(a=s.createElement("path",{fill:"currentColor",d:"M13.871.644a.75.75 0 0 1 1.059 1.059c-.166.165-.112.448.079.584a2.357 2.357 0 0 1 .3 3.588l-.38.378c-.92.92-2.412.92-3.333 0-.262-.261-.392-.392-.471-.422a.32.32 0 0 0-.276 0c-.078.03-.175.127-.369.32l-1.87 1.87c-.132.133-.198.199-.228.27a.36.36 0 0 0-.028.196c.01.076.06.17.164.356A4.541 4.541 0 1 1 6.73 7.056c.186.102.28.154.356.163a.37.37 0 0 0 .197-.028c.07-.03.136-.096.268-.228zM4.541 7.99a3.045 3.045 0 1 0 0 6.089 3.045 3.045 0 1 0 0-6.09zm9.71-4.391a.86.86 0 0 0-1.218 0l-.378.379a.862.862 0 0 0 1.216 1.218l.38-.38a.86.86 0 0 0 0-1.217"})))],853520),e.s(["default",0,e=>s.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",viewBox:"0 0 32 32"},e),i||(i=s.createElement("path",{fill:"currentColor",fillOpacity:.133,fillRule:"nonzero",d:"M7.5 6.2c0-1.12 0-1.68.218-2.108a2 2 0 0 1 .874-.874C9.02 3 9.58 3 10.7 3h11.6c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.428.218.988.218 2.108v15.6c0 1.12 0 1.68-.218 2.108a2 2 0 0 1-.874.874C23.98 25 23.42 25 22.3 25H10.7c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C7.5 23.48 7.5 22.92 7.5 21.8z"})),r||(r=s.createElement("path",{fill:"currentColor",d:"M14.357 1h4.286l2.666.058c.729.06 1.369.185 1.961.487a5 5 0 0 1 2.185 2.185c.302.592.428 1.232.487 1.961C26 6.399 26 7.273 26 8.357v15.286l-.058 2.666c-.06.729-.185 1.369-.487 1.961a5 5 0 0 1-2.185 2.185c-.592.302-1.233.428-1.961.487-.708.058-1.582.058-2.666.058h-4.286c-1.084 0-1.958 0-2.666-.058-.729-.06-1.369-.185-1.961-.487a5 5 0 0 1-2.185-2.185c-.302-.592-.428-1.232-.487-1.961C7 25.601 7 24.727 7 23.643V8.357l.058-2.666c.06-.729.185-1.369.487-1.961A5 5 0 0 1 9.73 1.545c.592-.302 1.232-.428 1.961-.487C12.399 1 13.273 1 14.357 1m-2.503 2.051c-.605.049-.953.142-1.216.276a3 3 0 0 0-1.311 1.311c-.134.263-.226.611-.276 1.216C9.001 6.471 9 7.263 9 8.4v15.2l.051 2.546c.049.605.142.953.276 1.216a3 3 0 0 0 1.311 1.311c.263.134.611.226 1.216.276.617.05 1.409.051 2.546.051h4.2l2.546-.051c.605-.049.953-.142 1.216-.276a3 3 0 0 0 1.311-1.311c.134-.263.226-.611.276-1.216.05-.617.051-1.409.051-2.546V8.4l-.051-2.546c-.049-.605-.142-.953-.276-1.216a3 3 0 0 0-1.311-1.311c-.263-.134-.611-.226-1.216-.276l-.644-.034c-.17-.005-.255-.008-.333.005a.81.81 0 0 0-.653.632c-.015.078-.015.168-.015.349l-.015.351a.8.8 0 0 1-.631.631C18.778 5 18.686 5 18.503 5h-4.006c-.183 0-.275 0-.351-.015a.8.8 0 0 1-.631-.631c-.015-.076-.015-.168-.015-.351l-.015-.349a.81.81 0 0 0-.653-.632c-.078-.013-.163-.01-.333-.005zM13.5 26a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2z"})))],196258)},87626,e=>{"use strict";var t,a=e.i(191788);function i(){return(i=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},e),t||(t=a.createElement("g",{fill:"currentColor",fillRule:"evenodd"},a.createElement("path",{fillOpacity:.133,fillRule:"nonzero",d:"M9 9a7 7 0 0 1 14 0s-1 2-7 2-7-2-7-2m15.875 7.375a1.945 1.945 0 1 1 2.75 2.75l-.952.952-5.353 5.353a1.945 1.945 0 0 1-2.75-2.75l5.353-5.353z"}),a.createElement("path",{d:"M16 1c-4.552 0-8 3.448-8 8 0 2.3.882 3.76 1.7 4.85.162.216.306.399.435.564.216.275.394.5.555.752.229.356.31.602.31.834 0 .87-.356 1.402-.992 1.861-.656.474-1.531.813-2.588 1.222l-.282.11c-1.11.431-2.395.953-3.388 1.818C2.697 21.928 2 23.2 2 25c0 1.336.6 2.409 1.529 3.221.901.789 2.116 1.341 3.434 1.737C9.603 30.75 12.967 31 16 31a1 1 0 1 0 0-2c-2.967 0-6.102-.25-8.463-.958-1.182-.354-2.092-.802-2.691-1.326C4.274 26.216 4 25.664 4 25c0-1.2.428-1.928 1.063-2.48.694-.604 1.658-1.02 2.8-1.463l.316-.122c.996-.384 2.121-.818 3-1.452C12.231 18.723 13 17.63 13 16c0-.768-.294-1.397-.628-1.916-.209-.325-.487-.681-.744-1.01q-.178-.224-.328-.424C10.618 11.74 10 10.7 10 9c0-3.448 2.552-6 6-6s6 2.552 6 6c0 1.083-.251 1.886-.589 2.543a1 1 0 1 0 1.78.914C23.66 11.54 24 10.424 24 9c0-4.552-3.448-8-8-8m12.332 15.668a2.945 2.945 0 0 0-4.164 0l-.952.952-5.354 5.353a2.944 2.944 0 1 0 4.165 4.165l5.353-5.354.952-.952a2.945 2.945 0 0 0 0-4.164M19.945 26a.945.945 0 0 1-.668-1.612l4.646-4.647 1.336 1.336-4.647 4.646a.94.94 0 0 1-.667.277m6.728-6.337-1.336-1.336.245-.245a.945.945 0 1 1 1.336 1.336zM25.5 26a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2z"}))))])},101448,e=>{"use strict";var t=e.i(87626);e.s(["UserEditModalIcon",()=>t.default])},532127,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(272043),r=e.i(538865),s=e.i(965563),n=e.i(56989),o=e.i(245567),l=e.i(93954),c=e.i(715512),u=e.i(374426);let d=e=>{let{size:r,image:c,onImage:d,shape:m,destination:p,createPresignedUrl:h,allowTransparency:f}=e,{uploading:g,getRootProps:x,getInputProps:w,isDragActive:b}=(0,o.useImageDropzone)({onDrop:async e=>{let[t]=e;if(!t)return;let{file_url:a}=await (0,l.uploadFileToS3)({file:t,destination:p,createPresignedUrl:h});d({image:a})}}),v={width:r,height:r};return(0,t.jsxs)("div",{...x(),style:v,className:"jsx-7462ea3c0acff292 avatar-wrapper",children:[(0,t.jsx)("input",{...w(),className:"jsx-7462ea3c0acff292"}),(0,t.jsx)("div",{className:"jsx-7462ea3c0acff292 "+((0,i.default)("upload-icon animated flex-center-center",{active:b,uploading:g},m)||""),children:g?(0,t.jsx)(u.Spinner,{}):(0,t.jsx)(s.default,{})}),c?(0,t.jsx)("div",{style:{backgroundImage:'url("'.concat((0,n.getImageUrl)({url:c,noTransparency:!f,...v}),'")'),...v},className:"jsx-7462ea3c0acff292 "+((0,i.default)("avatar",m)||"")}):(0,t.jsx)("div",{style:v,className:"jsx-7462ea3c0acff292 "+((0,i.default)("avatar",m)||"")}),(0,t.jsx)(a.default,{id:"7462ea3c0acff292",children:".avatar-wrapper.jsx-7462ea3c0acff292{cursor:pointer;position:relative}.avatar-wrapper.jsx-7462ea3c0acff292:hover .upload-icon.jsx-7462ea3c0acff292{background-color:var(--brand-content-color);color:#fff}.avatar-wrapper.jsx-7462ea3c0acff292 .avatar.jsx-7462ea3c0acff292{background-color:var(--opacity-light)}.avatar-wrapper.jsx-7462ea3c0acff292 .upload-icon.jsx-7462ea3c0acff292{color:var(--primary-bg-color);background-color:var(--primary-color);border:2px solid var(--primary-bg-color);transform-origin:50%;border-radius:100%;width:35%;min-width:24px;height:35%;min-height:24px;position:absolute;bottom:-1px;right:-1px;transform:rotate(.001deg)}.avatar-wrapper.jsx-7462ea3c0acff292 .upload-icon.jsx-7462ea3c0acff292 svg{width:65%;height:65%}.avatar-wrapper.jsx-7462ea3c0acff292 .upload-icon.jsx-7462ea3c0acff292 svg:not(.spinner){stroke-width:2.5px}.avatar-wrapper.jsx-7462ea3c0acff292 .upload-icon.active.jsx-7462ea3c0acff292{color:#fff;background-color:var(--green-content);transform:scale(1.25)}.avatar-wrapper.jsx-7462ea3c0acff292:focus,.avatar-wrapper.jsx-7462ea3c0acff292 input:active,.avatar-wrapper.jsx-7462ea3c0acff292 input:focus{outline:none}.avatar-wrapper.jsx-7462ea3c0acff292 .upload-icon.jsx-7462ea3c0acff292{background-position:50%;background-size:cover;justify-content:center;align-items:center;display:flex}.avatar-wrapper.jsx-7462ea3c0acff292 .upload-icon.circle.jsx-7462ea3c0acff292{border-radius:100%}.avatar-wrapper.jsx-7462ea3c0acff292 .upload-icon.square.jsx-7462ea3c0acff292{border-radius:var(--border-radius)}.avatar-wrapper.jsx-7462ea3c0acff292 .avatar.jsx-7462ea3c0acff292{background-position:50%;background-size:cover;justify-content:center;align-items:center;display:flex}.avatar-wrapper.jsx-7462ea3c0acff292 .avatar.circle.jsx-7462ea3c0acff292{border-radius:100%}.avatar-wrapper.jsx-7462ea3c0acff292 .avatar.square.jsx-7462ea3c0acff292{border-radius:var(--border-radius)}"})]})};e.s(["AvatarUploadField",0,e=>{let{name:a,label:i,className:s,shape:n="circle",size:o,style:l,destination:u,createPresignedUrl:m,allowTransparency:p}=e,{values:h,setFieldValue:f}=(0,r.useFormikContext)(),g=(0,r.getIn)(h,a);return(0,t.jsxs)("div",{className:s,style:l,children:[i&&(0,t.jsx)(c.LuxInputLabel,{text:i}),(0,t.jsx)(d,{size:o,image:g,shape:n,onImage:e=>{let{image:t}=e;return f(a,t)},destination:u,createPresignedUrl:m,allowTransparency:p})]})}])},781706,e=>{"use strict";var t=e.i(391398),a=e.i(203828),i=e.i(191788);let r=(0,i.createContext)({frontAuthSecret:null});e.s(["FrontAuthProvider",0,e=>{let{children:s}=e,n=(0,a.useRouter)(),o=(0,i.useRef)(n.query.auth_secret);return(0,t.jsx)(r.Provider,{value:{frontAuthSecret:"string"==typeof o.current?o.current:null},children:s})},"useFrontAuthSecret",0,()=>{var e;return null!=(e=(0,i.useContext)(r).frontAuthSecret)?e:null}])},532551,e=>{"use strict";var t=e.i(875938);e.s(["Lock16Icon",()=>t.default])},231436,e=>{"use strict";var t=e.i(391398),a=e.i(194182),i=e.i(191788),r=e.i(427133),s=e.i(992354),n=e.i(106946),o=e.i(672183),l=e.i(602533),c=e.i(442609),u=e.i(243394),d=e.i(271416),m=e.i(581455);let p=i.default.createContext(null),h=(0,l.createUseAppContext)(p),f=e=>{let{onHide:a,show:i,onComplete:n}=e;return(0,t.jsx)(s.LuxModalContainer,{onHide:a,variant:"lux-alert",children:i&&(0,t.jsxs)("div",{children:[(0,t.jsx)(r.LuxAlertTop,{icon:(0,t.jsx)(c.default,{}),title:"Verifying Your Browser",desc:"We’re doing a quick check of your browser to keep Luma safe."}),(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsx)(g,{onComplete:n})})]})})},g=e=>{let{onComplete:r}=e,s=(0,d.useRandomSeed)(),n=(0,i.useId)(),l=u.SeededRandom.val("captcha"+s+n).toString().slice(2),c="captcha-".concat(l),p=(0,i.useCallback)(()=>{window.turnstile&&window.turnstile.render("#"+c,{sitekey:m.config.CLOUDFLARE_TURNSTILE_KEY,callback:function(e){r(e)}})},[r,c]);return(0,o.useOnMount)(()=>{p()}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{id:c}),(0,t.jsx)(a.default,{src:"https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",async:!0,onLoad:p})]})};e.s(["CaptchaProvider",0,e=>{let{children:a}=e,r=(0,n.useModalState)(),s=(0,i.useRef)(null),o=(0,i.useRef)(null),l=(0,i.useCallback)(async()=>{if(r.show)throw Error("The captcha modal is already open.");return new Promise((e,t)=>{s.current=e,o.current=t,r.onShow()})},[r]);return(0,t.jsxs)(p.Provider,{value:{waitForTurnstile:l},children:[a,(0,t.jsx)(f,{show:r.show,onHide:()=>{var e;null==(e=o.current)||e.call(o),r.onHide()},onComplete:e=>{var t;null==(t=s.current)||t.call(s,e),r.onHide()}})]})},"useCaptchaContext",0,h])},761619,e=>{"use strict";var t=e.i(391398),a=e.i(191788),i=e.i(602533),r=e.i(509699),s=e.i(361941),n=e.i(383294);let o=a.default.createContext({country_code:n.FALLBACK_COUNTRY_CODE,currency:s.Currency.USD,coordinate:null,sms_channel:"sms"}),l=(0,i.createUseAppContext)(o);e.s(["CountryProvider",0,e=>{let{countryCode:i,latitude:n,longitude:l,children:c}=e,[u]=(0,a.useState)(i),[d]=(0,a.useState)(Number(n)||null),[m]=(0,a.useState)(Number(l)||null),p=r.CountryToInfo[u],h=null==p?void 0:p.currency,f=(0,a.useMemo)(()=>d&&m?{latitude:d,longitude:m}:null,[d,m]);return(0,t.jsx)(o.Provider,{value:{country_code:u||"US",currency:h||s.Currency.USD,coordinate:f,sms_channel:(null==p?void 0:p.sms_support)==="whatsapp-only"?"whatsapp":"sms"},children:c})},"useCountry",0,l])},897983,e=>{"use strict";var t,a,i=e.i(191788);function r(){return(r=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>i.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32"},e),t||(t=i.createElement("path",{fill:"currentColor",fillOpacity:.133,d:"m3.431 25.52-1.413-9.894a1 1 0 0 1-.004-.252l.947-8.525a1 1 0 0 1 .287-.597l.415-.415a1 1 0 0 1 1.522.129L9.22 11.65q.072.1.165.18l5.945 5.099a1 1 0 0 0 1.279.02l5.681-4.582a1 1 0 0 0 .165-.168l4.52-5.87a1 1 0 0 1 1.707.204l.257.579q.06.136.079.286L30 15.5v6.997a1 1 0 0 1-.12.476l-1.421 2.625a1 1 0 0 1-.363.38l-2.788 1.684a1 1 0 0 1-.51.144l-9.017.066-8.986-.11a1 1 0 0 1-.489-.135L3.92 26.243a1 1 0 0 1-.489-.723"})),a||(a=i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.664 3.4h6.672c2.396 0 4.296 0 5.783.2 1.532.206 2.775.64 3.756 1.621.98.98 1.415 2.224 1.62 3.756.2 1.487.2 3.387.2 5.783v2.758c0 2.396 0 4.296-.2 5.784-.205 1.531-.64 2.774-1.62 3.755s-2.224 1.415-3.756 1.621c-1.487.2-3.387.2-5.783.2h-6.672c-2.396 0-4.296 0-5.783-.2-1.532-.206-2.775-.64-3.756-1.62-.98-.982-1.415-2.225-1.62-3.756-.2-1.488-.2-3.388-.2-5.783V14.76c0-2.396 0-4.296.2-5.783.205-1.532.64-2.775 1.62-3.756S5.349 3.806 6.881 3.6c1.487-.2 3.387-.2 5.783-.2M7.148 5.582a7 7 0 0 0-1.399.314l8.194 9.466c.675.768 1.421 1.082 2.095 1.082.673 0 1.418-.313 2.093-1.08l8.124-9.466a7 7 0 0 0-1.402-.316c-1.339-.18-3.104-.182-5.592-.182h-6.522c-2.488 0-4.253.002-5.591.182M3.487 9.243c.13-.969.344-1.632.668-2.133l6.096 7.042-6.933 6.041a173 173 0 0 1-.014-2.75v-2.608c0-2.488.003-4.253.183-5.592m-.04 13.464q.018.168.04.328c.176 1.31.505 2.06 1.053 2.608.547.547 1.298.877 2.608 1.053 1.338.18 3.103.182 5.591.182h6.522c2.488 0 4.253-.002 5.592-.182 1.31-.176 2.06-.506 2.607-1.053s.877-1.298 1.054-2.608l.04-.328a1 1 0 0 1-.171-.122l-7.866-6.93-.872 1.016-.007.009c-.991 1.128-2.26 1.764-3.6 1.764s-2.61-.636-3.6-1.764l-.005-.006-.874-1.01-7.945 6.925a1 1 0 0 1-.167.118m18.372-8.57 6.863 6.047c.013-.804.014-1.71.014-2.74v-2.61c0-2.487-.002-4.252-.182-5.59-.13-.967-.344-1.63-.667-2.13l-6.028 7.024Z",clipRule:"evenodd"})))])},900511,e=>{"use strict";var t=e.i(398050);let a=async e=>{let a;a="number"==typeof e?e:t.Duration.fromDurationLike(e).as("milliseconds"),await new Promise(e=>{setTimeout(e,a)})};e.s(["sleep",0,a])},977470,692303,e=>{"use strict";var t,a,i,r,s,n=e.i(851800),o=e.i(900511);(a=(t=r||(r={})).Status||(t.Status={})).Pending="pending",a.Success="success",a.Failure="failure",a.NotFound="not-found",e.s(["Task",()=>r],692303);var l=e.i(348688);(i=s||(s={})).wait=async e=>{let{task_id:t}=e;t&&await i.poll({func:async()=>{let{status:e}=await l.APIClient.get("/task/get-status",{task_id:t});return e===r.Status.Success?{status:e,data:null}:{status:e}}})},i.poll=async e=>{let{func:t}=e,a=0;for(;a<1200;){let e=await t();if(e.status===r.Status.Success)return e.data;if(e.status===r.Status.Failure)throw Error((0,n.getGlobalT)()({defaultMessage:"Something went wrong. Please try again.",id:"AOeRzm",description:"Error message when a background task fails"}));await (0,o.sleep)(1e3),a++}throw Error((0,n.getGlobalT)()({defaultMessage:"This is taking longer than expected. Please refresh and try again.",id:"iGZlK0",description:"Error message when polling for task result times out"}))},e.s(["TaskUtils",()=>s],977470)},961455,e=>{"use strict";var t,a=e.i(191788);function i(){return(i=Object.assign.bind()).apply(null,arguments)}e.s(["default",0,e=>a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},e),t||(t=a.createElement("path",{fill:"currentColor",d:"M500 261.8C500 403.3 403.1 504 260 504 122.8 504 12 393.2 12 256S122.8 8 260 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C270.5 52.6 106.3 116.6 106.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H260v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4"})))])},551523,419025,e=>{"use strict";var t,a,i,r=e.i(391398),s=e.i(191788),n=e.i(424017),o=e.i(826420),l=e.i(988124),c=e.i(961455);(a=(t=i||(i={})).ClientType||(t.ClientType={})).Web="web",a.LumaIos="luma-ios",a.LumaCheckInIos="luma-check-in-ios",a.LumaAndroid="luma-android",e.s(["GoogleTypes",()=>i],419025);var u=e.i(829900),d=e.i(581254),m=e.i(581455),p=e.i(348688),h=e.i(977470);let f="".concat(m.config.WEB_URL,"/google"),g="google-popup",x=e=>{let{url:t,onAuth:a,authLoading:i}=e,{refreshUser:r}=(0,u.useUserContext)();return(0,s.useCallback)(()=>{if(!t)return;async function e(t){if("object"==typeof t.data&&"source"in t.data&&t.data.source===g)if(window.removeEventListener("message",e),a){null==i||i.setTrue();try{await a(t.data.resp,"google")}finally{null==i||i.setFalse()}}else await r()}window.addEventListener("message",e);let s="luma-popup";window.name===s?location.href=t:window.open(t,s,"width=600,height=650")},[t,r,a,i])},w=async e=>{let{refresh:t,t:a}=e;await (0,l.callWithToast)(async()=>{let{task_id:e}=await p.APIClient.post("/google/import-contacts");await h.TaskUtils.wait({task_id:e}),t()},{loading:a({defaultMessage:"Importing contacts...",id:"WAZHqh"}),error:a({defaultMessage:"There was an issue importing your contacts.",id:"p6m7/G"})})};e.s(["GOOGLE_REDIRECT_URI",0,f,"GooglePopupId",0,g,"GoogleSignInButton",0,e=>{let{onAuth:t,include_contacts_scope:a,include_google_meet_scope:s,...l}=e,u=(0,o.useBoolean)(),{data:m}=(0,d.useAPI)({path:"/google/get-auth-url",args:{redirect_uri:f,client_type:i.ClientType.Web,include_contacts_scope:a,include_google_meet_scope:s},swrConfig:{revalidateOnFocus:!1}}),p=x({url:null==m?void 0:m.url,onAuth:t,authLoading:u});return(0,r.jsx)(n.LuxButton,{color:"google",icon:(0,r.jsx)(c.default,{}),disabled:!m,onClick:p,loading:u.value,...l})},"importContactsFromGoogle",0,w,"useSignInWithGoogle",0,x],551523)},172965,409281,932721,580417,e=>{"use strict";function t(e){let t=new Uint8Array(e),a="";for(let e of t)a+=String.fromCharCode(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function a(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),a=(4-t.length%4)%4,i=atob(t.padEnd(t.length+a,"=")),r=new ArrayBuffer(i.length),s=new Uint8Array(r);for(let e=0;e<i.length;e++)s[e]=i.charCodeAt(e);return r}function i(){var e;return r.stubThis((null==(e=globalThis)?void 0:e.PublicKeyCredential)!==void 0&&"function"==typeof globalThis.PublicKeyCredential)}let r={stubThis:e=>e};function s(e){let{id:t}=e;return{...e,id:a(t),transports:e.transports}}function n(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}e.s(["browserSupportsWebAuthn",()=>i],409281);class o extends Error{constructor({message:e,code:t,cause:a,name:i}){super(e,{cause:a}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=null!=i?i:a.name,this.code=t}}let l=new class{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}constructor(){Object.defineProperty(this,"controller",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}},c=["cross-platform","platform"];function u(e){if(e&&!(0>c.indexOf(e)))return e}async function d(e){var r;let c,d,p,h,f;!e.optionsJSON&&e.challenge&&(console.warn("startRegistration() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});let{optionsJSON:g,useAutoRegister:x=!1}=e;if(!i())throw Error("WebAuthn is not supported in this browser");let w={...g,challenge:a(g.challenge),user:{...g.user,id:a(g.user.id)},excludeCredentials:null==(r=g.excludeCredentials)?void 0:r.map(s)},b={};x&&(b.mediation="conditional"),b.publicKey=w,b.signal=l.createNewAbortSignal();try{c=await navigator.credentials.create(b)}catch(e){throw function(e){let{error:t,options:a}=e,{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(a.signal instanceof AbortSignal)return new o({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("ConstraintError"===t.name){var r,s,l;if((null==(r=i.authenticatorSelection)?void 0:r.requireResidentKey)===!0)return new o({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if("conditional"===a.mediation&&(null==(s=i.authenticatorSelection)?void 0:s.userVerification)==="required")return new o({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if((null==(l=i.authenticatorSelection)?void 0:l.userVerification)==="required")return new o({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else if("InvalidStateError"===t.name)return new o({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});else if("NotAllowedError"===t.name)return new o({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});else if("NotSupportedError"===t.name)return new o(0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});else if("SecurityError"===t.name){let e=globalThis.location.hostname;if(!n(e))return new o({message:"".concat(globalThis.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rp.id!==e)return new o({message:'The RP ID "'.concat(i.rp.id,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("TypeError"===t.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new o({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if("UnknownError"===t.name)return new o({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t});return t}({error:e,options:b})}if(!c)throw Error("Registration was not completed");let{id:v,rawId:y,response:j,type:C}=c;if("function"==typeof j.getTransports&&(p=j.getTransports()),"function"==typeof j.getPublicKeyAlgorithm)try{h=j.getPublicKeyAlgorithm()}catch(e){m("getPublicKeyAlgorithm()",e)}if("function"==typeof j.getPublicKey)try{let e=j.getPublicKey();null!==e&&(f=t(e))}catch(e){m("getPublicKey()",e)}if("function"==typeof j.getAuthenticatorData)try{d=t(j.getAuthenticatorData())}catch(e){m("getAuthenticatorData()",e)}return{id:v,rawId:t(y),response:{attestationObject:t(j.attestationObject),clientDataJSON:t(j.clientDataJSON),transports:p,publicKeyAlgorithm:h,publicKey:f,authenticatorData:d},type:C,clientExtensionResults:c.getClientExtensionResults(),authenticatorAttachment:u(c.authenticatorAttachment)}}function m(e,t){console.warn("The browser extension that intercepted this WebAuthn API call incorrectly implemented ".concat(e,". You should report this error to them.\n"),t)}let p=e=>e;async function h(e){var r,c;let d,m,h;!e.optionsJSON&&e.challenge&&(console.warn("startAuthentication() was not called correctly. It will try to continue with the provided options, but this call should be refactored to use the expected call structure instead. See https://simplewebauthn.dev/docs/packages/browser#typeerror-cannot-read-properties-of-undefined-reading-challenge for more information."),e={optionsJSON:e});let{optionsJSON:f,useBrowserAutofill:g=!1,verifyBrowserAutofillInput:x=!0}=e;if(!i())throw Error("WebAuthn is not supported in this browser");(null==(r=f.allowCredentials)?void 0:r.length)!==0&&(d=null==(c=f.allowCredentials)?void 0:c.map(s));let w={...f,challenge:a(f.challenge),allowCredentials:d},b={};if(g){if(!await function(){if(!i())return p(new Promise(e=>e(!1)));let e=globalThis.PublicKeyCredential;return(null==e?void 0:e.isConditionalMediationAvailable)===void 0?p(new Promise(e=>e(!1))):p(e.isConditionalMediationAvailable())}())throw Error("Browser does not support WebAuthn autofill");if(document.querySelectorAll("input[autocomplete$='webauthn']").length<1&&x)throw Error('No <input> with "webauthn" as the only or last value in its `autocomplete` attribute was detected');b.mediation="conditional",w.allowCredentials=[]}b.publicKey=w,b.signal=l.createNewAbortSignal();try{m=await navigator.credentials.get(b)}catch(e){throw function(e){let{error:t,options:a}=e,{publicKey:i}=a;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===t.name){if(a.signal instanceof AbortSignal)return new o({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if("NotAllowedError"===t.name)return new o({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});else if("SecurityError"===t.name){let e=globalThis.location.hostname;if(!n(e))return new o({message:"".concat(globalThis.location.hostname," is an invalid domain"),code:"ERROR_INVALID_DOMAIN",cause:t});if(i.rpId!==e)return new o({message:'The RP ID "'.concat(i.rpId,'" is invalid for this domain'),code:"ERROR_INVALID_RP_ID",cause:t})}else if("UnknownError"===t.name)return new o({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t});return t}({error:e,options:b})}if(!m)throw Error("Authentication was not completed");let{id:v,rawId:y,response:j,type:C}=m;return j.userHandle&&(h=t(j.userHandle)),{id:v,rawId:t(y),response:{authenticatorData:t(j.authenticatorData),clientDataJSON:t(j.clientDataJSON),signature:t(j.signature),userHandle:h},type:C,clientExtensionResults:m.getClientExtensionResults(),authenticatorAttachment:u(m.authenticatorAttachment)}}e.s(["startAuthentication",()=>h],932721),e.s([],580417);var f=e.i(191788),g=e.i(777616),x=e.i(348688),w=e.i(829900);e.s(["usePasskeyRegistration",0,()=>{let{waitForSudo:e}=(0,w.useUserContext)();return(0,f.useCallback)(async()=>{let t,{options_json:a}=await x.APIClient.post("/auth/passkey/request-registration-options",{},{waitForSudo:e});try{t=await d({optionsJSON:a})}catch(e){throw console.error(e),new g.TranslatedError(e=>e({defaultMessage:"Failed to add a passkey. Your device may not be supported.",id:"e8VOq8"}))}await x.APIClient.post("/auth/passkey/confirm-registration",{registration_response_json:t},{waitForSudo:e})},[e])}],172965)},808633,e=>{"use strict";var t=e.i(100595);e.s(["PasskeyBrandIcon",()=>t.default])},300662,253327,884194,343404,396863,17386,580838,879340,e=>{"use strict";var t=e.i(391398),a=e.i(538865),i=e.i(191788),r=e.i(424017),s=e.i(454657),n=e.i(715512),o=e.i(883720),l=e.i(373641),c=e.i(307292),u=e.i(988124),d=e.i(922323),m=e.i(86316),p=e.i(655794),h=e.i(348688),f=e.i(359626),g=e.i(301027),x=e.i(427133),w=e.i(767193),b=e.i(872514),v=e.i(531905),y=e.i(602533);let j=i.default.createContext({direction:"forward",setDirection:()=>null}),C=(0,y.createUseAppContext)(j);e.s(["SignInProvider",0,e=>{let{direction:a,setDirection:i,children:r}=e;return(0,t.jsx)(j.Provider,{value:{direction:a,setDirection:i},children:r})},"useSignInContext",0,C],253327);let k=()=>(0,t.jsxs)("div",{className:"jsx-521676a079322f34 icon",children:[(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",fill:"none",viewBox:"0 0 36 36",className:"jsx-521676a079322f34",children:[(0,t.jsxs)("defs",{className:"jsx-521676a079322f34",children:[(0,t.jsx)("path",{id:"welcome-door-frame",d:"M11.5 13.5C11.5 9.73 11.5 7.84 12.67 6.67C13.84 5.5 15.73 5.5 19.5 5.5C23.27 5.5 25.16 5.5 26.33 6.67C27.5 7.84 27.5 9.73 27.5 13.5C27.5 17.27 27.5 18.94 27.5 22.71C27.5 26.48 27.5 28.37 26.33 29.54C25.16 30.71 23.27 30.71 19.5 30.71C15.73 30.71 13.84 30.71 12.67 29.54C11.5 28.37 11.5 26.48 11.5 22.71C11.5 18.94 11.5 17.27 11.5 13.5Z",className:"jsx-521676a079322f34"}),(0,t.jsx)("path",{id:"welcome-arrow",d:"M2 18H7.5L3.21 13L7.5 18L3.21 23",className:"jsx-521676a079322f34",children:(0,t.jsx)("animate",{attributeName:"d",begin:"0ms",dur:"600ms",fill:"freeze",keyTimes:"0;1",calcMode:"spline",keySplines:"0.22 0.61 0.36 1",values:"M2 18H7.5L3.21 13L7.5 18L3.21 23;M2 18H13.5L9.21 13L13.5 18L9.21 23",className:"jsx-521676a079322f34"})}),(0,t.jsx)("path",{id:"welcome-door-open-animation",d:"M17.5 13.90C17.5 12.28 17.40 10.62 18.56 9.37C19.12 8.77 19.91 8.41 21.51 7.70C23.70 6.71 24.80 6.21 25.68 6.46C27.5 6.97 27.5 9.80 27.5 11.57C27.5 22.5 27.5 13 27.5 24.68C27.5 26.45 27.68 28.44 26.52 29.90C25.84 30.75 24.78 31.23 22.65 32.18C21.41 32.74 19.40 34.04 18.14 32.87C17.5 32.28 17.5 31.14 17.5 28.85C17.5 16 17.5 27.5 17.5 13.90Z",className:"jsx-521676a079322f34",children:(0,t.jsx)("animate",{attributeName:"d",begin:"0ms",dur:"600ms",fill:"freeze",keyTimes:"0;1",calcMode:"spline",keySplines:"0.22 0.61 0.36 1",values:"M11.5 13.5C11.5 9.73 11.5 7.84 12.67 6.67C13.84 5.5 15.73 5.5 19.5 5.5C23.27 5.5 25.16 5.5 26.33 6.67C27.5 7.84 27.5 9.73 27.5 13.5C27.5 17.27 27.5 18.94 27.5 22.71C27.5 26.48 27.5 28.37 26.33 29.54C25.16 30.71 23.27 30.71 19.5 30.71C15.73 30.71 13.84 30.71 12.67 29.54C11.5 28.37 11.5 26.48 11.5 22.71C11.5 18.94 11.5 17.27 11.5 13.5Z; M17.5 13.90C17.5 12.28 17.40 10.62 18.56 9.37C19.12 8.77 19.91 8.41 21.51 7.70C23.70 6.71 24.80 6.21 25.68 6.46C27.5 6.97 27.5 9.80 27.5 11.57C27.5 22.5 27.5 13 27.5 24.68C27.5 26.45 27.68 28.44 26.52 29.90C25.84 30.75 24.78 31.23 22.65 32.18C21.41 32.74 19.40 34.04 18.14 32.87C17.5 32.28 17.5 31.14 17.5 28.85C17.5 16 17.5 27.5 17.5 13.90Z",className:"jsx-521676a079322f34"})}),(0,t.jsxs)("mask",{id:"welcome-door-mask",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"36",height:"36",className:"jsx-521676a079322f34",children:[(0,t.jsx)("use",{xlinkHref:"#welcome-door-frame",fill:"none",stroke:"#fff",strokeWidth:"2",className:"jsx-521676a079322f34"}),(0,t.jsx)("use",{xlinkHref:"#welcome-arrow",fill:"none",stroke:"#000",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-521676a079322f34 mask-arrow"}),(0,t.jsx)("use",{xlinkHref:"#welcome-door-open-animation",fill:"#000",className:"jsx-521676a079322f34 mask-door"})]})]}),(0,t.jsx)("use",{xlinkHref:"#welcome-door-open-animation",fill:"currentColor",fillOpacity:".133",className:"jsx-521676a079322f34 background"}),(0,t.jsx)("use",{xlinkHref:"#welcome-door-frame",mask:"url(#welcome-door-mask)",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-521676a079322f34 door"}),(0,t.jsx)("use",{xlinkHref:"#welcome-door-open-animation",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"jsx-521676a079322f34 curve"}),(0,t.jsx)("use",{xlinkHref:"#welcome-arrow",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-521676a079322f34 arrow"})]}),(0,t.jsx)(f.default,{id:"521676a079322f34",children:".icon.jsx-521676a079322f34{width:4rem;height:4rem;color:var(--secondary-color);background:var(--opacity-light);border-radius:1000px;justify-content:center;align-items:center;display:flex;position:relative}svg.jsx-521676a079322f34{width:2.25rem;height:2.25rem}.arrow.jsx-521676a079322f34{animation:.6s ease-out forwards arrow-fade}@keyframes arrow-fade{0%{opacity:0}50%{opacity:1}}"})]}),T={active:{opacity:1,x:0,top:0},exit:e=>({x:"forward"===e?-10:10,opacity:0}),enter:e=>({x:"forward"===e?10:-10,opacity:0})},_=e=>{let{children:a,onBack:s,icon:n,title:o,subtitle:l,onHeight:c}=e,{direction:u}=C(),[d,h]=(0,w.useMeasure)(),y=(0,m.useT)();(0,i.useEffect)(()=>{h.height&&c(h.height)},[h.height]);let j={transition:b.MOTION_TRANSITION,variants:T,initial:"enter",animate:"active",exit:"exit",custom:u};return(0,t.jsxs)("div",{ref:d,className:"animated-container",style:{position:"absolute",top:0,width:"100%"},children:["door"===s?(0,t.jsx)(g.m.div,{className:"pb-3",...j,children:(0,t.jsx)(k,{})}):"none"===s?null:(0,t.jsx)(g.m.div,{className:"pb-4",...j,children:(0,t.jsx)(r.LuxButton,{onClick:s,icon:(0,t.jsx)(v.ChevronLeft16Icon,{}),color:"light",iconPlacement:"icon-only-compact",rounded:!0,size:"small",label:y(p.CT.Back)})}),(0,t.jsxs)(g.m.div,{...j,children:[n&&(0,t.jsx)(x.LuxAlertTopIcon,{icon:n,className:"mb-25"}),(0,t.jsx)(x.LuxAlertTopTitle,{title:o,desc:l,className:"mb-3"}),a,(0,t.jsx)(f.default,{id:"e53611ffaa1bb57f",children:".subtitle.jsx-e53611ffaa1bb57f{padding-top:.125rem;padding-bottom:.25rem}"})]})]})};e.s(["AuthStep",0,_],884194);var E=e.i(272043),A=e.i(374426),R=e.i(826420),M=e.i(426426);let N=e=>{let{onResend:a,successMessage:r,className:s}=e,n=(0,m.useT)(),o=(0,M.useNow)({interval:{seconds:.5}}),l=(0,i.useRef)(o.plus({seconds:60})),c=(0,R.useBoolean)(),p=Math.round(l.current.diff(o).as("seconds"));return p<=0?(0,t.jsxs)("div",{className:(0,E.default)("text-secondary-alpha fs-sm cursor-pointer flex-center gap-2",s,{disabled:c.value}),onClick:async()=>{c.setTrue(),await (0,u.callWithToast)(async()=>{await a(),l.current=o.plus({seconds:60})},{error:n({defaultMessage:"There was an issue resending the code.",id:"XKkAyj",description:"Auth flow. Error message when resending the authentication code fails."}),success:r}),c.setFalse()},children:[(0,t.jsx)("div",{children:(0,t.jsx)(d.T,{defaultMessage:"Resend Code",id:"JT7bm5",description:"Auth flow. CTA to resend authentication code."})}),c.value&&(0,t.jsx)("div",{className:"svg-xs",children:(0,t.jsx)(A.Spinner,{})})]}):(0,t.jsx)("div",{className:(0,E.default)("text-tertiary-alpha fs-sm mono-number",s),children:(0,t.jsx)(d.T,{defaultMessage:"Resend code in {seconds}s",id:"XPklVO",values:{seconds:p}})})},S=e=>{let{email:i,onRequestedCode:l,onAuthResponse:c}=e,d=(0,m.useT)();return(0,t.jsx)(a.Formik,{initialValues:{password:""},onSubmit:async e=>{let{password:t}=e;await (0,u.callWithToast)(async()=>{let e=await h.APIClient.post("/auth/sign-in-with-password",{email:i,password:t});await c(e,"email-password")},{error:d({defaultMessage:"There was an issue signing in with that password.",id:"OaR7We",description:"Error toast."})})},children:(0,t.jsxs)(a.Form,{children:[(0,t.jsxs)("div",{className:"highlight-label",children:[(0,t.jsxs)("div",{className:"flex-center spread",children:[(0,t.jsx)(n.LuxInputLabel,{text:d({defaultMessage:"Password",id:"5sg7KC"}),className:"pt-1 pb-2 mb-0"}),(0,t.jsx)(r.LuxButton,{label:d({defaultMessage:"Send Me a Code",id:"bTQHCV",description:"Auth flow. CTA for switching from password input to auth code flow."}),variant:"link",size:"small",onClick:l,color:"secondary",className:"pt-1 pb-2"})]}),(0,t.jsx)(s.LuxInputField,{autoFocus:!0,name:"password",type:"password"})]}),(0,t.jsx)(o.LuxSubmitButton,{label:d(p.CT.Continue),fullWidth:!0,className:"mt-3"})]})})},I=e=>{let{email:a,onAuthResponse:r}=e,s=(0,m.useT)(),n=(0,i.useRef)(null);return(0,t.jsxs)("div",{children:[(0,t.jsx)(l.MultiCodeInput,{ref:n,autoFocus:!0,spread:!0,onFullCode:async e=>{let t=await h.APIClient.post("/auth/email/sign-in-with-code",{email:a,code:e});await r(t,"email-code")}}),(0,t.jsxs)("div",{className:"flex-center pt-3 mt-1 spread",children:[(0,t.jsx)(c.PasteCodeButton,{onCode:async e=>{var t;await (null==(t=n.current)?void 0:t.onCode(e))}}),(0,t.jsx)(N,{successMessage:s({defaultMessage:"We resent the code to your email.",id:"K4df71"}),onResend:async()=>h.APIClient.post("/auth/email/send-sign-in-code",{email:a})})]})]})};e.s(["EmailFlow",0,e=>{let{email:a,has_password:r,onBack:s,onHeight:n,onAuthResponse:o}=e,{setDirection:l}=C(),[c,p]=(0,i.useState)({mode:r?"enter-password":"confirm-email-code"}),f=(0,m.useT)(),g=e=>{let{direction:t,...a}=e;l(t),p(a)},x={state:c,setState:g,email:a,has_password:r,onAuthResponse:o};return(0,t.jsxs)(t.Fragment,{children:["enter-password"===c.mode&&(0,t.jsx)(_,{title:f({defaultMessage:"Password",id:"nJRICg",description:"Auth flow. Modal title when entering a password."}),subtitle:f({defaultMessage:"Please enter your password to sign in to your account.",id:"QwZJpz",description:"Auth flow. Modal subtitle when entering a password."}),onBack:s,onHeight:n,children:(0,t.jsx)(S,{...x,state:c,onRequestedCode:async()=>await (0,u.callWithToast)(async()=>{await h.APIClient.post("/auth/email/send-sign-in-code",{email:a}),g({mode:"confirm-email-code",direction:"forward"})},{error:f({defaultMessage:"There was a problem sending the code to your email.",id:"B0yDtd",description:"Error toast."}),success:f({defaultMessage:"We sent a sign-in code to {email}.",id:"/w2M69"},{email:a})})})},"enter-password"),"confirm-email-code"===c.mode&&(0,t.jsx)(_,{title:f({defaultMessage:"Enter Code",id:"lbUuKB",description:"Auth flow. Modal title when entering an auth code."}),subtitle:(0,t.jsx)("span",{children:(0,t.jsx)(d.T,{defaultMessage:"Please enter the 6 digit code we sent to {email}.",id:"kpP6BN",values:{email:(0,t.jsx)("span",{className:"text-primary",children:a},"email")}})}),onBack:()=>{r?g({mode:"enter-password",direction:"backward"}):s()},onHeight:n,children:(0,t.jsx)(I,{...x,state:c})},"confirm-email-code")]})}],300662);var P=e.i(588083),O=e.i(337695),O=O,L=e.i(761619),F=e.i(231436),B=e.i(258762);e.s(["LinkPhoneFlow",0,e=>{let{onHeight:s,onNext:n}=e,{setDirection:c}=C(),[f,g]=(0,i.useState)({mode:"enter-phone"}),{country_code:x}=(0,L.useCountry)(),{waitForTurnstile:w}=(0,F.useCaptchaContext)(),b=(0,m.useT)();return(0,t.jsxs)(t.Fragment,{children:["enter-phone"===f.mode&&(0,t.jsx)(_,{onBack:"none",icon:(0,t.jsx)(O.default,{}),title:b({defaultMessage:"Link Phone Number",id:"ZH3PE9"}),subtitle:b({defaultMessage:"Link your phone number to receive reminders via SMS and find your friends.",id:"8GJjoP"}),onHeight:s,children:(0,t.jsx)(a.Formik,{initialValues:{phone_number:""},onSubmit:async e=>{let{phone_number:t}=e;await (0,u.callWithToast)(async()=>{let{sent_via:e}=await h.APIClient.post("/auth/sms/request-verification-code",{phone_number:t,ensure_phone_number_free:!0},{waitForTurnstile:w});c("forward"),g({mode:"confirm-phone",phone_number:t,sent_via:e})},{error:b({defaultMessage:"There was a problem sending a code to your phone number.",id:"fGsjWE",description:"Error toast."})})},children:(0,t.jsxs)(a.Form,{children:[(0,t.jsx)(P.LuxPhoneNumberInputField,{name:"phone_number",required:!0,label:b(p.CT.PhoneNumber),autoFocus:!0,countryCode:x,className:"mb-3"}),(0,t.jsxs)("div",{className:"flex-column gap-2",children:[(0,t.jsx)(o.LuxSubmitButton,{label:b(p.CT.Continue),fullWidth:!0}),(0,t.jsx)(r.LuxButton,{label:b(p.CT.NotNow),fullWidth:!0,variant:"solid",color:"light",onClick:n})]})]})})},"link-phone"),"confirm-phone"===f.mode&&(0,t.jsxs)(_,{onBack:()=>{c("backward"),g({mode:"enter-phone"})},title:b({defaultMessage:"Verify Phone Number",id:"pOjRa/"}),subtitle:(0,t.jsx)("span",{children:"whatsapp"===f.sent_via?(0,t.jsx)(d.T,{defaultMessage:"We sent a code to {phone} via WhatsApp. Please enter it below to verify your number.",id:"vJq30S",values:{phone:(0,t.jsx)("b",{children:(0,t.jsx)(B.FormattedPhone,{className:"text-primary",phone:f.phone_number})})}}):(0,t.jsx)(d.T,{defaultMessage:"We sent a code to <phone></phone>. Please enter it below to verify your number.",id:"v4kLnF",values:{phone:()=>(0,t.jsx)("b",{children:(0,t.jsx)(B.FormattedPhone,{className:"text-primary",phone:f.phone_number})})}})}),onHeight:s,children:[(0,t.jsx)(l.MultiCodeInput,{autoFocus:!0,spread:!0,onFullCode:async e=>{await h.APIClient.post("/auth/sms/link-phone-number",{phone_number:f.phone_number,code:e}),await n()}}),(0,t.jsx)(N,{className:"pt-3 mt-1",successMessage:b({defaultMessage:"We resent the code to your phone number.",id:"fZ9r6q"}),onResend:async()=>h.APIClient.post("/auth/sms/request-verification-code",{phone_number:f.phone_number,ensure_phone_number_free:!0},{waitForTurnstile:w})})]},"link-phone-confirm")]})}],343404);var W=e.i(30071),W=W,z=e.i(853520),z=z,U=e.i(532551),H=e.i(127164),H=H,D=e.i(172965);let q=[{icon:(0,t.jsx)(z.default,{}),titleKey:e=>e({defaultMessage:"Sign in without password or code",id:"fZCL3y",description:"Benefit of using passkeys."})},{icon:(0,t.jsx)(U.Lock16Icon,{}),titleKey:e=>e({defaultMessage:"Encrypted by your device",id:"7wZ9+4",description:"Benefit of using passkeys."})},{icon:(0,t.jsx)(W.default,{}),titleKey:e=>e({defaultMessage:"Works across all your devices",id:"/qxxc7",description:"Benefit of using passkeys."})}],V=e=>{let{benefit:a}=e,i=(0,m.useT)();return(0,t.jsxs)("div",{className:"flex-center gap-25",children:[(0,t.jsx)("div",{className:"text-tertiary-alpha",children:a.icon}),(0,t.jsx)("div",{children:a.titleKey(i)})]})};e.s(["PasskeyOnboardingStep",0,e=>{let{onHeight:a,onNext:s}=e,n=(0,m.useT)(),o=(0,D.usePasskeyRegistration)(),[l,c]=(0,i.useState)(!1),d=async()=>{c(!0),await (0,u.callWithToast)(async()=>{await o(),await s()},{success:n({defaultMessage:"Passkey added successfully.",id:"Wdw1Ag"}),error:n({defaultMessage:"There was a problem adding your passkey.",id:"MTtjm8",description:"Error toast."})}),c(!1)};return(0,t.jsxs)(_,{onBack:"none",icon:(0,t.jsx)(H.default,{}),title:n({defaultMessage:"Create a Passkey",id:"1iQXdu",description:"Title for onboarding step that explains to a user how to set up passkeys."}),subtitle:n({defaultMessage:"Passkeys are a fast and secure way to sign in.",id:"yjK3Sw"}),onHeight:a,children:[(0,t.jsx)("div",{className:"flex-column gap-25 py-05",children:q.map((e,a)=>(0,t.jsx)(V,{benefit:e},a))}),(0,t.jsx)("div",{className:"text-tertiary-alpha fs-xs mt-25 mb-3",children:n({defaultMessage:"Your existing password will still work. You can update your sign in methods at any time.",id:"QxEvrH"})}),(0,t.jsxs)("div",{className:"flex-column gap-2 pt-1",children:[(0,t.jsx)(r.LuxButton,{label:n({defaultMessage:"Create Passkey",id:"c2tvd8"}),fullWidth:!0,onClick:d,disabled:l}),(0,t.jsx)(r.LuxButton,{label:n(p.CT.NotNow),fullWidth:!0,variant:"solid",color:"light",onClick:s,disabled:l})]})]},"passkey-onboarding")}],396863);var G=e.i(672183);let K=e=>{let{state:a,setState:r,onAuthResponse:s}=e,n=(0,m.useT)(),o=(0,i.useRef)(null),{waitForTurnstile:u}=(0,F.useCaptchaContext)();return(0,G.useOnMount)(()=>{setTimeout(()=>{var e;return null==(e=o.current)?void 0:e.focus()},1)}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.MultiCodeInput,{ref:o,spread:!0,onFullCode:async e=>{let t=await h.APIClient.post("/auth/sms/confirm-verification-code",{phone_number:a.phone_number,code:e});t.user_exists?await s(t,"sms-code"):r({mode:"enter-email",phone_number:a.phone_number,sms_verification_token:t.sms_verification_token,direction:"forward"})}}),(0,t.jsxs)("div",{className:"flex-center gap-2 spread pt-3 mt-1 spread",children:[(0,t.jsx)(c.PasteCodeButton,{onCode:async e=>{var t;return null==(t=o.current)?void 0:t.onCode(e)}}),(0,t.jsx)(N,{successMessage:n({defaultMessage:"We resent the code to your phone number.",id:"ulIPha",description:"Success message when an auth code has been resent."}),onResend:async()=>h.APIClient.post("/auth/sms/request-verification-code",{phone_number:a.phone_number},{waitForTurnstile:u})})]})]})},Y=e=>{let{state:i,setState:r,onAuthResponse:n}=e,l=(0,m.useT)();return(0,t.jsx)(a.Formik,{initialValues:{email:""},onSubmit:async e=>{let{email:t}=e;await (0,u.callWithToast)(async()=>{let e=await h.APIClient.post("/auth/sms/link-email",{email:t,sms_verification_token:i.sms_verification_token,phone_number:i.phone_number});e.require_email_verification?r({mode:"confirm-email",phone_number:i.phone_number,sms_verification_token:i.sms_verification_token,email:t,direction:"forward"}):await n(e,"sms-code")},{error:l({defaultMessage:"There was a problem linking your account to this email.",id:"RasCxM",description:"Error toast."})})},children:(0,t.jsxs)(a.Form,{children:[(0,t.jsx)(s.LuxInputField,{name:"email",className:"mb-3",autoFocus:!0,placeholder:l({defaultMessage:"you@email.com",id:"ua/SkX",description:"Email input placeholder. Keep the whole thing in ASCII."})}),(0,t.jsx)(o.LuxSubmitButton,{label:l(p.CT.Continue),fullWidth:!0}),(0,t.jsx)("div",{className:"fs-sm text-tertiary-alpha mt-3",children:(0,t.jsx)(d.T,{defaultMessage:"If you have attended Luma events in the past, enter the email you used to register to link your account.",id:"gtTAyn"})})]})})},J=e=>{let{state:a,onAuthResponse:r}=e,s=(0,i.useRef)(null),n=(0,m.useT)();return(0,G.useOnMount)(()=>{setTimeout(()=>{var e;return null==(e=s.current)?void 0:e.focus()},1)}),(0,t.jsxs)("div",{children:[(0,t.jsx)(l.MultiCodeInput,{ref:s,spread:!0,onFullCode:async e=>{let t=await h.APIClient.post("/auth/sms/link-email-with-code",{email_code:e,sms_verification_token:a.sms_verification_token,phone_number:a.phone_number,email:a.email});await r(t,"sms-code")}}),(0,t.jsx)(N,{className:"pt-3 mt-1",successMessage:n({defaultMessage:"We resent the code to your email.",id:"WM9chJ",description:"Success message when an auth code has been resent."}),onResend:async()=>h.APIClient.post("/auth/email/send-sign-in-code",{email:a.email})})]})};e.s(["PhoneFlow",0,e=>{let{phone_number:a,sent_via:r,onBack:s,onHeight:n,onAuthResponse:o}=e,l=(0,m.useT)(),{setDirection:c}=C(),[u,p]=(0,i.useState)({mode:"confirm-phone",phone_number:a,sent_via:r}),h=e=>{let{direction:t,...a}=e;c(t),p(a)},f={state:u,onAuthResponse:o,setState:h};return(0,t.jsxs)(t.Fragment,{children:["confirm-phone"===u.mode&&(0,t.jsx)(_,{onBack:s,title:l({defaultMessage:"Enter Code",id:"lbUuKB",description:"Auth flow. Modal title when entering an auth code."}),subtitle:(0,t.jsx)("span",{children:"whatsapp"===u.sent_via?(0,t.jsx)(d.T,{defaultMessage:"We sent a code to {phone} via WhatsApp. Please enter it below.",id:"uaUbVG",values:{phone:(0,t.jsx)("b",{children:(0,t.jsx)(B.FormattedPhone,{className:"text-primary",phone:u.phone_number})})}}):(0,t.jsx)(d.T,{defaultMessage:"We sent a code to {phone}. Please enter it below.",id:"2p/cd6",values:{phone:(0,t.jsx)("b",{children:(0,t.jsx)(B.FormattedPhone,{className:"text-primary",phone:u.phone_number})})}})}),onHeight:n,children:(0,t.jsx)(K,{...f,state:u})},"confirm-phone"),"enter-email"===u.mode&&(0,t.jsx)(_,{onBack:s,title:l({defaultMessage:"Email Address",id:"aHOou+",description:"Auth flow. Modal title when entering an email address."}),subtitle:l({defaultMessage:"We’ve verified your phone number. Please choose an email to link to your account.",id:"sp/ezR",description:"Auth flow. Modal subtitle when entering an email address after successful phone verification."}),onHeight:n,children:(0,t.jsx)(Y,{...f,state:u})},"enter-email"),"confirm-email"===u.mode&&(0,t.jsx)(_,{onBack:()=>h({mode:"enter-email",phone_number:u.phone_number,sms_verification_token:u.sms_verification_token,direction:"backward"}),title:l({defaultMessage:"Verify Your Email",id:"8aTrca",description:"Auth flow. Modal title when verifying an email address."}),subtitle:(0,t.jsx)("span",{children:(0,t.jsx)(d.T,{defaultMessage:"We emailed a code to {email}. Please enter it below.",id:"g/bmCP",description:"Auth flow. Modal subtitle when verifying an email address.",values:{email:(0,t.jsx)("span",{className:"text-primary",children:u.email})}})}),onHeight:n,children:(0,t.jsx)(J,{...f,state:u})},"confirm-email")]})}],17386);var Z=e.i(532127),X=e.i(522476),Q=e.i(101448),$=e.i(834300),ee=e.i(829900),et=e.i(465028);e.s(["ProfileStep",0,e=>{var i;let{onHeight:r,onNext:n}=e,{user:l,refreshUser:c}=(0,ee.useUserContext)(),d=(0,m.useT)();return l?(0,t.jsx)(_,{icon:(0,t.jsx)(Q.UserEditModalIcon,{}),title:d({defaultMessage:"Complete Your Profile",id:"kZoWfb"}),subtitle:d({defaultMessage:"Add a name, photo and short bio so your friends can recognize you.",id:"bNHrqa"}),onBack:"none",onHeight:r,children:(0,t.jsx)(a.Formik,{initialValues:{name:null!=(i=l.name)?i:"",avatar_url:l.avatar_url,bio_short:""},onSubmit:async e=>{let{avatar_url:t,name:a,bio_short:i}=e;await (0,u.callWithToast)(async()=>{await h.APIClient.post("/user/update",{avatar_url:t,name:a,bio_short:i}),await c(),await n()},{error:d({defaultMessage:"There was a problem updating your profile.",id:"2xTZuJ",description:"Error toast."})})},children:e=>{let{values:i,setFieldValue:r,errors:n}=e;return(0,t.jsxs)(a.Form,{children:[(0,t.jsxs)("div",{className:"flex-end gap-3",children:[(0,t.jsx)(a.Field,{name:"name",validate:e=>{if(null==e||""===e)return d({defaultMessage:"Please enter your name.",id:"ju8+ct",description:"Name input error message when name is required, but the value is empty."})},children:()=>(0,t.jsx)(s.LuxInput,{value:i.name,onChange:e=>r("name",e),className:"flex-1",placeholder:d({defaultMessage:"Your Name",id:"e51TVy",description:"Placeholder for name input on onboarding."}),label:d({defaultMessage:"Name",id:"HAlOn1"}),suppress1Password:!0,inputProps:{maxLength:$.UserTypes.MAX_NAME_LENGTH},type:"name",autoFocus:!0,error:!!n.name})}),(0,t.jsx)(Z.AvatarUploadField,{name:"avatar_url",size:60,destination:{bucket:"images.lumacdn.com",folder:"avatars"},createPresignedUrl:et.createPresignedUrl})]}),(0,t.jsx)(X.LuxTextareaField,{name:"bio_short",label:d({defaultMessage:"Bio",id:"2W0f9h"}),textAreaProps:{maxLength:$.UserTypes.MAX_BIO_LENGTH},placeholder:d({defaultMessage:"Share a little about your background and interests.",id:"BUPA0J",description:"User profile bio input placeholder."}),minRows:2,className:"mt-3"}),(0,t.jsx)(o.LuxSubmitButton,{label:d({defaultMessage:"Let’s Go",id:"7703kP",description:"Button on final step of onboarding."}),fullWidth:!0,className:"mt-4"})]})}})}):null}],580838);var ea=e.i(687836);let ei=e=>{let{size:a=400}=e;return(0,t.jsxs)("div",{className:f.default.dynamic([["c81498997fd48cfd",[a]]])+" success relative",children:[(0,t.jsx)("div",{className:f.default.dynamic([["c81498997fd48cfd",[a]]])+" orb orb-4"}),(0,t.jsx)("div",{className:f.default.dynamic([["c81498997fd48cfd",[a]]])+" orb orb-1"}),(0,t.jsx)("div",{className:f.default.dynamic([["c81498997fd48cfd",[a]]])+" orb orb-2"}),(0,t.jsx)("div",{className:f.default.dynamic([["c81498997fd48cfd",[a]]])+" orb orb-3"}),(0,t.jsx)(f.default,{id:"c81498997fd48cfd",dynamic:[a],children:".success.__jsx-style-dynamic-selector{filter:blur(90px);--size:".concat(a,"px;width:var(--size);height:var(--size);transition:opacity var(--transition-duration)var(--transition-fn);animation:15s linear infinite rotate-360;position:relative}@keyframes rotate-360{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.orb.__jsx-style-dynamic-selector{width:var(--orb-size);height:var(--orb-size);animation:pulse-scale 4s var(--transition-fn)infinite,scale-in .6s var(--transition-fn)forwards;border-radius:100%;position:absolute}.orb-1.__jsx-style-dynamic-selector{--orb-size:calc(.5*var(--size));background:#908dfa;top:25%}.orb-2.__jsx-style-dynamic-selector{--orb-size:calc(.6*var(--size));background:rgba(205,93,244,.667);right:10%}.orb-3.__jsx-style-dynamic-selector{--orb-size:calc(.4*var(--size));background:rgba(159,93,244,.867);top:40%;left:30%}.orb-4.__jsx-style-dynamic-selector{--orb-size:calc(.5*var(--size));background:#f45d66;bottom:0;right:10%}@keyframes scale-in{0%{transform:scale(.6)}to{transform:scale(1)}}@keyframes pulse-scale{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}")})]})};e.s(["SignInSuccessState",0,()=>{var e;let a=(0,m.useT)(),{user:i}=(0,ee.useUserContext)();return(0,t.jsxs)(g.m.div,{className:"success-container",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{...b.MOTION_TRANSITION,duration:.6},children:[(0,t.jsxs)("div",{className:"jsx-f41fc464d6afbd4c success",children:[(0,t.jsx)("div",{className:"jsx-f41fc464d6afbd4c orbs",children:(0,t.jsx)(ei,{size:350})}),(0,t.jsx)("div",{className:"jsx-f41fc464d6afbd4c message-container",children:(0,t.jsxs)("div",{className:"jsx-f41fc464d6afbd4c flex-column flex-center-center success-message text-center",children:[(0,t.jsx)("div",{className:"jsx-f41fc464d6afbd4c avatar-wrapper pb-3",children:(0,t.jsx)(g.m.div,{className:"avatar avatar-real",initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{...b.MOTION_TRANSITION,duration:.6},children:(0,t.jsx)(ea.Avatar,{url:null!=(e=null==i?void 0:i.avatar_url)?e:null,px:80})})}),(0,t.jsx)(g.m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...b.MOTION_TRANSITION,duration:.6,delay:.15},children:(0,t.jsx)("div",{className:"jsx-f41fc464d6afbd4c welcome pt-2 pb-1",children:(0,t.jsx)(d.T,{defaultMessage:"Welcome to Luma",id:"mK9I2B"})})}),(0,t.jsx)(g.m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{...b.MOTION_TRANSITION,duration:.6,delay:.25},children:(0,t.jsx)("div",{className:"jsx-f41fc464d6afbd4c signed-in",children:(null==i?void 0:i.name)||a({defaultMessage:"Signed In",id:"OowU1q",description:"Sign in success state. Displayed under avatar in place of the user's name if it is empty."})})})]})})]}),(0,t.jsx)(f.default,{id:"f41fc464d6afbd4c",children:'.success-container{max-height:100vh;position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}.success.jsx-f41fc464d6afbd4c{position:absolute;top:15vh;left:50%;transform:translate(-50%)}.message-container.jsx-f41fc464d6afbd4c{justify-content:center;width:300px;display:flex;position:absolute;top:150px;left:50%;transform:translate(-50%)}.message-container.jsx-f41fc464d6afbd4c .avatar{border-radius:100%;position:relative;box-shadow:inset 0 -8px 8px rgba(0,0,0,.04)}.message-container.jsx-f41fc464d6afbd4c .avatar:after{content:"";border:2px solid var(--white-opacity-32);border-radius:100%;position:absolute;top:-2px;bottom:-2px;left:-2px;right:-2px}.message-container.jsx-f41fc464d6afbd4c .success-message.jsx-f41fc464d6afbd4c{position:absolute}.message-container.jsx-f41fc464d6afbd4c .welcome.jsx-f41fc464d6afbd4c{color:var(--white);font-size:var(--font-size-xxxl);font-weight:var(--font-weight-bold)}.message-container.jsx-f41fc464d6afbd4c .signed-in.jsx-f41fc464d6afbd4c{font-size:var(--font-size-lg);color:var(--white-opacity-80)}'})]},"success")}],879340)},523080,e=>{"use strict";var t=e.i(391398),a=e.i(164930),i=e.i(427133),r=e.i(424017),s=e.i(31197),n=e.i(992354),o=e.i(897983),l=e.i(922323),c=e.i(86316),u=e.i(655794),d=e.i(383294),m=e.i(581254);let p=e=>{let{email:n,onHide:d}=e,p=(0,c.useT)(),{data:f}=(0,m.useAPI)({path:"/email/has-issue",args:{email:n},swrConfig:{refreshInterval:5e3}});return(0,t.jsxs)("div",{children:[(0,t.jsx)(i.LuxAlertTop,{icon:(0,t.jsx)(o.default,{}),title:p({defaultMessage:"Reactivate Your Email",id:"emnFoa"}),desc:(0,t.jsxs)("div",{className:"flex-column gap-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)(l.T,{defaultMessage:"Your email is inactive either because it bounced or because you marked a Luma email as spam.",id:"yb/j+a"})}),(0,t.jsx)("div",{children:(0,t.jsx)(l.T,{defaultMessage:"To reactivate your email, please send an email from {your_email} to {unbounce_email}.",id:"dEGvvF",values:{your_email:(0,t.jsx)("span",{className:"fw-medium",children:n},"your-email"),unbounce_email:(0,t.jsx)(a.ExternalLink,{href:"mailto:".concat(h,"?subject=Reactivate"),className:"fw-medium",children:h},"unbounce-email")}})})]})}),(0,t.jsx)(s.LuxCollapse,{show:(null==f?void 0:f.has_issue)===!1,children:(0,t.jsxs)("div",{className:"pt-3 flex-column gap-3",children:[(0,t.jsx)("div",{className:"text-success",children:(0,t.jsx)(l.T,{defaultMessage:"Thank you for reactivating your email! You can now continue using that email.",id:"sh5PLj",description:"Email Bounced Modal. Shown in a modal where the user reactivates their email after it bounced."})}),(0,t.jsx)(r.LuxButton,{label:p(u.CT.Continue),onClick:d,fullWidth:!0})]})})]})},h=d.LumaEmails.unbounce;e.s(["EmailBouncedModal",0,e=>{let{email:a,onHide:i}=e;return(0,t.jsx)(n.LuxModalContainer,{onHide:i,variant:"lux-alert",children:a&&(0,t.jsx)(p,{email:a,onHide:i})})}])},656711,e=>{"use strict";var t=e.i(391398),a=e.i(359626),i=e.i(272043),r=e.i(498817),s=e.i(301027),n=e.i(191788),o=e.i(405155),l=e.i(872514),c=e.i(82602),u=e.i(86316),d=e.i(900511),m=e.i(829900),p=e.i(300662),h=e.i(343404),f=e.i(396863),g=e.i(17386),x=e.i(580838),w=e.i(253327),b=e.i(879340);e.i(580417);var v=e.i(409281),y=e.i(932721),j=e.i(538865),C=e.i(203828),k=e.i(427133),T=e.i(424017),_=e.i(454657),E=e.i(715512),A=e.i(992354),R=e.i(588083),M=e.i(883720),N=e.i(295787),S=e.i(106946),I=e.i(672183),P=e.i(988124),O=e.i(808633),L=e.i(961455),F=e.i(212511),B=e.i(196258),W=e.i(572721),z=e.i(822008),U=e.i(109001),H=e.i(761619),D=e.i(231436),q=e.i(523080),V=e.i(348688),G=e.i(884194),K=e.i(551523);let Y=e=>{let{onAuth:a,...i}=e,r=(0,u.useT)();return(0,t.jsx)(T.LuxButton,{onClick:async()=>{await (0,P.callWithToast)(async()=>{let e,{options_json:t}=await V.APIClient.post("/auth/passkey/request-authentication-options",{});try{e=await (0,y.startAuthentication)({optionsJSON:t})}catch(e){console.error(e);return}let i=await V.APIClient.post("/auth/sign-in-with-passkey",{authentication_response_json:e});await a(i,"passkey")},{error:r({defaultMessage:"Something went wrong. Please try signing in with a different method.",id:"2s5tpB"})})},...i})},J=e=>{let{onEmail:i,onHeight:r,onPhone:s,onAuthResponse:o}=e,[l,c]=(0,n.useState)(null),d=(0,N.useIsMounted)()&&(0,v.browserSupportsWebAuthn)(),m=(0,S.useModalState)(),p=(0,u.useT)();return(0,I.useOnMount)(()=>{let e=navigator.userAgent.toLowerCase();-1!=e.indexOf("instagram")?c("Instagram"):e.match(/fban|fbav/i)&&c("Facebook")}),(0,I.useOnMount)(async()=>{if((0,v.browserSupportsWebAuthn)())try{let{options_json:e}=await V.APIClient.post("/auth/passkey/request-authentication-options",{}),t=await (0,y.startAuthentication)({optionsJSON:e,useBrowserAutofill:!0}),a=await V.APIClient.post("/auth/sign-in-with-passkey",{authentication_response_json:t});await o(a,"passkey")}catch(e){}}),(0,t.jsx)(G.AuthStep,{onBack:"door",title:p({defaultMessage:"Welcome to Luma",id:"mK9I2B"}),subtitle:p({defaultMessage:"Please sign in or sign up below.",id:"6OefDm"}),onHeight:r,children:(0,t.jsxs)("div",{className:"jsx-e9675115e47e9673",children:[(0,t.jsx)(Z,{onEmail:i,onPhone:s}),(0,t.jsxs)("div",{className:"jsx-e9675115e47e9673 bottom",children:[(0,t.jsx)("div",{className:"jsx-e9675115e47e9673 divider"}),(0,t.jsxs)("div",{className:"jsx-e9675115e47e9673 flex-column gap-2",children:[l?(0,t.jsx)(T.LuxButton,{label:p({defaultMessage:"Sign in with Google",id:"Op5EHr"}),color:"light",fullWidth:!0,icon:(0,t.jsx)(L.default,{}),onClick:m.onShow}):(0,t.jsx)(K.GoogleSignInButton,{label:p({defaultMessage:"Sign in with Google",id:"Op5EHr"}),color:"light",fullWidth:!0,onAuth:o}),(0,t.jsx)(Y,{icon:(0,t.jsx)(O.PasskeyBrandIcon,{}),label:p({defaultMessage:"Sign in with Passkey",id:"c8TkuQ"}),color:"light",fullWidth:!0,onAuth:o,disabled:!d})]})]}),(0,t.jsx)(A.LuxModalContainer,{onHide:m.onHide,variant:"lux-alert",children:m.show&&(0,t.jsxs)("div",{className:"jsx-e9675115e47e9673",children:[(0,t.jsx)(k.LuxAlertTop,{icon:(0,t.jsx)(B.default,{}),title:p({defaultMessage:"Open Luma in the Browser",id:"bq4FV2"}),desc:p({defaultMessage:"Google doesn’t allow signing in from within {service}. To sign in with Google, please open the page in your browser app.",id:"0sgvc4"},{service:l})}),(0,t.jsx)(T.LuxButton,{label:p({defaultMessage:"Got It",id:"/uGhdL",description:"CTA button to close the modal."}),onClick:m.onHide,fullWidth:!0,color:"light",className:"mt-3"})]})}),(0,t.jsx)(a.default,{id:"e9675115e47e9673",children:".bottom.jsx-e9675115e47e9673{margin-bottom:-.5rem}.divider.jsx-e9675115e47e9673{margin:1rem calc(-1*var(--panel-padding));border-bottom:1px solid var(--divider-color)}"})]})},"start")},Z=e=>{let{onEmail:a,onPhone:i}=e,r=(0,n.useId)(),s=(0,C.useRouter)(),{country_code:o}=(0,H.useCountry)(),{waitForTurnstile:l}=(0,D.useCaptchaContext)(),c=(0,u.useT)(),[d,m]=(0,n.useState)(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Formik,{initialValues:{mode:"email",email:"string"==typeof s.query.email&&s.query.email||"",phone_number:""},onSubmit:async e=>{let{mode:t,email:r,phone_number:s}=e;if("phone"===t)await (0,P.callWithToast)(async()=>{let{sent_via:e}=await V.APIClient.post("/auth/sms/request-verification-code",{phone_number:s},{waitForTurnstile:l});i({phone_number:s,sent_via:e})},{error:c({defaultMessage:"There was an issue sending you a sign-in code.",id:"JyVOvN",description:"Error toast."})});else{let{error:e}=await (0,P.callWithToast)(async()=>{let e=await V.APIClient.post("/auth/email/start-with-email",{email:r});if(e.okta_config){window.location.href=e.okta_config.authorization_url;return}a({email:r,has_password:e.has_password})},{error:c({defaultMessage:"There was an issue signing in with that email.",id:"G9FI7S",description:"Error toast."})});e&&e instanceof U.FetchError&&400===e.status&&"email-bounced"===e.code&&m(r)}},children:e=>{let{values:a,setFieldValue:i}=e;return(0,t.jsxs)(j.Form,{className:"highlight-label",children:[(0,t.jsxs)("div",{className:"flex-center spread",children:[(0,t.jsx)(E.LuxInputLabel,{htmlFor:r,text:"phone"===a.mode?c({defaultMessage:"Phone Number",id:"+GIvWO",description:"Phone number input label. Should be short."}):c({defaultMessage:"Email",id:"G1cLyX",description:"Email input label. Should be short."}),className:"pt-1 pb-2 mb-0"}),(0,t.jsx)("div",{className:"pt-2 pb-2",children:(0,t.jsx)(T.LuxButton,{icon:"email"===a.mode?(0,t.jsx)(W.default,{style:{overflow:"visible"}}):(0,t.jsx)(F.default,{style:{overflow:"visible"}}),label:"email"===a.mode?c({defaultMessage:"Use Phone Number",id:"iFrSKl",description:"Button CTA on sign in screen. This should be no longer than 15 characters if possible."}):c({defaultMessage:"Use Email",id:"W9bhve",description:"Button CTA on sign in screen. This should be no longer than 15 characters if possible."}),variant:"link",size:"small",onClick:()=>i("mode","email"===a.mode?"phone":"email"),color:"secondary"})})]}),"phone"===a.mode?(0,t.jsx)(R.LuxPhoneNumberInputField,{id:r,name:"phone_number",className:"mb-3",required:!0,autoFocus:!0,countryCode:o}):(0,t.jsx)(j.Field,{name:"email",validate:e=>{if(null==e||""===e||!(0,z.isValidEmail)(e))return c({defaultMessage:"Please enter your email.",id:"Xk1hnb",description:"Email input error when value is invalid."})},children:()=>(0,t.jsx)(_.LuxInput,{suppress1Password:!0,inputProps:{autoComplete:"webauthn"},value:a.email,onChange:e=>i("email",e),id:r,type:"email",placeholder:c({defaultMessage:"you@email.com",id:"ua/SkX",description:"Email input placeholder. Keep the whole thing in ASCII."}),autoFocus:!0})}),(0,t.jsx)(M.LuxSubmitButton,{className:"mt-3",label:"email"===a.mode?c({defaultMessage:"Continue with Email",id:"9OO7kO",description:"Continue to the next step using email address."}):c({defaultMessage:"Continue with Phone",id:"rPf+0M",description:"Continue to the next step using phone number."}),fullWidth:!0})]})}}),(0,t.jsx)(q.EmailBouncedModal,{email:d,onHide:()=>m(null)})]})};var X=e.i(373641),Q=e.i(307292),$=e.i(781706);let ee=e=>{let{secret:a,user_api_id:i,sign_in_method:r,onBack:s,onHeight:o,onAuthResponse:l}=e,c=(0,u.useT)(),d=(0,$.useFrontAuthSecret)(),m=(0,n.useRef)(null);return(0,t.jsxs)(G.AuthStep,{onBack:s,title:c({defaultMessage:"Two-Factor Authentication",id:"42/p+R",description:"Auth flow. Modal title when entering a two-factor code."}),subtitle:c({defaultMessage:"Please enter the code generated by your authenticator app.",id:"BBrQ/U",description:"Auth flow. Modal subtitle when entering a two-factor code."}),onHeight:o,children:[(0,t.jsx)(X.MultiCodeInput,{ref:m,autoFocus:!0,spread:!0,onFullCode:async e=>{let t=await V.APIClient.post("/auth/sign-in-with-two-factor",{two_factor_otp:e,two_factor_shallow_secret:a,user_api_id:i,front_auth_secret:d,sign_in_method:r});await l(t,r)}}),(0,t.jsx)("div",{className:"mt-1 pt-3",children:(0,t.jsx)(Q.PasteCodeButton,{onCode:async e=>{var t;return null==(t=m.current)?void 0:t.onCode(e)}})})]},"two-factor")};function et(e){let{onSignedIn:v,showBorder:y}=e,j=(0,u.useT)(),[C,k]=(0,n.useState)("forward"),T=(0,n.useRef)(null),{user:_,signIn:E}=(0,m.useUserContext)(),[A,R]=(0,n.useState)({mode:"start"}),M=(0,n.useCallback)((e,t)=>{k(e),R(t)},[k,R]),[N,S]=(0,n.useState)(null),I=(0,n.useCallback)(e=>{(!N||"start"===A.mode)&&T.current&&(T.current.style.height=e+"px"),S(e)},[S,N,A]),P=(0,n.useCallback)(async()=>{M("forward",{mode:"success-orbs"}),await (0,d.sleep)(1500),await v()},[v,M]),O=(0,n.useCallback)(async(e,t)=>{if(e.signed_in){if(!e){(0,c.toastError)(j({defaultMessage:"There was an issue signing you in.",id:"Wp7JwX",description:"Sign in card. Error toast when signing in fails."})),M("backward",{mode:"start"});return}await E({user:e.user});let{last_signed_in_at:t,phone_number:a,name:i,has_passkey:r}=e.user;t||a?r?i?await P():M("forward",{mode:"profile"}):M("forward",{mode:"passkey"}):M("forward",{mode:"link-phone"})}else M("forward",{mode:"2fa",two_factor_shallow_secret:e.two_factor_shallow_secret,user_api_id:e.user_api_id,sign_in_method:t})},[E,M,P,j]);return(0,n.useEffect)(()=>{_||M("backward",{mode:"start"}),_&&"start"===A.mode&&P()},[_]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(w.SignInProvider,{direction:C,setDirection:k,children:(0,t.jsx)(r.AnimatePresence,{initial:!1,children:"success-orbs"!==A.mode?(0,t.jsx)(s.m.div,{transition:{...l.MOTION_TRANSITION,duration:.3},animate:N?{opacity:1}:void 0,exit:{opacity:0,scale:.8,filter:"blur(20px)"},className:(0,i.default)("onboarding-card overflow-hidden",{"show-border":y}),style:{opacity:+!!N},children:(0,t.jsx)(s.m.div,{className:"relative",initial:!1,transition:l.MOTION_TRANSITION,animate:{height:null!=N?N:void 0},ref:T,children:(0,t.jsxs)(r.AnimatePresence,{initial:!1,custom:C,children:["start"===A.mode&&(0,t.jsx)(J,{onHeight:I,onEmail:e=>{let{email:t,has_password:a}=e;return M("forward",{mode:"email",email:t,has_password:a})},onPhone:e=>{let{phone_number:t,sent_via:a}=e;return M("forward",{mode:"phone",phone_number:t,sent_via:a})},onAuthResponse:O}),"phone"===A.mode&&(0,t.jsx)(g.PhoneFlow,{onBack:()=>M("backward",{mode:"start"}),phone_number:A.phone_number,sent_via:A.sent_via,onHeight:I,onAuthResponse:O}),"email"===A.mode&&(0,t.jsx)(p.EmailFlow,{email:A.email,has_password:A.has_password,onBack:()=>M("backward",{mode:"start"}),onHeight:I,onAuthResponse:O}),"2fa"===A.mode&&(0,t.jsx)(ee,{secret:A.two_factor_shallow_secret,user_api_id:A.user_api_id,sign_in_method:A.sign_in_method,onBack:()=>M("backward",{mode:"start"}),onHeight:I,onAuthResponse:O}),"link-phone"===A.mode&&(0,t.jsx)(h.LinkPhoneFlow,{onHeight:I,onNext:async()=>{(null==_?void 0:_.has_passkey)?(null==_?void 0:_.name)?await P():M("forward",{mode:"profile"}):M("forward",{mode:"passkey"})}},"link-phone"),"passkey"===A.mode&&(0,t.jsx)(f.PasskeyOnboardingStep,{onHeight:I,onNext:async()=>{(null==_?void 0:_.name)?await P():M("forward",{mode:"profile"})}},"passkey-onboarding"),"profile"===A.mode&&(0,t.jsx)(x.ProfileStep,{onHeight:I,onNext:async()=>{await P()}},"complete-profile")]})})},"normal"):(0,t.jsx)(b.SignInSuccessState,{})})}),(0,t.jsx)(a.default,{id:"b378fe220761d611",dynamic:[o.ResponsiveBreakpoint.tiny],children:'.onboarding-card{--panel-padding:1.5rem;--input-border-color:var(--opacity-second-light);--card-bg-color:var(--bg-opacity-80);padding:var(--panel-padding);background:var(--card-bg-color);-webkit-backdrop-filter:var(--backdrop-blur);backdrop-filter:var(--backdrop-blur);border-radius:1.25rem;flex:1;max-width:360px;height:-moz-fit-content;height:fit-content;position:relative;overflow:visible}.onboarding-card.show-border:after{content:"";border:1px solid var(--opacity-second-light);pointer-events:none;border-radius:calc(1.25rem + 1px);position:absolute;top:-1px;bottom:-1px;left:-1px;right:-1px}.theme-root.dark .onboarding-card{--card-bg-color:var(--opacity-4);--input-bg-color:var(--bg-opacity-32);--input-hover-bg-color:var(--bg-opacity-48);--input-focus-bg-color:var(--bg-opacity-64)}@media (max-width:'.concat(o.ResponsiveBreakpoint.tiny,"){.onboarding-card{border-radius:1rem}.onboarding-card.show-border:after{border-radius:calc(1rem + 1px)}}")})]})}e.s(["SignInCard",()=>et],656711)}]);

//# debugId=914d5998-3880-68f7-5a5f-73c49d73fcb3
//# sourceMappingURL=2a927b999665b779.js.map